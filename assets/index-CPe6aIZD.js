(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const CD="modulepreload",AD=function(e){return"/fish-management/"+e},J_={},Q0=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(r.map(c=>{if(c=AD(c),c in J_)return;J_[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":CD,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function E3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var C3={exports:{}},ig={},A3={exports:{}},ft={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Dh=Symbol.for("react.element"),DD=Symbol.for("react.portal"),MD=Symbol.for("react.fragment"),zD=Symbol.for("react.strict_mode"),ID=Symbol.for("react.profiler"),RD=Symbol.for("react.provider"),LD=Symbol.for("react.context"),$D=Symbol.for("react.forward_ref"),FD=Symbol.for("react.suspense"),qD=Symbol.for("react.memo"),BD=Symbol.for("react.lazy"),Z_=Symbol.iterator;function UD(e){return e===null||typeof e!="object"?null:(e=Z_&&e[Z_]||e["@@iterator"],typeof e=="function"?e:null)}var T3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D3=Object.assign,M3={};function ad(e,t,r){this.props=e,this.context=t,this.refs=M3,this.updater=r||T3}ad.prototype.isReactComponent={};ad.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ad.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z3(){}z3.prototype=ad.prototype;function qw(e,t,r){this.props=e,this.context=t,this.refs=M3,this.updater=r||T3}var Bw=qw.prototype=new z3;Bw.constructor=qw;D3(Bw,ad.prototype);Bw.isPureReactComponent=!0;var eN=Array.isArray,I3=Object.prototype.hasOwnProperty,Uw={current:null},R3={key:!0,ref:!0,__self:!0,__source:!0};function L3(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)I3.call(t,n)&&!R3.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Dh,type:e,key:i,ref:o,props:s,_owner:Uw.current}}function WD(e,t){return{$$typeof:Dh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ww(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dh}function VD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tN=/\/+/g;function J0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VD(""+e.key):t.toString(36)}function Xf(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dh:case DD:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+J0(o,0):n,eN(s)?(r="",e!=null&&(r=e.replace(tN,"$&/")+"/"),Xf(s,t,r,"",function(d){return d})):s!=null&&(Ww(s)&&(s=WD(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tN,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",eN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+J0(i,l);o+=Xf(i,t,r,c,s)}else if(c=UD(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+J0(i,l++),o+=Xf(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function af(e,t,r){if(e==null)return e;var n=[],s=0;return Xf(e,n,"","",function(i){return t.call(r,i,s++)}),n}function HD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mn={current:null},Qf={transition:null},KD={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:Uw};function $3(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:af,forEach:function(e,t,r){af(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return af(e,function(){t++}),t},toArray:function(e){return af(e,function(t){return t})||[]},only:function(e){if(!Ww(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=ad;ft.Fragment=MD;ft.Profiler=ID;ft.PureComponent=qw;ft.StrictMode=zD;ft.Suspense=FD;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KD;ft.act=$3;ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=D3({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Uw.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I3.call(t,c)&&!R3.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Dh,type:e.type,key:s,ref:i,props:n,_owner:o}};ft.createContext=function(e){return e={$$typeof:LD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RD,_context:e},e.Consumer=e};ft.createElement=L3;ft.createFactory=function(e){var t=L3.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:$D,render:e}};ft.isValidElement=Ww;ft.lazy=function(e){return{$$typeof:BD,_payload:{_status:-1,_result:e},_init:HD}};ft.memo=function(e,t){return{$$typeof:qD,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=Qf.transition;Qf.transition={};try{e()}finally{Qf.transition=t}};ft.unstable_act=$3;ft.useCallback=function(e,t){return mn.current.useCallback(e,t)};ft.useContext=function(e){return mn.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return mn.current.useDeferredValue(e)};ft.useEffect=function(e,t){return mn.current.useEffect(e,t)};ft.useId=function(){return mn.current.useId()};ft.useImperativeHandle=function(e,t,r){return mn.current.useImperativeHandle(e,t,r)};ft.useInsertionEffect=function(e,t){return mn.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return mn.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return mn.current.useMemo(e,t)};ft.useReducer=function(e,t,r){return mn.current.useReducer(e,t,r)};ft.useRef=function(e){return mn.current.useRef(e)};ft.useState=function(e){return mn.current.useState(e)};ft.useSyncExternalStore=function(e,t,r){return mn.current.useSyncExternalStore(e,t,r)};ft.useTransition=function(){return mn.current.useTransition()};ft.version="18.3.1";A3.exports=ft;var b=A3.exports;const z=kt(b),F3=E3({__proto__:null,default:z},[b]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var GD=b,YD=Symbol.for("react.element"),XD=Symbol.for("react.fragment"),QD=Object.prototype.hasOwnProperty,JD=GD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZD={key:!0,ref:!0,__self:!0,__source:!0};function q3(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)QD.call(t,n)&&!ZD.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:YD,type:e,key:i,ref:o,props:s,_owner:JD.current}}ig.Fragment=XD;ig.jsx=q3;ig.jsxs=q3;C3.exports=ig;var a=C3.exports,B3={exports:{}},Jn={},U3={exports:{}},W3={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(L,G){var ee=L.length;L.push(G);e:for(;0<ee;){var ne=ee-1>>>1,R=L[ne];if(0<s(R,G))L[ne]=G,L[ee]=R,ee=ne;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],ee=L.pop();if(ee!==G){L[0]=ee;e:for(var ne=0,R=L.length,Y=R>>>1;ne<Y;){var se=2*(ne+1)-1,oe=L[se],K=se+1,U=L[K];if(0>s(oe,ee))K<R&&0>s(U,oe)?(L[ne]=U,L[K]=ee,ne=K):(L[ne]=oe,L[se]=ee,ne=se);else if(K<R&&0>s(U,ee))L[ne]=U,L[K]=ee,ne=K;else break e}}return G}function s(L,G){var ee=L.sortIndex-G.sortIndex;return ee!==0?ee:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(L){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=L)n(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(d)}}function w(L){if(p=!1,j(L),!g)if(r(c)!==null)g=!0,F(k);else{var G=r(d);G!==null&&V(w,G.startTime-L)}}function k(L,G){g=!1,p&&(p=!1,y(O),O=-1),m=!0;var ee=f;try{for(j(G),h=r(c);h!==null&&(!(h.expirationTime>G)||L&&!T());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var R=ne(h.expirationTime<=G);G=e.unstable_now(),typeof R=="function"?h.callback=R:h===r(c)&&n(c),j(G)}else n(c);h=r(c)}if(h!==null)var Y=!0;else{var se=r(d);se!==null&&V(w,se.startTime-G),Y=!1}return Y}finally{h=null,f=ee,m=!1}}var N=!1,S=null,O=-1,P=5,$=-1;function T(){return!(e.unstable_now()-$<P)}function I(){if(S!==null){var L=e.unstable_now();$=L;var G=!0;try{G=S(!0,L)}finally{G?D():(N=!1,S=null)}}else N=!1}var D;if(typeof v=="function")D=function(){v(I)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,q=E.port2;E.port1.onmessage=I,D=function(){q.postMessage(null)}}else D=function(){x(I,0)};function F(L){S=L,N||(N=!0,D())}function V(L,G){O=x(function(){L(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,F(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var ee=f;f=G;try{return L()}finally{f=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=f;f=L;try{return G()}finally{f=ee}},e.unstable_scheduleCallback=function(L,G,ee){var ne=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ee+R,L={id:u++,callback:G,priorityLevel:L,startTime:ee,expirationTime:R,sortIndex:-1},ee>ne?(L.sortIndex=ee,t(d,L),r(c)===null&&L===r(d)&&(p?(y(O),O=-1):p=!0,V(w,ee-ne))):(L.sortIndex=R,t(c,L),g||m||(g=!0,F(k))),L},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(L){var G=f;return function(){var ee=f;f=G;try{return L.apply(this,arguments)}finally{f=ee}}}})(W3);U3.exports=W3;var eM=U3.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tM=b,Xn=eM;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V3=new Set,Eu={};function al(e,t){pc(e,t),pc(e+"Capture",t)}function pc(e,t){for(Eu[e]=t,e=0;e<t.length;e++)V3.add(t[e])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dy=Object.prototype.hasOwnProperty,rM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rN={},nN={};function nM(e){return Dy.call(nN,e)?!0:Dy.call(rN,e)?!1:rM.test(e)?nN[e]=!0:(rN[e]=!0,!1)}function aM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sM(e,t,r,n){if(t===null||typeof t>"u"||aM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Br[e]=new pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Br[t]=new pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Br[e]=new pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Br[e]=new pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Br[e]=new pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Br[e]=new pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Br[e]=new pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Br[e]=new pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Br[e]=new pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vw=/[\-:]([a-z])/g;function Hw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vw,Hw);Br[t]=new pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vw,Hw);Br[t]=new pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vw,Hw);Br[t]=new pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Br[e]=new pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Br.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Br[e]=new pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kw(e,t,r,n){var s=Br.hasOwnProperty(t)?Br[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sM(t,r,s,n)&&(r=null),n||s===null?nM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ri=tM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sf=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Il=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),My=Symbol.for("react.profiler"),H3=Symbol.for("react.provider"),K3=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),Iy=Symbol.for("react.suspense_list"),Xw=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),G3=Symbol.for("react.offscreen"),aN=Symbol.iterator;function Cd(e){return e===null||typeof e!="object"?null:(e=aN&&e[aN]||e["@@iterator"],typeof e=="function"?e:null)}var ar=Object.assign,Z0;function Zd(e){if(Z0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Z0=t&&t[1]||""}return`
`+Z0+e}var ex=!1;function tx(e,t){if(!e||ex)return"";ex=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ex=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zd(e):""}function iM(e){switch(e.tag){case 5:return Zd(e.type);case 16:return Zd("Lazy");case 13:return Zd("Suspense");case 19:return Zd("SuspenseList");case 0:case 2:case 15:return e=tx(e.type,!1),e;case 11:return e=tx(e.type.render,!1),e;case 1:return e=tx(e.type,!0),e;default:return""}}function Ry(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Il:return"Fragment";case zl:return"Portal";case My:return"Profiler";case Gw:return"StrictMode";case zy:return"Suspense";case Iy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K3:return(e.displayName||"Context")+".Consumer";case H3:return(e._context.displayName||"Context")+".Provider";case Yw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xw:return t=e.displayName||null,t!==null?t:Ry(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return Ry(e(t))}catch{}}return null}function oM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ry(t);case 8:return t===Gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lM(e){var t=Y3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function of(e){e._valueTracker||(e._valueTracker=lM(e))}function X3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ym(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ly(e,t){var r=t.checked;return ar({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q3(e,t){t=t.checked,t!=null&&Kw(e,"checked",t,!1)}function $y(e,t){Q3(e,t);var r=Fi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fy(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fy(e,t.type,Fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fy(e,t,r){(t!=="number"||ym(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var eu=Array.isArray;function nc(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return ar({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(eu(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fi(r)}}function J3(e,t){var r=Fi(t.value),n=Fi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Z3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function By(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Z3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lf,e6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lf=lf||document.createElement("div"),lf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cM=["Webkit","ms","Moz","O"];Object.keys(ou).forEach(function(e){cM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ou[t]=ou[e]})});function t6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ou.hasOwnProperty(e)&&ou[e]?(""+t).trim():t+"px"}function r6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=t6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var dM=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uy(e,t){if(t){if(dM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function Wy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vy=null;function Qw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hy=null,ac=null,sc=null;function cN(e){if(e=Ih(e)){if(typeof Hy!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=ug(t),Hy(e.stateNode,e.type,t))}}function n6(e){ac?sc?sc.push(e):sc=[e]:ac=e}function a6(){if(ac){var e=ac,t=sc;if(sc=ac=null,cN(e),t)for(e=0;e<t.length;e++)cN(t[e])}}function s6(e,t){return e(t)}function i6(){}var rx=!1;function o6(e,t,r){if(rx)return e(t,r);rx=!0;try{return s6(e,t,r)}finally{rx=!1,(ac!==null||sc!==null)&&(i6(),a6())}}function Au(e,t){var r=e.stateNode;if(r===null)return null;var n=ug(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var Ky=!1;if(Ws)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){Ky=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{Ky=!1}function uM(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var lu=!1,vm=null,bm=!1,Gy=null,hM={onError:function(e){lu=!0,vm=e}};function fM(e,t,r,n,s,i,o,l,c){lu=!1,vm=null,uM.apply(hM,arguments)}function mM(e,t,r,n,s,i,o,l,c){if(fM.apply(this,arguments),lu){if(lu){var d=vm;lu=!1,vm=null}else throw Error(ve(198));bm||(bm=!0,Gy=d)}}function sl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function l6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dN(e){if(sl(e)!==e)throw Error(ve(188))}function pM(e){var t=e.alternate;if(!t){if(t=sl(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return dN(s),e;if(i===n)return dN(s),t;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function c6(e){return e=pM(e),e!==null?d6(e):null}function d6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d6(e);if(t!==null)return t;e=e.sibling}return null}var u6=Xn.unstable_scheduleCallback,uN=Xn.unstable_cancelCallback,gM=Xn.unstable_shouldYield,xM=Xn.unstable_requestPaint,hr=Xn.unstable_now,yM=Xn.unstable_getCurrentPriorityLevel,Jw=Xn.unstable_ImmediatePriority,h6=Xn.unstable_UserBlockingPriority,wm=Xn.unstable_NormalPriority,vM=Xn.unstable_LowPriority,f6=Xn.unstable_IdlePriority,og=null,ls=null;function bM(e){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(og,e,void 0,(e.current.flags&128)===128)}catch{}}var Ma=Math.clz32?Math.clz32:_M,wM=Math.log,jM=Math.LN2;function _M(e){return e>>>=0,e===0?32:31-(wM(e)/jM|0)|0}var cf=64,df=4194304;function tu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=tu(l):(i&=o,i!==0&&(n=tu(i)))}else o=r&~s,o!==0?n=tu(o):i!==0&&(n=tu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ma(t),s=1<<r,n|=e[r],t&=~s;return n}function NM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ma(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=NM(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Yy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m6(){var e=cf;return cf<<=1,!(cf&4194240)&&(cf=64),e}function nx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ma(t),e[t]=r}function SM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ma(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Zw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ma(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Et=0;function p6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var g6,ej,x6,y6,v6,Xy=!1,uf=[],Ei=null,Ci=null,Ai=null,Tu=new Map,Du=new Map,bi=[],OM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hN(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Tu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(t.pointerId)}}function Td(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ih(t),t!==null&&ej(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function PM(e,t,r,n,s){switch(t){case"focusin":return Ei=Td(Ei,e,t,r,n,s),!0;case"dragenter":return Ci=Td(Ci,e,t,r,n,s),!0;case"mouseover":return Ai=Td(Ai,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Tu.set(i,Td(Tu.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Du.set(i,Td(Du.get(i)||null,e,t,r,n,s)),!0}return!1}function b6(e){var t=wo(e.target);if(t!==null){var r=sl(t);if(r!==null){if(t=r.tag,t===13){if(t=l6(r),t!==null){e.blockedOn=t,v6(e.priority,function(){x6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vy=n,r.target.dispatchEvent(n),Vy=null}else return t=Ih(r),t!==null&&ej(t),e.blockedOn=r,!1;t.shift()}return!0}function fN(e,t,r){Jf(e)&&r.delete(t)}function EM(){Xy=!1,Ei!==null&&Jf(Ei)&&(Ei=null),Ci!==null&&Jf(Ci)&&(Ci=null),Ai!==null&&Jf(Ai)&&(Ai=null),Tu.forEach(fN),Du.forEach(fN)}function Dd(e,t){e.blockedOn===t&&(e.blockedOn=null,Xy||(Xy=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,EM)))}function Mu(e){function t(s){return Dd(s,e)}if(0<uf.length){Dd(uf[0],e);for(var r=1;r<uf.length;r++){var n=uf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ei!==null&&Dd(Ei,e),Ci!==null&&Dd(Ci,e),Ai!==null&&Dd(Ai,e),Tu.forEach(t),Du.forEach(t),r=0;r<bi.length;r++)n=bi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bi.length&&(r=bi[0],r.blockedOn===null);)b6(r),r.blockedOn===null&&bi.shift()}var ic=ri.ReactCurrentBatchConfig,_m=!0;function CM(e,t,r,n){var s=Et,i=ic.transition;ic.transition=null;try{Et=1,tj(e,t,r,n)}finally{Et=s,ic.transition=i}}function AM(e,t,r,n){var s=Et,i=ic.transition;ic.transition=null;try{Et=4,tj(e,t,r,n)}finally{Et=s,ic.transition=i}}function tj(e,t,r,n){if(_m){var s=Qy(e,t,r,n);if(s===null)fx(e,t,n,Nm,r),hN(e,n);else if(PM(s,e,t,r,n))n.stopPropagation();else if(hN(e,n),t&4&&-1<OM.indexOf(e)){for(;s!==null;){var i=Ih(s);if(i!==null&&g6(i),i=Qy(e,t,r,n),i===null&&fx(e,t,n,Nm,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else fx(e,t,n,null,r)}}var Nm=null;function Qy(e,t,r,n){if(Nm=null,e=Qw(n),e=wo(e),e!==null)if(t=sl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=l6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nm=e,null}function w6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yM()){case Jw:return 1;case h6:return 4;case wm:case vM:return 16;case f6:return 536870912;default:return 16}default:return 16}}var Ni=null,rj=null,Zf=null;function j6(){if(Zf)return Zf;var e,t=rj,r=t.length,n,s="value"in Ni?Ni.value:Ni.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Zf=s.slice(e,1<n?1-n:void 0)}function em(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hf(){return!0}function mN(){return!1}function Zn(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hf:mN,this.isPropagationStopped=mN,this}return ar(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hf)},persist:function(){},isPersistent:hf}),t}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nj=Zn(sd),zh=ar({},sd,{view:0,detail:0}),TM=Zn(zh),ax,sx,Md,lg=ar({},zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Md&&(Md&&e.type==="mousemove"?(ax=e.screenX-Md.screenX,sx=e.screenY-Md.screenY):sx=ax=0,Md=e),ax)},movementY:function(e){return"movementY"in e?e.movementY:sx}}),pN=Zn(lg),DM=ar({},lg,{dataTransfer:0}),MM=Zn(DM),zM=ar({},zh,{relatedTarget:0}),ix=Zn(zM),IM=ar({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),RM=Zn(IM),LM=ar({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$M=Zn(LM),FM=ar({},sd,{data:0}),gN=Zn(FM),qM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UM[e])?!!t[e]:!1}function aj(){return WM}var VM=ar({},zh,{key:function(e){if(e.key){var t=qM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=em(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aj,charCode:function(e){return e.type==="keypress"?em(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?em(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HM=Zn(VM),KM=ar({},lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xN=Zn(KM),GM=ar({},zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aj}),YM=Zn(GM),XM=ar({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),QM=Zn(XM),JM=ar({},lg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZM=Zn(JM),ez=[9,13,27,32],sj=Ws&&"CompositionEvent"in window,cu=null;Ws&&"documentMode"in document&&(cu=document.documentMode);var tz=Ws&&"TextEvent"in window&&!cu,_6=Ws&&(!sj||cu&&8<cu&&11>=cu),yN=" ",vN=!1;function N6(e,t){switch(e){case"keyup":return ez.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rl=!1;function rz(e,t){switch(e){case"compositionend":return k6(t);case"keypress":return t.which!==32?null:(vN=!0,yN);case"textInput":return e=t.data,e===yN&&vN?null:e;default:return null}}function nz(e,t){if(Rl)return e==="compositionend"||!sj&&N6(e,t)?(e=j6(),Zf=rj=Ni=null,Rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _6&&t.locale!=="ko"?null:t.data;default:return null}}var az={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!az[e.type]:t==="textarea"}function S6(e,t,r,n){n6(n),t=km(t,"onChange"),0<t.length&&(r=new nj("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var du=null,zu=null;function sz(e){R6(e,0)}function cg(e){var t=Fl(e);if(X3(t))return e}function iz(e,t){if(e==="change")return t}var O6=!1;if(Ws){var ox;if(Ws){var lx="oninput"in document;if(!lx){var wN=document.createElement("div");wN.setAttribute("oninput","return;"),lx=typeof wN.oninput=="function"}ox=lx}else ox=!1;O6=ox&&(!document.documentMode||9<document.documentMode)}function jN(){du&&(du.detachEvent("onpropertychange",P6),zu=du=null)}function P6(e){if(e.propertyName==="value"&&cg(zu)){var t=[];S6(t,zu,e,Qw(e)),o6(sz,t)}}function oz(e,t,r){e==="focusin"?(jN(),du=t,zu=r,du.attachEvent("onpropertychange",P6)):e==="focusout"&&jN()}function lz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cg(zu)}function cz(e,t){if(e==="click")return cg(t)}function dz(e,t){if(e==="input"||e==="change")return cg(t)}function uz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fa=typeof Object.is=="function"?Object.is:uz;function Iu(e,t){if(Fa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Dy.call(t,s)||!Fa(e[s],t[s]))return!1}return!0}function _N(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NN(e,t){var r=_N(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_N(r)}}function E6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C6(){for(var e=window,t=ym();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ym(e.document)}return t}function ij(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hz(e){var t=C6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&E6(r.ownerDocument.documentElement,r)){if(n!==null&&ij(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=NN(r,i);var o=NN(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fz=Ws&&"documentMode"in document&&11>=document.documentMode,Ll=null,Jy=null,uu=null,Zy=!1;function kN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zy||Ll==null||Ll!==ym(n)||(n=Ll,"selectionStart"in n&&ij(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uu&&Iu(uu,n)||(uu=n,n=km(Jy,"onSelect"),0<n.length&&(t=new nj("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ll)))}function ff(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $l={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},cx={},A6={};Ws&&(A6=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function dg(e){if(cx[e])return cx[e];if(!$l[e])return e;var t=$l[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A6)return cx[e]=t[r];return e}var T6=dg("animationend"),D6=dg("animationiteration"),M6=dg("animationstart"),z6=dg("transitionend"),I6=new Map,SN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){I6.set(e,t),al(t,[e])}for(var dx=0;dx<SN.length;dx++){var ux=SN[dx],mz=ux.toLowerCase(),pz=ux[0].toUpperCase()+ux.slice(1);Wi(mz,"on"+pz)}Wi(T6,"onAnimationEnd");Wi(D6,"onAnimationIteration");Wi(M6,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(z6,"onTransitionEnd");pc("onMouseEnter",["mouseout","mouseover"]);pc("onMouseLeave",["mouseout","mouseover"]);pc("onPointerEnter",["pointerout","pointerover"]);pc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function ON(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mM(n,t,void 0,e),e.currentTarget=null}function R6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;ON(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;ON(s,l,d),i=c}}}if(bm)throw e=Gy,bm=!1,Gy=null,e}function Ht(e,t){var r=t[av];r===void 0&&(r=t[av]=new Set);var n=e+"__bubble";r.has(n)||(L6(t,e,2,!1),r.add(n))}function hx(e,t,r){var n=0;t&&(n|=4),L6(r,e,n,t)}var mf="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[mf]){e[mf]=!0,V3.forEach(function(r){r!=="selectionchange"&&(gz.has(r)||hx(r,!1,e),hx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mf]||(t[mf]=!0,hx("selectionchange",!1,t))}}function L6(e,t,r,n){switch(w6(t)){case 1:var s=CM;break;case 4:s=AM;break;default:s=tj}r=s.bind(null,t,r,e),s=void 0,!Ky||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function fx(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}o6(function(){var d=i,u=Qw(r),h=[];e:{var f=I6.get(e);if(f!==void 0){var m=nj,g=e;switch(e){case"keypress":if(em(r)===0)break e;case"keydown":case"keyup":m=HM;break;case"focusin":g="focus",m=ix;break;case"focusout":g="blur",m=ix;break;case"beforeblur":case"afterblur":m=ix;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=YM;break;case T6:case D6:case M6:m=RM;break;case z6:m=QM;break;case"scroll":m=TM;break;case"wheel":m=ZM;break;case"copy":case"cut":case"paste":m=$M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xN}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var v=d,j;v!==null;){j=v;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,y!==null&&(w=Au(v,y),w!=null&&p.push(Lu(v,w,j)))),x)break;v=v.return}0<p.length&&(f=new m(f,g,null,r,u),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Vy&&(g=r.relatedTarget||r.fromElement)&&(wo(g)||g[Vs]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=d,g=g?wo(g):null,g!==null&&(x=sl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(p=pN,w="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=xN,w="onPointerLeave",y="onPointerEnter",v="pointer"),x=m==null?f:Fl(m),j=g==null?f:Fl(g),f=new p(w,v+"leave",m,r,u),f.target=x,f.relatedTarget=j,w=null,wo(u)===d&&(p=new p(y,v+"enter",g,r,u),p.target=j,p.relatedTarget=x,w=p),x=w,m&&g)t:{for(p=m,y=g,v=0,j=p;j;j=fl(j))v++;for(j=0,w=y;w;w=fl(w))j++;for(;0<v-j;)p=fl(p),v--;for(;0<j-v;)y=fl(y),j--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=fl(p),y=fl(y)}p=null}else p=null;m!==null&&PN(h,f,m,p,!1),g!==null&&x!==null&&PN(h,x,g,p,!0)}}e:{if(f=d?Fl(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=iz;else if(bN(f))if(O6)k=dz;else{k=lz;var N=oz}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=cz);if(k&&(k=k(e,d))){S6(h,k,r,u);break e}N&&N(e,f,d),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Fy(f,"number",f.value)}switch(N=d?Fl(d):window,e){case"focusin":(bN(N)||N.contentEditable==="true")&&(Ll=N,Jy=d,uu=null);break;case"focusout":uu=Jy=Ll=null;break;case"mousedown":Zy=!0;break;case"contextmenu":case"mouseup":case"dragend":Zy=!1,kN(h,r,u);break;case"selectionchange":if(fz)break;case"keydown":case"keyup":kN(h,r,u)}var S;if(sj)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Rl?N6(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(_6&&r.locale!=="ko"&&(Rl||O!=="onCompositionStart"?O==="onCompositionEnd"&&Rl&&(S=j6()):(Ni=u,rj="value"in Ni?Ni.value:Ni.textContent,Rl=!0)),N=km(d,O),0<N.length&&(O=new gN(O,e,null,r,u),h.push({event:O,listeners:N}),S?O.data=S:(S=k6(r),S!==null&&(O.data=S)))),(S=tz?rz(e,r):nz(e,r))&&(d=km(d,"onBeforeInput"),0<d.length&&(u=new gN("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}R6(h,t)})}function Lu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function km(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Au(e,r),i!=null&&n.unshift(Lu(e,i,s)),i=Au(e,t),i!=null&&n.push(Lu(e,i,s))),e=e.return}return n}function fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PN(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Au(r,i),c!=null&&o.unshift(Lu(r,c,l))):s||(c=Au(r,i),c!=null&&o.push(Lu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var xz=/\r\n?/g,yz=/\u0000|\uFFFD/g;function EN(e){return(typeof e=="string"?e:""+e).replace(xz,`
`).replace(yz,"")}function pf(e,t,r){if(t=EN(t),EN(e)!==t&&r)throw Error(ve(425))}function Sm(){}var ev=null,tv=null;function rv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nv=typeof setTimeout=="function"?setTimeout:void 0,vz=typeof clearTimeout=="function"?clearTimeout:void 0,CN=typeof Promise=="function"?Promise:void 0,bz=typeof queueMicrotask=="function"?queueMicrotask:typeof CN<"u"?function(e){return CN.resolve(null).then(e).catch(wz)}:nv;function wz(e){setTimeout(function(){throw e})}function mx(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Mu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mu(t)}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function AN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var id=Math.random().toString(36).slice(2),es="__reactFiber$"+id,$u="__reactProps$"+id,Vs="__reactContainer$"+id,av="__reactEvents$"+id,jz="__reactListeners$"+id,_z="__reactHandles$"+id;function wo(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vs]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=AN(e);e!==null;){if(r=e[es])return r;e=AN(e)}return t}e=r,r=e.parentNode}return null}function Ih(e){return e=e[es]||e[Vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function ug(e){return e[$u]||null}var sv=[],ql=-1;function Vi(e){return{current:e}}function Xt(e){0>ql||(e.current=sv[ql],sv[ql]=null,ql--)}function Ut(e,t){ql++,sv[ql]=e.current,e.current=t}var qi={},Qr=Vi(qi),On=Vi(!1),Io=qi;function gc(e,t){var r=e.type.contextTypes;if(!r)return qi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pn(e){return e=e.childContextTypes,e!=null}function Om(){Xt(On),Xt(Qr)}function TN(e,t,r){if(Qr.current!==qi)throw Error(ve(168));Ut(Qr,t),Ut(On,r)}function $6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ve(108,oM(e)||"Unknown",s));return ar({},r,n)}function Pm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qi,Io=Qr.current,Ut(Qr,e),Ut(On,On.current),!0}function DN(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=$6(e,t,Io),n.__reactInternalMemoizedMergedChildContext=e,Xt(On),Xt(Qr),Ut(Qr,e)):Xt(On),Ut(On,r)}var Ms=null,hg=!1,px=!1;function F6(e){Ms===null?Ms=[e]:Ms.push(e)}function Nz(e){hg=!0,F6(e)}function Hi(){if(!px&&Ms!==null){px=!0;var e=0,t=Et;try{var r=Ms;for(Et=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ms=null,hg=!1}catch(s){throw Ms!==null&&(Ms=Ms.slice(e+1)),u6(Jw,Hi),s}finally{Et=t,px=!1}}return null}var Bl=[],Ul=0,Em=null,Cm=0,sa=[],ia=0,Ro=null,zs=1,Is="";function ho(e,t){Bl[Ul++]=Cm,Bl[Ul++]=Em,Em=e,Cm=t}function q6(e,t,r){sa[ia++]=zs,sa[ia++]=Is,sa[ia++]=Ro,Ro=e;var n=zs;e=Is;var s=32-Ma(n)-1;n&=~(1<<s),r+=1;var i=32-Ma(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,zs=1<<32-Ma(t)+s|r<<s|n,Is=i+e}else zs=1<<i|r<<s|n,Is=e}function oj(e){e.return!==null&&(ho(e,1),q6(e,1,0))}function lj(e){for(;e===Em;)Em=Bl[--Ul],Bl[Ul]=null,Cm=Bl[--Ul],Bl[Ul]=null;for(;e===Ro;)Ro=sa[--ia],sa[ia]=null,Is=sa[--ia],sa[ia]=null,zs=sa[--ia],sa[ia]=null}var Wn=null,qn=null,Qt=!1,Aa=null;function B6(e,t){var r=la(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function MN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,qn=Ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ro!==null?{id:zs,overflow:Is}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=la(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wn=e,qn=null,!0):!1;default:return!1}}function iv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ov(e){if(Qt){var t=qn;if(t){var r=t;if(!MN(e,t)){if(iv(e))throw Error(ve(418));t=Ti(r.nextSibling);var n=Wn;t&&MN(e,t)?B6(n,r):(e.flags=e.flags&-4097|2,Qt=!1,Wn=e)}}else{if(iv(e))throw Error(ve(418));e.flags=e.flags&-4097|2,Qt=!1,Wn=e}}}function zN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function gf(e){if(e!==Wn)return!1;if(!Qt)return zN(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rv(e.type,e.memoizedProps)),t&&(t=qn)){if(iv(e))throw U6(),Error(ve(418));for(;t;)B6(e,t),t=Ti(t.nextSibling)}if(zN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qn=Ti(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qn=null}}else qn=Wn?Ti(e.stateNode.nextSibling):null;return!0}function U6(){for(var e=qn;e;)e=Ti(e.nextSibling)}function xc(){qn=Wn=null,Qt=!1}function cj(e){Aa===null?Aa=[e]:Aa.push(e)}var kz=ri.ReactCurrentBatchConfig;function zd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function xf(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function IN(e){var t=e._init;return t(e._payload)}function W6(e){function t(y,v){if(e){var j=y.deletions;j===null?(y.deletions=[v],y.flags|=16):j.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Ii(y,v),y.index=0,y.sibling=null,y}function i(y,v,j){return y.index=j,e?(j=y.alternate,j!==null?(j=j.index,j<v?(y.flags|=2,v):j):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,j,w){return v===null||v.tag!==6?(v=jx(j,y.mode,w),v.return=y,v):(v=s(v,j),v.return=y,v)}function c(y,v,j,w){var k=j.type;return k===Il?u(y,v,j.props.children,w,j.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xi&&IN(k)===v.type)?(w=s(v,j.props),w.ref=zd(y,v,j),w.return=y,w):(w=om(j.type,j.key,j.props,null,y.mode,w),w.ref=zd(y,v,j),w.return=y,w)}function d(y,v,j,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=_x(j,y.mode,w),v.return=y,v):(v=s(v,j.children||[]),v.return=y,v)}function u(y,v,j,w,k){return v===null||v.tag!==7?(v=Ao(j,y.mode,w,k),v.return=y,v):(v=s(v,j),v.return=y,v)}function h(y,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=jx(""+v,y.mode,j),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sf:return j=om(v.type,v.key,v.props,null,y.mode,j),j.ref=zd(y,null,v),j.return=y,j;case zl:return v=_x(v,y.mode,j),v.return=y,v;case xi:var w=v._init;return h(y,w(v._payload),j)}if(eu(v)||Cd(v))return v=Ao(v,y.mode,j,null),v.return=y,v;xf(y,v)}return null}function f(y,v,j,w){var k=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return k!==null?null:l(y,v,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sf:return j.key===k?c(y,v,j,w):null;case zl:return j.key===k?d(y,v,j,w):null;case xi:return k=j._init,f(y,v,k(j._payload),w)}if(eu(j)||Cd(j))return k!==null?null:u(y,v,j,w,null);xf(y,j)}return null}function m(y,v,j,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(j)||null,l(v,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sf:return y=y.get(w.key===null?j:w.key)||null,c(v,y,w,k);case zl:return y=y.get(w.key===null?j:w.key)||null,d(v,y,w,k);case xi:var N=w._init;return m(y,v,j,N(w._payload),k)}if(eu(w)||Cd(w))return y=y.get(j)||null,u(v,y,w,k,null);xf(v,w)}return null}function g(y,v,j,w){for(var k=null,N=null,S=v,O=v=0,P=null;S!==null&&O<j.length;O++){S.index>O?(P=S,S=null):P=S.sibling;var $=f(y,S,j[O],w);if($===null){S===null&&(S=P);break}e&&S&&$.alternate===null&&t(y,S),v=i($,v,O),N===null?k=$:N.sibling=$,N=$,S=P}if(O===j.length)return r(y,S),Qt&&ho(y,O),k;if(S===null){for(;O<j.length;O++)S=h(y,j[O],w),S!==null&&(v=i(S,v,O),N===null?k=S:N.sibling=S,N=S);return Qt&&ho(y,O),k}for(S=n(y,S);O<j.length;O++)P=m(S,y,O,j[O],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?O:P.key),v=i(P,v,O),N===null?k=P:N.sibling=P,N=P);return e&&S.forEach(function(T){return t(y,T)}),Qt&&ho(y,O),k}function p(y,v,j,w){var k=Cd(j);if(typeof k!="function")throw Error(ve(150));if(j=k.call(j),j==null)throw Error(ve(151));for(var N=k=null,S=v,O=v=0,P=null,$=j.next();S!==null&&!$.done;O++,$=j.next()){S.index>O?(P=S,S=null):P=S.sibling;var T=f(y,S,$.value,w);if(T===null){S===null&&(S=P);break}e&&S&&T.alternate===null&&t(y,S),v=i(T,v,O),N===null?k=T:N.sibling=T,N=T,S=P}if($.done)return r(y,S),Qt&&ho(y,O),k;if(S===null){for(;!$.done;O++,$=j.next())$=h(y,$.value,w),$!==null&&(v=i($,v,O),N===null?k=$:N.sibling=$,N=$);return Qt&&ho(y,O),k}for(S=n(y,S);!$.done;O++,$=j.next())$=m(S,y,O,$.value,w),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?O:$.key),v=i($,v,O),N===null?k=$:N.sibling=$,N=$);return e&&S.forEach(function(I){return t(y,I)}),Qt&&ho(y,O),k}function x(y,v,j,w){if(typeof j=="object"&&j!==null&&j.type===Il&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case sf:e:{for(var k=j.key,N=v;N!==null;){if(N.key===k){if(k=j.type,k===Il){if(N.tag===7){r(y,N.sibling),v=s(N,j.props.children),v.return=y,y=v;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xi&&IN(k)===N.type){r(y,N.sibling),v=s(N,j.props),v.ref=zd(y,N,j),v.return=y,y=v;break e}r(y,N);break}else t(y,N);N=N.sibling}j.type===Il?(v=Ao(j.props.children,y.mode,w,j.key),v.return=y,y=v):(w=om(j.type,j.key,j.props,null,y.mode,w),w.ref=zd(y,v,j),w.return=y,y=w)}return o(y);case zl:e:{for(N=j.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(y,v.sibling),v=s(v,j.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=_x(j,y.mode,w),v.return=y,y=v}return o(y);case xi:return N=j._init,x(y,v,N(j._payload),w)}if(eu(j))return g(y,v,j,w);if(Cd(j))return p(y,v,j,w);xf(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,j),v.return=y,y=v):(r(y,v),v=jx(j,y.mode,w),v.return=y,y=v),o(y)):r(y,v)}return x}var yc=W6(!0),V6=W6(!1),Am=Vi(null),Tm=null,Wl=null,dj=null;function uj(){dj=Wl=Tm=null}function hj(e){var t=Am.current;Xt(Am),e._currentValue=t}function lv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function oc(e,t){Tm=e,dj=Wl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function ma(e){var t=e._currentValue;if(dj!==e)if(e={context:e,memoizedValue:t,next:null},Wl===null){if(Tm===null)throw Error(ve(308));Wl=e,Tm.dependencies={lanes:0,firstContext:e}}else Wl=Wl.next=e;return t}var jo=null;function fj(e){jo===null?jo=[e]:jo.push(e)}function H6(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,fj(t)):(r.next=s.next,s.next=r),t.interleaved=r,Hs(e,n)}function Hs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yi=!1;function mj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Hs(e,r)}return s=n.interleaved,s===null?(t.next=t,fj(n)):(t.next=s.next,s.next=t),n.interleaved=t,Hs(e,r)}function tm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zw(e,r)}}function RN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Dm(e,t,r,n){var s=e.updateQueue;yi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=ar({},h,f);break e;case 2:yi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$o|=o,e.lanes=o,e.memoizedState=h}}function LN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ve(191,s));s.call(n)}}}var Rh={},cs=Vi(Rh),Fu=Vi(Rh),qu=Vi(Rh);function _o(e){if(e===Rh)throw Error(ve(174));return e}function pj(e,t){switch(Ut(qu,t),Ut(Fu,e),Ut(cs,Rh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:By(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=By(t,e)}Xt(cs),Ut(cs,t)}function vc(){Xt(cs),Xt(Fu),Xt(qu)}function G6(e){_o(qu.current);var t=_o(cs.current),r=By(t,e.type);t!==r&&(Ut(Fu,e),Ut(cs,r))}function gj(e){Fu.current===e&&(Xt(cs),Xt(Fu))}var tr=Vi(0);function Mm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gx=[];function xj(){for(var e=0;e<gx.length;e++)gx[e]._workInProgressVersionPrimary=null;gx.length=0}var rm=ri.ReactCurrentDispatcher,xx=ri.ReactCurrentBatchConfig,Lo=0,nr=null,Sr=null,Dr=null,zm=!1,hu=!1,Bu=0,Sz=0;function Ur(){throw Error(ve(321))}function yj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fa(e[r],t[r]))return!1;return!0}function vj(e,t,r,n,s,i){if(Lo=i,nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rm.current=e===null||e.memoizedState===null?Cz:Az,e=r(n,s),hu){i=0;do{if(hu=!1,Bu=0,25<=i)throw Error(ve(301));i+=1,Dr=Sr=null,t.updateQueue=null,rm.current=Tz,e=r(n,s)}while(hu)}if(rm.current=Im,t=Sr!==null&&Sr.next!==null,Lo=0,Dr=Sr=nr=null,zm=!1,t)throw Error(ve(300));return e}function bj(){var e=Bu!==0;return Bu=0,e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?nr.memoizedState=Dr=e:Dr=Dr.next=e,Dr}function pa(){if(Sr===null){var e=nr.alternate;e=e!==null?e.memoizedState:null}else e=Sr.next;var t=Dr===null?nr.memoizedState:Dr.next;if(t!==null)Dr=t,Sr=e;else{if(e===null)throw Error(ve(310));Sr=e,e={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Dr===null?nr.memoizedState=Dr=e:Dr=Dr.next=e}return Dr}function Uu(e,t){return typeof t=="function"?t(e):t}function yx(e){var t=pa(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=Sr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Lo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,nr.lanes|=u,$o|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Fa(n,t.memoizedState)||(jn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,nr.lanes|=i,$o|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vx(e){var t=pa(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Fa(i,t.memoizedState)||(jn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Y6(){}function X6(e,t){var r=nr,n=pa(),s=t(),i=!Fa(n.memoizedState,s);if(i&&(n.memoizedState=s,jn=!0),n=n.queue,wj(Z6.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Dr!==null&&Dr.memoizedState.tag&1){if(r.flags|=2048,Wu(9,J6.bind(null,r,n,s,t),void 0,null),zr===null)throw Error(ve(349));Lo&30||Q6(r,t,s)}return s}function Q6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J6(e,t,r,n){t.value=r,t.getSnapshot=n,eO(t)&&tO(e)}function Z6(e,t,r){return r(function(){eO(t)&&tO(e)})}function eO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fa(e,r)}catch{return!0}}function tO(e){var t=Hs(e,1);t!==null&&za(t,e,1,-1)}function $N(e){var t=Ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:e},t.queue=e,e=e.dispatch=Ez.bind(null,nr,e),[t.memoizedState,e]}function Wu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rO(){return pa().memoizedState}function nm(e,t,r,n){var s=Ja();nr.flags|=e,s.memoizedState=Wu(1|t,r,void 0,n===void 0?null:n)}function fg(e,t,r,n){var s=pa();n=n===void 0?null:n;var i=void 0;if(Sr!==null){var o=Sr.memoizedState;if(i=o.destroy,n!==null&&yj(n,o.deps)){s.memoizedState=Wu(t,r,i,n);return}}nr.flags|=e,s.memoizedState=Wu(1|t,r,i,n)}function FN(e,t){return nm(8390656,8,e,t)}function wj(e,t){return fg(2048,8,e,t)}function nO(e,t){return fg(4,2,e,t)}function aO(e,t){return fg(4,4,e,t)}function sO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iO(e,t,r){return r=r!=null?r.concat([e]):null,fg(4,4,sO.bind(null,t,e),r)}function jj(){}function oO(e,t){var r=pa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lO(e,t){var r=pa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cO(e,t,r){return Lo&21?(Fa(r,t)||(r=m6(),nr.lanes|=r,$o|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=r)}function Oz(e,t){var r=Et;Et=r!==0&&4>r?r:4,e(!0);var n=xx.transition;xx.transition={};try{e(!1),t()}finally{Et=r,xx.transition=n}}function dO(){return pa().memoizedState}function Pz(e,t,r){var n=zi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uO(e))hO(t,r);else if(r=H6(e,t,r,n),r!==null){var s=hn();za(r,e,n,s),fO(r,t,n)}}function Ez(e,t,r){var n=zi(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uO(e))hO(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Fa(l,o)){var c=t.interleaved;c===null?(s.next=s,fj(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=H6(e,t,s,n),r!==null&&(s=hn(),za(r,e,n,s),fO(r,t,n))}}function uO(e){var t=e.alternate;return e===nr||t!==null&&t===nr}function hO(e,t){hu=zm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zw(e,r)}}var Im={readContext:ma,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},Cz={readContext:ma,useCallback:function(e,t){return Ja().memoizedState=[e,t===void 0?null:t],e},useContext:ma,useEffect:FN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nm(4194308,4,sO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nm(4194308,4,e,t)},useInsertionEffect:function(e,t){return nm(4,2,e,t)},useMemo:function(e,t){var r=Ja();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ja();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Pz.bind(null,nr,e),[n.memoizedState,e]},useRef:function(e){var t=Ja();return e={current:e},t.memoizedState=e},useState:$N,useDebugValue:jj,useDeferredValue:function(e){return Ja().memoizedState=e},useTransition:function(){var e=$N(!1),t=e[0];return e=Oz.bind(null,e[1]),Ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nr,s=Ja();if(Qt){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),zr===null)throw Error(ve(349));Lo&30||Q6(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,FN(Z6.bind(null,n,i,e),[e]),n.flags|=2048,Wu(9,J6.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ja(),t=zr.identifierPrefix;if(Qt){var r=Is,n=zs;r=(n&~(1<<32-Ma(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Sz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Az={readContext:ma,useCallback:oO,useContext:ma,useEffect:wj,useImperativeHandle:iO,useInsertionEffect:nO,useLayoutEffect:aO,useMemo:lO,useReducer:yx,useRef:rO,useState:function(){return yx(Uu)},useDebugValue:jj,useDeferredValue:function(e){var t=pa();return cO(t,Sr.memoizedState,e)},useTransition:function(){var e=yx(Uu)[0],t=pa().memoizedState;return[e,t]},useMutableSource:Y6,useSyncExternalStore:X6,useId:dO,unstable_isNewReconciler:!1},Tz={readContext:ma,useCallback:oO,useContext:ma,useEffect:wj,useImperativeHandle:iO,useInsertionEffect:nO,useLayoutEffect:aO,useMemo:lO,useReducer:vx,useRef:rO,useState:function(){return vx(Uu)},useDebugValue:jj,useDeferredValue:function(e){var t=pa();return Sr===null?t.memoizedState=e:cO(t,Sr.memoizedState,e)},useTransition:function(){var e=vx(Uu)[0],t=pa().memoizedState;return[e,t]},useMutableSource:Y6,useSyncExternalStore:X6,useId:dO,unstable_isNewReconciler:!1};function Sa(e,t){if(e&&e.defaultProps){t=ar({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ar({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mg={isMounted:function(e){return(e=e._reactInternals)?sl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hn(),s=zi(e),i=Fs(n,s);i.payload=t,r!=null&&(i.callback=r),t=Di(e,i,s),t!==null&&(za(t,e,s,n),tm(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hn(),s=zi(e),i=Fs(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Di(e,i,s),t!==null&&(za(t,e,s,n),tm(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hn(),n=zi(e),s=Fs(r,n);s.tag=2,t!=null&&(s.callback=t),t=Di(e,s,n),t!==null&&(za(t,e,n,r),tm(t,e,n))}};function qN(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Iu(r,n)||!Iu(s,i):!0}function mO(e,t,r){var n=!1,s=qi,i=t.contextType;return typeof i=="object"&&i!==null?i=ma(i):(s=Pn(t)?Io:Qr.current,n=t.contextTypes,i=(n=n!=null)?gc(e,s):qi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function BN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mg.enqueueReplaceState(t,t.state,null)}function dv(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},mj(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ma(i):(i=Pn(t)?Io:Qr.current,s.context=gc(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(cv(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mg.enqueueReplaceState(s,s.state,null),Dm(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bc(e,t){try{var r="",n=t;do r+=iM(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function bx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Dz=typeof WeakMap=="function"?WeakMap:Map;function pO(e,t,r){r=Fs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Lm||(Lm=!0,bv=n),uv(e,t)},r}function gO(e,t,r){r=Fs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){uv(e,t),typeof n!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function UN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Dz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Kz.bind(null,e,t,r),t.then(e,e))}function WN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function VN(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fs(-1,1),t.tag=2,Di(r,t,1))),r.lanes|=1),e)}var Mz=ri.ReactCurrentOwner,jn=!1;function en(e,t,r,n){t.child=e===null?V6(t,null,r,n):yc(t,e.child,r,n)}function HN(e,t,r,n,s){r=r.render;var i=t.ref;return oc(t,s),n=vj(e,t,r,n,i,s),r=bj(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ks(e,t,s)):(Qt&&r&&oj(t),t.flags|=1,en(e,t,n,s),t.child)}function KN(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Cj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xO(e,t,i,n,s)):(e=om(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Iu,r(o,n)&&e.ref===t.ref)return Ks(e,t,s)}return t.flags|=1,e=Ii(i,n),e.ref=t.ref,e.return=t,t.child=e}function xO(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Iu(i,n)&&e.ref===t.ref)if(jn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,Ks(e,t,s)}return hv(e,t,r,n,s)}function yO(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Hl,zn),zn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Hl,zn),zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ut(Hl,zn),zn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ut(Hl,zn),zn|=n;return en(e,t,s,r),t.child}function vO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hv(e,t,r,n,s){var i=Pn(r)?Io:Qr.current;return i=gc(t,i),oc(t,s),r=vj(e,t,r,n,i,s),n=bj(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ks(e,t,s)):(Qt&&n&&oj(t),t.flags|=1,en(e,t,r,s),t.child)}function GN(e,t,r,n,s){if(Pn(r)){var i=!0;Pm(t)}else i=!1;if(oc(t,s),t.stateNode===null)am(e,t),mO(t,r,n),dv(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ma(d):(d=Pn(r)?Io:Qr.current,d=gc(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&BN(t,o,n,d),yi=!1;var f=t.memoizedState;o.state=f,Dm(t,n,o,s),c=t.memoizedState,l!==n||f!==c||On.current||yi?(typeof u=="function"&&(cv(t,r,u,n),c=t.memoizedState),(l=yi||qN(t,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,K6(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Sa(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ma(c):(c=Pn(r)?Io:Qr.current,c=gc(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&BN(t,o,n,c),yi=!1,f=t.memoizedState,o.state=f,Dm(t,n,o,s);var g=t.memoizedState;l!==h||f!==g||On.current||yi?(typeof m=="function"&&(cv(t,r,m,n),g=t.memoizedState),(d=yi||qN(t,r,d,n,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return fv(e,t,r,n,i,s)}function fv(e,t,r,n,s,i){vO(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&DN(t,r,!1),Ks(e,t,i);n=t.stateNode,Mz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=yc(t,e.child,null,i),t.child=yc(t,null,l,i)):en(e,t,l,i),t.memoizedState=n.state,s&&DN(t,r,!0),t.child}function bO(e){var t=e.stateNode;t.pendingContext?TN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TN(e,t.context,!1),pj(e,t.containerInfo)}function YN(e,t,r,n,s){return xc(),cj(s),t.flags|=256,en(e,t,r,n),t.child}var mv={dehydrated:null,treeContext:null,retryLane:0};function pv(e){return{baseLanes:e,cachePool:null,transitions:null}}function wO(e,t,r){var n=t.pendingProps,s=tr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ut(tr,s&1),e===null)return ov(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xg(o,n,0,null),e=Ao(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pv(r),t.memoizedState=mv,e):_j(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zz(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ii(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ii(l,i):(i=Ao(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?pv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=mv,n}return i=e.child,e=i.sibling,n=Ii(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _j(e,t){return t=xg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yf(e,t,r,n){return n!==null&&cj(n),yc(t,e.child,null,r),e=_j(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zz(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=bx(Error(ve(422))),yf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=xg({mode:"visible",children:n.children},s,0,null),i=Ao(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&yc(t,e.child,null,o),t.child.memoizedState=pv(o),t.memoizedState=mv,i);if(!(t.mode&1))return yf(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ve(419)),n=bx(i,n,void 0),yf(e,t,o,n)}if(l=(o&e.childLanes)!==0,jn||l){if(n=zr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hs(e,s),za(n,e,s,-1))}return Ej(),n=bx(Error(ve(421))),yf(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qn=Ti(s.nextSibling),Wn=t,Qt=!0,Aa=null,e!==null&&(sa[ia++]=zs,sa[ia++]=Is,sa[ia++]=Ro,zs=e.id,Is=e.overflow,Ro=t),t=_j(t,n.children),t.flags|=4096,t)}function XN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lv(e.return,t,r)}function wx(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function jO(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(en(e,t,n.children,r),n=tr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&XN(e,r,t);else if(e.tag===19)XN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ut(tr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Mm(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),wx(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Mm(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}wx(t,!0,r,null,i);break;case"together":wx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function am(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$o|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Ii(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ii(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Iz(e,t,r){switch(t.tag){case 3:bO(t),xc();break;case 5:G6(t);break;case 1:Pn(t.type)&&Pm(t);break;case 4:pj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ut(Am,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ut(tr,tr.current&1),t.flags|=128,null):r&t.child.childLanes?wO(e,t,r):(Ut(tr,tr.current&1),e=Ks(e,t,r),e!==null?e.sibling:null);Ut(tr,tr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jO(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ut(tr,tr.current),n)break;return null;case 22:case 23:return t.lanes=0,yO(e,t,r)}return Ks(e,t,r)}var _O,gv,NO,kO;_O=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gv=function(){};NO=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_o(cs.current);var i=null;switch(r){case"input":s=Ly(e,s),n=Ly(e,n),i=[];break;case"select":s=ar({},s,{value:void 0}),n=ar({},n,{value:void 0}),i=[];break;case"textarea":s=qy(e,s),n=qy(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sm)}Uy(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Eu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s?.[d],n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ht("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};kO=function(e,t,r,n){r!==n&&(t.flags|=4)};function Id(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Rz(e,t,r){var n=t.pendingProps;switch(lj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(t),null;case 1:return Pn(t.type)&&Om(),Wr(t),null;case 3:return n=t.stateNode,vc(),Xt(On),Xt(Qr),xj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(_v(Aa),Aa=null))),gv(e,t),Wr(t),null;case 5:gj(t);var s=_o(qu.current);if(r=t.type,e!==null&&t.stateNode!=null)NO(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return Wr(t),null}if(e=_o(cs.current),gf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[es]=t,n[$u]=i,e=(t.mode&1)!==0,r){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(s=0;s<ru.length;s++)Ht(ru[s],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":sN(n,i),Ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ht("invalid",n);break;case"textarea":oN(n,i),Ht("invalid",n)}Uy(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&pf(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&pf(n.textContent,l,e),s=["children",""+l]):Eu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ht("scroll",n)}switch(r){case"input":of(n),iN(n,i,!0);break;case"textarea":of(n),lN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Sm)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Z3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[es]=t,e[$u]=n,_O(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wy(r,n),r){case"dialog":Ht("cancel",e),Ht("close",e),s=n;break;case"iframe":case"object":case"embed":Ht("load",e),s=n;break;case"video":case"audio":for(s=0;s<ru.length;s++)Ht(ru[s],e);s=n;break;case"source":Ht("error",e),s=n;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),s=n;break;case"details":Ht("toggle",e),s=n;break;case"input":sN(e,n),s=Ly(e,n),Ht("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ar({},n,{value:void 0}),Ht("invalid",e);break;case"textarea":oN(e,n),s=qy(e,n),Ht("invalid",e);break;default:s=n}Uy(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?r6(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&e6(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cu(e,c):typeof c=="number"&&Cu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ht("scroll",e):c!=null&&Kw(e,i,c,o))}switch(r){case"input":of(e),iN(e,n,!1);break;case"textarea":of(e),lN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?nc(e,!!n.multiple,i,!1):n.defaultValue!=null&&nc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Sm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wr(t),null;case 6:if(e&&t.stateNode!=null)kO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=_o(qu.current),_o(cs.current),gf(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(i=n.nodeValue!==r)&&(e=Wn,e!==null))switch(e.tag){case 3:pf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return Wr(t),null;case 13:if(Xt(tr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&qn!==null&&t.mode&1&&!(t.flags&128))U6(),xc(),t.flags|=98560,i=!1;else if(i=gf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[es]=t}else xc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wr(t),i=!1}else Aa!==null&&(_v(Aa),Aa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?Er===0&&(Er=3):Ej())),t.updateQueue!==null&&(t.flags|=4),Wr(t),null);case 4:return vc(),gv(e,t),e===null&&Ru(t.stateNode.containerInfo),Wr(t),null;case 10:return hj(t.type._context),Wr(t),null;case 17:return Pn(t.type)&&Om(),Wr(t),null;case 19:if(Xt(tr),i=t.memoizedState,i===null)return Wr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Id(i,!1);else{if(Er!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mm(e),o!==null){for(t.flags|=128,Id(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ut(tr,tr.current&1|2),t.child}e=e.sibling}i.tail!==null&&hr()>wc&&(t.flags|=128,n=!0,Id(i,!1),t.lanes=4194304)}else{if(!n)if(e=Mm(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Id(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qt)return Wr(t),null}else 2*hr()-i.renderingStartTime>wc&&r!==1073741824&&(t.flags|=128,n=!0,Id(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=hr(),t.sibling=null,r=tr.current,Ut(tr,n?r&1|2:r&1),t):(Wr(t),null);case 22:case 23:return Pj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zn&1073741824&&(Wr(t),t.subtreeFlags&6&&(t.flags|=8192)):Wr(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function Lz(e,t){switch(lj(t),t.tag){case 1:return Pn(t.type)&&Om(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vc(),Xt(On),Xt(Qr),xj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gj(t),null;case 13:if(Xt(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));xc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(tr),null;case 4:return vc(),null;case 10:return hj(t.type._context),null;case 22:case 23:return Pj(),null;case 24:return null;default:return null}}var vf=!1,Hr=!1,$z=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Vl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function SO(e,t,r){try{r()}catch(n){sr(e,t,n)}}var QN=!1;function Fz(e,t){if(ev=_m,e=C6(),ij(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(tv={focusedElem:e,selectionRange:r},_m=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Sa(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(w){sr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return g=QN,QN=!1,g}function fu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&SO(t,r,i)}s=s.next}while(s!==n)}}function pg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function OO(e){var t=e.alternate;t!==null&&(e.alternate=null,OO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[$u],delete t[av],delete t[jz],delete t[_z])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PO(e){return e.tag===5||e.tag===3||e.tag===4}function JN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sm));else if(n!==4&&(e=e.child,e!==null))for(yv(e,t,r),e=e.sibling;e!==null;)yv(e,t,r),e=e.sibling}function vv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vv(e,t,r),e=e.sibling;e!==null;)vv(e,t,r),e=e.sibling}var $r=null,Oa=!1;function li(e,t,r){for(r=r.child;r!==null;)EO(e,t,r),r=r.sibling}function EO(e,t,r){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(og,r)}catch{}switch(r.tag){case 5:Hr||Vl(r,t);case 6:var n=$r,s=Oa;$r=null,li(e,t,r),$r=n,Oa=s,$r!==null&&(Oa?(e=$r,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$r.removeChild(r.stateNode));break;case 18:$r!==null&&(Oa?(e=$r,r=r.stateNode,e.nodeType===8?mx(e.parentNode,r):e.nodeType===1&&mx(e,r),Mu(e)):mx($r,r.stateNode));break;case 4:n=$r,s=Oa,$r=r.stateNode.containerInfo,Oa=!0,li(e,t,r),$r=n,Oa=s;break;case 0:case 11:case 14:case 15:if(!Hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&SO(r,t,o),s=s.next}while(s!==n)}li(e,t,r);break;case 1:if(!Hr&&(Vl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){sr(r,t,l)}li(e,t,r);break;case 21:li(e,t,r);break;case 22:r.mode&1?(Hr=(n=Hr)||r.memoizedState!==null,li(e,t,r),Hr=n):li(e,t,r);break;default:li(e,t,r)}}function ZN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $z),t.forEach(function(n){var s=Yz.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function wa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$r=l.stateNode,Oa=!1;break e;case 3:$r=l.stateNode.containerInfo,Oa=!0;break e;case 4:$r=l.stateNode.containerInfo,Oa=!0;break e}l=l.return}if($r===null)throw Error(ve(160));EO(i,o,s),$r=null,Oa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){sr(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CO(t,e),t=t.sibling}function CO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wa(t,e),Xa(e),n&4){try{fu(3,e,e.return),pg(3,e)}catch(p){sr(e,e.return,p)}try{fu(5,e,e.return)}catch(p){sr(e,e.return,p)}}break;case 1:wa(t,e),Xa(e),n&512&&r!==null&&Vl(r,r.return);break;case 5:if(wa(t,e),Xa(e),n&512&&r!==null&&Vl(r,r.return),e.flags&32){var s=e.stateNode;try{Cu(s,"")}catch(p){sr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Q3(s,i),Wy(l,o);var d=Wy(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?r6(s,h):u==="dangerouslySetInnerHTML"?e6(s,h):u==="children"?Cu(s,h):Kw(s,u,h,d)}switch(l){case"input":$y(s,i);break;case"textarea":J3(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?nc(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?nc(s,!!i.multiple,i.defaultValue,!0):nc(s,!!i.multiple,i.multiple?[]:"",!1))}s[$u]=i}catch(p){sr(e,e.return,p)}}break;case 6:if(wa(t,e),Xa(e),n&4){if(e.stateNode===null)throw Error(ve(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){sr(e,e.return,p)}}break;case 3:if(wa(t,e),Xa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mu(t.containerInfo)}catch(p){sr(e,e.return,p)}break;case 4:wa(t,e),Xa(e);break;case 13:wa(t,e),Xa(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sj=hr())),n&4&&ZN(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Hr=(d=Hr)||u,wa(t,e),Hr=d):wa(t,e),Xa(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Me=e,u=e.child;u!==null;){for(h=Me=u;Me!==null;){switch(f=Me,m=f.child,f.tag){case 0:case 11:case 14:case 15:fu(4,f,f.return);break;case 1:Vl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){sr(n,r,p)}}break;case 5:Vl(f,f.return);break;case 22:if(f.memoizedState!==null){t2(h);continue}}m!==null?(m.return=f,Me=m):t2(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=t6("display",o))}catch(p){sr(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){sr(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wa(t,e),Xa(e),n&4&&ZN(e);break;case 21:break;default:wa(t,e),Xa(e)}}function Xa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PO(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cu(s,""),n.flags&=-33);var i=JN(e);vv(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=JN(e);yv(e,l,o);break;default:throw Error(ve(161))}}catch(c){sr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qz(e,t,r){Me=e,AO(e)}function AO(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var s=Me,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vf;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Hr;l=vf;var d=Hr;if(vf=o,(Hr=c)&&!d)for(Me=s;Me!==null;)o=Me,c=o.child,o.tag===22&&o.memoizedState!==null?r2(s):c!==null?(c.return=o,Me=c):r2(s);for(;i!==null;)Me=i,AO(i),i=i.sibling;Me=s,vf=l,Hr=d}e2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Me=i):e2(e)}}function e2(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Hr||pg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Hr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Sa(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&LN(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}LN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Mu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Hr||t.flags&512&&xv(t)}catch(f){sr(t,t.return,f)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function t2(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function r2(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{pg(4,t)}catch(c){sr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){sr(t,s,c)}}var i=t.return;try{xv(t)}catch(c){sr(t,i,c)}break;case 5:var o=t.return;try{xv(t)}catch(c){sr(t,o,c)}}}catch(c){sr(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var Bz=Math.ceil,Rm=ri.ReactCurrentDispatcher,Nj=ri.ReactCurrentOwner,ha=ri.ReactCurrentBatchConfig,vt=0,zr=null,gr=null,qr=0,zn=0,Hl=Vi(0),Er=0,Vu=null,$o=0,gg=0,kj=0,mu=null,bn=null,Sj=0,wc=1/0,As=null,Lm=!1,bv=null,Mi=null,bf=!1,ki=null,$m=0,pu=0,wv=null,sm=-1,im=0;function hn(){return vt&6?hr():sm!==-1?sm:sm=hr()}function zi(e){return e.mode&1?vt&2&&qr!==0?qr&-qr:kz.transition!==null?(im===0&&(im=m6()),im):(e=Et,e!==0||(e=window.event,e=e===void 0?16:w6(e.type)),e):1}function za(e,t,r,n){if(50<pu)throw pu=0,wv=null,Error(ve(185));Mh(e,r,n),(!(vt&2)||e!==zr)&&(e===zr&&(!(vt&2)&&(gg|=r),Er===4&&wi(e,qr)),En(e,n),r===1&&vt===0&&!(t.mode&1)&&(wc=hr()+500,hg&&Hi()))}function En(e,t){var r=e.callbackNode;kM(e,t);var n=jm(e,e===zr?qr:0);if(n===0)r!==null&&uN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&uN(r),t===1)e.tag===0?Nz(n2.bind(null,e)):F6(n2.bind(null,e)),bz(function(){!(vt&6)&&Hi()}),r=null;else{switch(p6(n)){case 1:r=Jw;break;case 4:r=h6;break;case 16:r=wm;break;case 536870912:r=f6;break;default:r=wm}r=$O(r,TO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function TO(e,t){if(sm=-1,im=0,vt&6)throw Error(ve(327));var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var n=jm(e,e===zr?qr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fm(e,n);else{t=n;var s=vt;vt|=2;var i=MO();(zr!==e||qr!==t)&&(As=null,wc=hr()+500,Co(e,t));do try{Vz();break}catch(l){DO(e,l)}while(!0);uj(),Rm.current=i,vt=s,gr!==null?t=0:(zr=null,qr=0,t=Er)}if(t!==0){if(t===2&&(s=Yy(e),s!==0&&(n=s,t=jv(e,s))),t===1)throw r=Vu,Co(e,0),wi(e,n),En(e,hr()),r;if(t===6)wi(e,n);else{if(s=e.current.alternate,!(n&30)&&!Uz(s)&&(t=Fm(e,n),t===2&&(i=Yy(e),i!==0&&(n=i,t=jv(e,i))),t===1))throw r=Vu,Co(e,0),wi(e,n),En(e,hr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:fo(e,bn,As);break;case 3:if(wi(e,n),(n&130023424)===n&&(t=Sj+500-hr(),10<t)){if(jm(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){hn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=nv(fo.bind(null,e,bn,As),t);break}fo(e,bn,As);break;case 4:if(wi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ma(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bz(n/1960))-n,10<n){e.timeoutHandle=nv(fo.bind(null,e,bn,As),n);break}fo(e,bn,As);break;case 5:fo(e,bn,As);break;default:throw Error(ve(329))}}}return En(e,hr()),e.callbackNode===r?TO.bind(null,e):null}function jv(e,t){var r=mu;return e.current.memoizedState.isDehydrated&&(Co(e,t).flags|=256),e=Fm(e,t),e!==2&&(t=bn,bn=r,t!==null&&_v(t)),e}function _v(e){bn===null?bn=e:bn.push.apply(bn,e)}function Uz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Fa(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wi(e,t){for(t&=~kj,t&=~gg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ma(t),n=1<<r;e[r]=-1,t&=~n}}function n2(e){if(vt&6)throw Error(ve(327));lc();var t=jm(e,0);if(!(t&1))return En(e,hr()),null;var r=Fm(e,t);if(e.tag!==0&&r===2){var n=Yy(e);n!==0&&(t=n,r=jv(e,n))}if(r===1)throw r=Vu,Co(e,0),wi(e,t),En(e,hr()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fo(e,bn,As),En(e,hr()),null}function Oj(e,t){var r=vt;vt|=1;try{return e(t)}finally{vt=r,vt===0&&(wc=hr()+500,hg&&Hi())}}function Fo(e){ki!==null&&ki.tag===0&&!(vt&6)&&lc();var t=vt;vt|=1;var r=ha.transition,n=Et;try{if(ha.transition=null,Et=1,e)return e()}finally{Et=n,ha.transition=r,vt=t,!(vt&6)&&Hi()}}function Pj(){zn=Hl.current,Xt(Hl)}function Co(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vz(r)),gr!==null)for(r=gr.return;r!==null;){var n=r;switch(lj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Om();break;case 3:vc(),Xt(On),Xt(Qr),xj();break;case 5:gj(n);break;case 4:vc();break;case 13:Xt(tr);break;case 19:Xt(tr);break;case 10:hj(n.type._context);break;case 22:case 23:Pj()}r=r.return}if(zr=e,gr=e=Ii(e.current,null),qr=zn=t,Er=0,Vu=null,kj=gg=$o=0,bn=mu=null,jo!==null){for(t=0;t<jo.length;t++)if(r=jo[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}jo=null}return e}function DO(e,t){do{var r=gr;try{if(uj(),rm.current=Im,zm){for(var n=nr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}zm=!1}if(Lo=0,Dr=Sr=nr=null,hu=!1,Bu=0,Nj.current=null,r===null||r.return===null){Er=1,Vu=t,gr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=qr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=WN(o);if(m!==null){m.flags&=-257,VN(m,o,l,i,t),m.mode&1&&UN(i,d,t),t=m,c=d;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){UN(i,d,t),Ej();break e}c=Error(ve(426))}}else if(Qt&&l.mode&1){var x=WN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),VN(x,o,l,i,t),cj(bc(c,l));break e}}i=c=bc(c,l),Er!==4&&(Er=2),mu===null?mu=[i]:mu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=pO(i,c,t);RN(i,y);break e;case 1:l=c;var v=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Mi===null||!Mi.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=gO(i,l,t);RN(i,w);break e}}i=i.return}while(i!==null)}IO(r)}catch(k){t=k,gr===r&&r!==null&&(gr=r=r.return);continue}break}while(!0)}function MO(){var e=Rm.current;return Rm.current=Im,e===null?Im:e}function Ej(){(Er===0||Er===3||Er===2)&&(Er=4),zr===null||!($o&268435455)&&!(gg&268435455)||wi(zr,qr)}function Fm(e,t){var r=vt;vt|=2;var n=MO();(zr!==e||qr!==t)&&(As=null,Co(e,t));do try{Wz();break}catch(s){DO(e,s)}while(!0);if(uj(),vt=r,Rm.current=n,gr!==null)throw Error(ve(261));return zr=null,qr=0,Er}function Wz(){for(;gr!==null;)zO(gr)}function Vz(){for(;gr!==null&&!gM();)zO(gr)}function zO(e){var t=LO(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?IO(e):gr=t,Nj.current=null}function IO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Lz(r,t),r!==null){r.flags&=32767,gr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Er=6,gr=null;return}}else if(r=Rz(r,t,zn),r!==null){gr=r;return}if(t=t.sibling,t!==null){gr=t;return}gr=t=e}while(t!==null);Er===0&&(Er=5)}function fo(e,t,r){var n=Et,s=ha.transition;try{ha.transition=null,Et=1,Hz(e,t,r,n)}finally{ha.transition=s,Et=n}return null}function Hz(e,t,r,n){do lc();while(ki!==null);if(vt&6)throw Error(ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(SM(e,i),e===zr&&(gr=zr=null,qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bf||(bf=!0,$O(wm,function(){return lc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ha.transition,ha.transition=null;var o=Et;Et=1;var l=vt;vt|=4,Nj.current=null,Fz(e,r),CO(r,e),hz(tv),_m=!!ev,tv=ev=null,e.current=r,qz(r),xM(),vt=l,Et=o,ha.transition=i}else e.current=r;if(bf&&(bf=!1,ki=e,$m=s),i=e.pendingLanes,i===0&&(Mi=null),bM(r.stateNode),En(e,hr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Lm)throw Lm=!1,e=bv,bv=null,e;return $m&1&&e.tag!==0&&lc(),i=e.pendingLanes,i&1?e===wv?pu++:(pu=0,wv=e):pu=0,Hi(),null}function lc(){if(ki!==null){var e=p6($m),t=ha.transition,r=Et;try{if(ha.transition=null,Et=16>e?16:e,ki===null)var n=!1;else{if(e=ki,ki=null,$m=0,vt&6)throw Error(ve(331));var s=vt;for(vt|=4,Me=e.current;Me!==null;){var i=Me,o=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Me=d;Me!==null;){var u=Me;switch(u.tag){case 0:case 11:case 15:fu(8,u,i)}var h=u.child;if(h!==null)h.return=u,Me=h;else for(;Me!==null;){u=Me;var f=u.sibling,m=u.return;if(OO(u),u===d){Me=null;break}if(f!==null){f.return=m,Me=f;break}Me=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Me=o;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fu(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Me=y;break e}Me=i.return}}var v=e.current;for(Me=v;Me!==null;){o=Me;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Me=j;else e:for(o=v;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pg(9,l)}}catch(k){sr(l,l.return,k)}if(l===o){Me=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Me=w;break e}Me=l.return}}if(vt=s,Hi(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(og,e)}catch{}n=!0}return n}finally{Et=r,ha.transition=t}}return!1}function a2(e,t,r){t=bc(r,t),t=pO(e,t,1),e=Di(e,t,1),t=hn(),e!==null&&(Mh(e,1,t),En(e,t))}function sr(e,t,r){if(e.tag===3)a2(e,e,r);else for(;t!==null;){if(t.tag===3){a2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mi===null||!Mi.has(n))){e=bc(r,e),e=gO(t,e,1),t=Di(t,e,1),e=hn(),t!==null&&(Mh(t,1,e),En(t,e));break}}t=t.return}}function Kz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&r,zr===e&&(qr&r)===r&&(Er===4||Er===3&&(qr&130023424)===qr&&500>hr()-Sj?Co(e,0):kj|=r),En(e,t)}function RO(e,t){t===0&&(e.mode&1?(t=df,df<<=1,!(df&130023424)&&(df=4194304)):t=1);var r=hn();e=Hs(e,t),e!==null&&(Mh(e,t,r),En(e,r))}function Gz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),RO(e,r)}function Yz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),RO(e,r)}var LO;LO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||On.current)jn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jn=!1,Iz(e,t,r);jn=!!(e.flags&131072)}else jn=!1,Qt&&t.flags&1048576&&q6(t,Cm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;am(e,t),e=t.pendingProps;var s=gc(t,Qr.current);oc(t,r),s=vj(null,t,n,e,s,r);var i=bj();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pn(n)?(i=!0,Pm(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mj(t),s.updater=mg,t.stateNode=s,s._reactInternals=t,dv(t,n,e,r),t=fv(null,t,n,!0,i,r)):(t.tag=0,Qt&&i&&oj(t),en(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(am(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Qz(n),e=Sa(n,e),s){case 0:t=hv(null,t,n,e,r);break e;case 1:t=GN(null,t,n,e,r);break e;case 11:t=HN(null,t,n,e,r);break e;case 14:t=KN(null,t,n,Sa(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sa(n,s),hv(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sa(n,s),GN(e,t,n,s,r);case 3:e:{if(bO(t),e===null)throw Error(ve(387));n=t.pendingProps,i=t.memoizedState,s=i.element,K6(e,t),Dm(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bc(Error(ve(423)),t),t=YN(e,t,n,r,s);break e}else if(n!==s){s=bc(Error(ve(424)),t),t=YN(e,t,n,r,s);break e}else for(qn=Ti(t.stateNode.containerInfo.firstChild),Wn=t,Qt=!0,Aa=null,r=V6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xc(),n===s){t=Ks(e,t,r);break e}en(e,t,n,r)}t=t.child}return t;case 5:return G6(t),e===null&&ov(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,rv(n,s)?o=null:i!==null&&rv(n,i)&&(t.flags|=32),vO(e,t),en(e,t,o,r),t.child;case 6:return e===null&&ov(t),null;case 13:return wO(e,t,r);case 4:return pj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=yc(t,null,n,r):en(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sa(n,s),HN(e,t,n,s,r);case 7:return en(e,t,t.pendingProps,r),t.child;case 8:return en(e,t,t.pendingProps.children,r),t.child;case 12:return en(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ut(Am,n._currentValue),n._currentValue=o,i!==null)if(Fa(i.value,o)){if(i.children===s.children&&!On.current){t=Ks(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Fs(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),lv(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),lv(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}en(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,oc(t,r),s=ma(s),n=n(s),t.flags|=1,en(e,t,n,r),t.child;case 14:return n=t.type,s=Sa(n,t.pendingProps),s=Sa(n.type,s),KN(e,t,n,s,r);case 15:return xO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sa(n,s),am(e,t),t.tag=1,Pn(n)?(e=!0,Pm(t)):e=!1,oc(t,r),mO(t,n,s),dv(t,n,s,r),fv(null,t,n,!0,e,r);case 19:return jO(e,t,r);case 22:return yO(e,t,r)}throw Error(ve(156,t.tag))};function $O(e,t){return u6(e,t)}function Xz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(e,t,r,n){return new Xz(e,t,r,n)}function Cj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qz(e){if(typeof e=="function")return Cj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yw)return 11;if(e===Xw)return 14}return 2}function Ii(e,t){var r=e.alternate;return r===null?(r=la(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function om(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Cj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Il:return Ao(r.children,s,i,t);case Gw:o=8,s|=8;break;case My:return e=la(12,r,t,s|2),e.elementType=My,e.lanes=i,e;case zy:return e=la(13,r,t,s),e.elementType=zy,e.lanes=i,e;case Iy:return e=la(19,r,t,s),e.elementType=Iy,e.lanes=i,e;case G3:return xg(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H3:o=10;break e;case K3:o=9;break e;case Yw:o=11;break e;case Xw:o=14;break e;case xi:o=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=la(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ao(e,t,r,n){return e=la(7,e,n,t),e.lanes=r,e}function xg(e,t,r,n){return e=la(22,e,n,t),e.elementType=G3,e.lanes=r,e.stateNode={isHidden:!1},e}function jx(e,t,r){return e=la(6,e,null,t),e.lanes=r,e}function _x(e,t,r){return t=la(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jz(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nx(0),this.expirationTimes=nx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nx(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Aj(e,t,r,n,s,i,o,l,c){return e=new Jz(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=la(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mj(i),e}function Zz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FO(e){if(!e)return qi;e=e._reactInternals;e:{if(sl(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(Pn(r))return $6(e,r,t)}return t}function qO(e,t,r,n,s,i,o,l,c){return e=Aj(r,n,!0,e,s,i,o,l,c),e.context=FO(null),r=e.current,n=hn(),s=zi(r),i=Fs(n,s),i.callback=t??null,Di(r,i,s),e.current.lanes=s,Mh(e,s,n),En(e,n),e}function yg(e,t,r,n){var s=t.current,i=hn(),o=zi(s);return r=FO(r),t.context===null?t.context=r:t.pendingContext=r,t=Fs(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Di(s,t,o),e!==null&&(za(e,s,o,i),tm(e,s,o)),o}function qm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function s2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tj(e,t){s2(e,t),(e=e.alternate)&&s2(e,t)}function eI(){return null}var BO=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dj(e){this._internalRoot=e}vg.prototype.render=Dj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));yg(e,t,null,null)};vg.prototype.unmount=Dj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){yg(null,e,null,null)}),t[Vs]=null}};function vg(e){this._internalRoot=e}vg.prototype.unstable_scheduleHydration=function(e){if(e){var t=y6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bi.length&&t!==0&&t<bi[r].priority;r++);bi.splice(r,0,e),r===0&&b6(e)}};function Mj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i2(){}function tI(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=qm(o);i.call(d)}}var o=qO(t,n,e,0,null,!1,!1,"",i2);return e._reactRootContainer=o,e[Vs]=o.current,Ru(e.nodeType===8?e.parentNode:e),Fo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=qm(c);l.call(d)}}var c=Aj(e,0,!1,null,null,!1,!1,"",i2);return e._reactRootContainer=c,e[Vs]=c.current,Ru(e.nodeType===8?e.parentNode:e),Fo(function(){yg(t,c,r,n)}),c}function wg(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=qm(o);l.call(c)}}yg(t,o,e,s)}else o=tI(r,t,e,s,n);return qm(o)}g6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tu(t.pendingLanes);r!==0&&(Zw(t,r|1),En(t,hr()),!(vt&6)&&(wc=hr()+500,Hi()))}break;case 13:Fo(function(){var n=Hs(e,1);if(n!==null){var s=hn();za(n,e,1,s)}}),Tj(e,1)}};ej=function(e){if(e.tag===13){var t=Hs(e,134217728);if(t!==null){var r=hn();za(t,e,134217728,r)}Tj(e,134217728)}};x6=function(e){if(e.tag===13){var t=zi(e),r=Hs(e,t);if(r!==null){var n=hn();za(r,e,t,n)}Tj(e,t)}};y6=function(){return Et};v6=function(e,t){var r=Et;try{return Et=e,t()}finally{Et=r}};Hy=function(e,t,r){switch(t){case"input":if($y(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ug(n);if(!s)throw Error(ve(90));X3(n),$y(n,s)}}}break;case"textarea":J3(e,r);break;case"select":t=r.value,t!=null&&nc(e,!!r.multiple,t,!1)}};s6=Oj;i6=Fo;var rI={usingClientEntryPoint:!1,Events:[Ih,Fl,ug,n6,a6,Oj]},Rd={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nI={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c6(e),e===null?null:e.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||eI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{og=wf.inject(nI),ls=wf}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rI;Jn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mj(t))throw Error(ve(200));return Zz(e,t,null,r)};Jn.createRoot=function(e,t){if(!Mj(e))throw Error(ve(299));var r=!1,n="",s=BO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Aj(e,1,!1,null,null,r,!1,n,s),e[Vs]=t.current,Ru(e.nodeType===8?e.parentNode:e),new Dj(t)};Jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=c6(t),e=e===null?null:e.stateNode,e};Jn.flushSync=function(e){return Fo(e)};Jn.hydrate=function(e,t,r){if(!bg(t))throw Error(ve(200));return wg(null,e,t,!0,r)};Jn.hydrateRoot=function(e,t,r){if(!Mj(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=BO;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=qO(t,null,e,1,r??null,s,!1,i,o),e[Vs]=t.current,Ru(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new vg(t)};Jn.render=function(e,t,r){if(!bg(t))throw Error(ve(200));return wg(null,e,t,!1,r)};Jn.unmountComponentAtNode=function(e){if(!bg(e))throw Error(ve(40));return e._reactRootContainer?(Fo(function(){wg(null,null,e,!1,function(){e._reactRootContainer=null,e[Vs]=null})}),!0):!1};Jn.unstable_batchedUpdates=Oj;Jn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bg(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return wg(e,t,r,!1,n)};Jn.version="18.3.1-next-f1338f8080-20240426";function UO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UO)}catch(e){console.error(e)}}UO(),B3.exports=Jn;var il=B3.exports;const zj=kt(il),WO=E3({__proto__:null,default:zj},[il]);var Ij,o2=il;Ij=o2.createRoot,o2.hydrateRoot;function l2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function VO(...e){return t=>{let r=!1;const n=e.map(s=>{const i=l2(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():l2(e[s],null)}}}}function jt(...e){return b.useCallback(VO(...e),e)}function qo(e){const t=aI(e),r=b.forwardRef((n,s)=>{const{children:i,...o}=n,l=b.Children.toArray(i),c=l.find(iI);if(c){const d=c.props.children,u=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return a.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Rj=qo("Slot");function aI(e){const t=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const o=lI(s),l=oI(i,s.props);return s.type!==b.Fragment&&(l.ref=n?VO(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sI=Symbol("radix.slottable");function iI(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sI}function oI(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{const l=i(...o);return s(...o),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function lI(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function HO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=HO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=HO(e))&&(n&&(n+=" "),n+=t);return n}const c2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,d2=Ze,jg=(e,t)=>r=>{var n;if(t?.variants==null)return d2(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(d=>{const u=r?.[d],h=i?.[d];if(u===null)return null;const f=c2(u)||c2(h);return s[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...d,h,f]:d},[]);return d2(e,o,c,r?.class,r?.className)},Lj="-",cI=e=>{const t=uI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const i=s.split(Lj);return i[0]===""&&i.length!==1&&i.shift(),KO(i,t)||dI(s)},getConflictingClassGroupIds:(s,i)=>{const o=r[s]||[];return i&&n[s]?[...o,...n[s]]:o}}},KO=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?KO(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Lj);return t.validators.find(({validator:o})=>o(i))?.classGroupId},u2=/^\[(.+)\]$/,dI=e=>{if(u2.test(e)){const t=u2.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},uI=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)Nv(r[s],n,s,t);return n},Nv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:h2(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(hI(s)){Nv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Nv(o,h2(t,i),r,n)})})},h2=(e,t)=>{let r=e;return t.split(Lj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hI=e=>e.isThemeGetter,fI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},kv="!",Sv=":",mI=Sv.length,pI=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let o=0,l=0,c=0,d;for(let g=0;g<s.length;g++){let p=s[g];if(o===0&&l===0){if(p===Sv){i.push(s.slice(c,g)),c=g+mI;continue}if(p==="/"){d=g;continue}}p==="["?o++:p==="]"?o--:p==="("?l++:p===")"&&l--}const u=i.length===0?s:s.substring(c),h=gI(u),f=h!==u,m=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(t){const s=t+Sv,i=n;n=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},gI=e=>e.endsWith(kv)?e.substring(0,e.length-1):e.startsWith(kv)?e.substring(1):e,xI=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const n=[];let s=[];return r.forEach(i=>{i[0]==="["||t[i]?(n.push(...s.sort(),i),s=[]):s.push(i)}),n.push(...s.sort()),n}},yI=e=>({cache:fI(e.cacheSize),parseClassName:pI(e),sortModifiers:xI(e),...cI(e)}),vI=/\s+/,bI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(vI);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}=r(u);if(h){c=u+(c.length>0?" "+c:c);continue}let x=!!p,y=n(x?g.substring(0,p):g);if(!y){if(!x){c=u+(c.length>0?" "+c:c);continue}if(y=n(g),!y){c=u+(c.length>0?" "+c:c);continue}x=!1}const v=i(f).join(":"),j=m?v+kv:v,w=j+y;if(o.includes(w))continue;o.push(w);const k=s(y,x);for(let N=0;N<k.length;++N){const S=k[N];o.push(j+S)}c=u+(c.length>0?" "+c:c)}return c};function wI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=GO(t))&&(n&&(n+=" "),n+=r);return n}const GO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=GO(e[n]))&&(r&&(r+=" "),r+=t);return r};function jI(e,...t){let r,n,s,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=yI(d),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=bI(c,r);return s(c,u),u}return function(){return i(wI.apply(null,arguments))}}const wr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,XO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_I=/^\d+\/\d+$/,NI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=e=>_I.test(e),lt=e=>!!e&&!Number.isNaN(Number(e)),ci=e=>!!e&&Number.isInteger(Number(e)),Nx=e=>e.endsWith("%")&&lt(e.slice(0,-1)),Ss=e=>NI.test(e),EI=()=>!0,CI=e=>kI.test(e)&&!SI.test(e),QO=()=>!1,AI=e=>OI.test(e),TI=e=>PI.test(e),DI=e=>!Re(e)&&!Le(e),MI=e=>od(e,eP,QO),Re=e=>YO.test(e),so=e=>od(e,tP,CI),kx=e=>od(e,$I,lt),f2=e=>od(e,JO,QO),zI=e=>od(e,ZO,TI),jf=e=>od(e,rP,AI),Le=e=>XO.test(e),Ld=e=>ld(e,tP),II=e=>ld(e,FI),m2=e=>ld(e,JO),RI=e=>ld(e,eP),LI=e=>ld(e,ZO),_f=e=>ld(e,rP,!0),od=(e,t,r)=>{const n=YO.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},ld=(e,t,r=!1)=>{const n=XO.exec(e);return n?n[1]?t(n[1]):r:!1},JO=e=>e==="position"||e==="percentage",ZO=e=>e==="image"||e==="url",eP=e=>e==="length"||e==="size"||e==="bg-size",tP=e=>e==="length",$I=e=>e==="number",FI=e=>e==="family-name",rP=e=>e==="shadow",qI=()=>{const e=wr("color"),t=wr("font"),r=wr("text"),n=wr("font-weight"),s=wr("tracking"),i=wr("leading"),o=wr("breakpoint"),l=wr("container"),c=wr("spacing"),d=wr("radius"),u=wr("shadow"),h=wr("inset-shadow"),f=wr("text-shadow"),m=wr("drop-shadow"),g=wr("blur"),p=wr("perspective"),x=wr("aspect"),y=wr("ease"),v=wr("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...w(),Le,Re],N=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],O=()=>[Le,Re,c],P=()=>[ml,"full","auto",...O()],$=()=>[ci,"none","subgrid",Le,Re],T=()=>["auto",{span:["full",ci,Le,Re]},ci,Le,Re],I=()=>[ci,"auto",Le,Re],D=()=>["auto","min","max","fr",Le,Re],E=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...O()],V=()=>[ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],L=()=>[e,Le,Re],G=()=>[...w(),m2,f2,{position:[Le,Re]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",RI,MI,{size:[Le,Re]}],R=()=>[Nx,Ld,so],Y=()=>["","none","full",d,Le,Re],se=()=>["",lt,Ld,so],oe=()=>["solid","dashed","dotted","double"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>[lt,Nx,m2,f2],B=()=>["","none",g,Le,Re],W=()=>["none",lt,Le,Re],H=()=>["none",lt,Le,Re],X=()=>[lt,Le,Re],A=()=>[ml,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ss],breakpoint:[Ss],color:[EI],container:[Ss],"drop-shadow":[Ss],ease:["in","out","in-out"],font:[DI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ss],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ss],shadow:[Ss],spacing:["px",lt],text:[Ss],"text-shadow":[Ss],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ml,Re,Le,x]}],container:["container"],columns:[{columns:[lt,Re,Le,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ci,"auto",Le,Re]}],basis:[{basis:[ml,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lt,ml,"auto","initial","none",Re]}],grow:[{grow:["",lt,Le,Re]}],shrink:[{shrink:["",lt,Le,Re]}],order:[{order:[ci,"first","last","none",Le,Re]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,Ld,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Le,kx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nx,Re]}],"font-family":[{font:[II,Re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Le,Re]}],"line-clamp":[{"line-clamp":[lt,"none",Le,kx]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Le,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Le,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[lt,"from-font","auto",Le,so]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[lt,"auto",Le,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ci,Le,Re],radial:["",Le,Re],conic:[ci,Le,Re]},LI,zI]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lt,Le,Re]}],"outline-w":[{outline:["",lt,Ld,so]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",u,_f,jf]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",h,_f,jf]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[lt,so]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",f,_f,jf]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[lt,Le,Re]}],"mix-blend":[{"mix-blend":[...K(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":K()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Le,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Le,Re]}],filter:[{filter:["","none",Le,Re]}],blur:[{blur:B()}],brightness:[{brightness:[lt,Le,Re]}],contrast:[{contrast:[lt,Le,Re]}],"drop-shadow":[{"drop-shadow":["","none",m,_f,jf]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",lt,Le,Re]}],"hue-rotate":[{"hue-rotate":[lt,Le,Re]}],invert:[{invert:["",lt,Le,Re]}],saturate:[{saturate:[lt,Le,Re]}],sepia:[{sepia:["",lt,Le,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Le,Re]}],"backdrop-blur":[{"backdrop-blur":B()}],"backdrop-brightness":[{"backdrop-brightness":[lt,Le,Re]}],"backdrop-contrast":[{"backdrop-contrast":[lt,Le,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lt,Le,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lt,Le,Re]}],"backdrop-invert":[{"backdrop-invert":["",lt,Le,Re]}],"backdrop-opacity":[{"backdrop-opacity":[lt,Le,Re]}],"backdrop-saturate":[{"backdrop-saturate":[lt,Le,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",lt,Le,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Le,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lt,"initial",Le,Re]}],ease:[{ease:["linear","initial",y,Le,Re]}],delay:[{delay:[lt,Le,Re]}],animate:[{animate:["none",v,Le,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,Le,Re]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:X()}],"skew-x":[{"skew-x":X()}],"skew-y":[{"skew-y":X()}],transform:[{transform:[Le,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:A()}],"translate-x":[{"translate-x":A()}],"translate-y":[{"translate-y":A()}],"translate-z":[{"translate-z":A()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le,Re]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[lt,Ld,so,kx]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nP=jI(qI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const BI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),p2=e=>{const t=UI(e);return t.charAt(0).toUpperCase()+t.slice(1)},aP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var WI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const VI=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...WI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:aP("lucide",s),...l},[...o.map(([d,u])=>b.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pe=(e,t)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(VI,{ref:i,iconNode:t,className:aP(`lucide-${BI(p2(e))}`,`lucide-${e}`,n),...s}));return r.displayName=p2(e),r};/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const HI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cc=Pe("activity",HI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const KI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sP=Pe("arrow-left",KI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bn=Pe("arrow-right",GI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const YI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bm=Pe("award",YI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],lm=Pe("ban",XI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],iP=Pe("bell",QI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JI=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Vn=Pe("building-2",JI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],gu=Pe("building",ZI);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eR=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],oP=Pe("calculator",eR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ia=Pe("calendar",tR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fa=Pe("chart-column",rR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nR=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$j=Pe("chart-pie",nR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bo=Pe("check",aR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qa=Pe("chevron-down",sR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lP=Pe("chevron-left",iR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_g=Pe("chevron-right",oR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jc=Pe("chevron-up",lR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rr=Pe("circle-alert",cR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Je=Pe("circle-check-big",dR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ov=Pe("circle-plus",uR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_c=Pe("circle-x",hR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Um=Pe("clipboard-list",fR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Pr=Pe("clock",mR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Lh=Pe("crown",pR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ds=Pe("dollar-sign",gR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Uo=Pe("download",xR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cP=Pe("eye-off",yR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jt=Pe("eye",vR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],dP=Pe("file-chart-column-increasing",bR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],us=Pe("file-text",wR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jR=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],It=Pe("fish",jR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _R=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cd=Pe("funnel",_R);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const NR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uP=Pe("globe",NR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],cm=Pe("heart",kR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const SR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ba=Pe("house",SR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hP=Pe("info",OR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PR=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],fP=Pe("key",PR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ER=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cl=Pe("layers",ER);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const CR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gs=Pe("loader-circle",CR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fj=Pe("lock",AR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Pv=Pe("log-out",TR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const DR=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ev=Pe("mail",DR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const MR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fn=Pe("map-pin",MR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zR=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],mP=Pe("menu",zR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const IR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nt=Pe("package",IR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],xu=Pe("phone",RR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],on=Pe("plus",LR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $R=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tt=Pe("refresh-cw",$R);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FR=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Ng=Pe("ruler",FR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qR=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Xr=Pe("scale",qR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const BR=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],ca=Pe("scissors",BR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const UR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Wo=Pe("search",UR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const WR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Cv=Pe("send",WR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const VR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kg=Pe("settings",VR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const HR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pP=Pe("shield-check",HR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const KR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],or=Pe("shield",KR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ra=Pe("shopping-cart",GR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const YR=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kl=Pe("square-check-big",YR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],No=Pe("square-pen",XR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Sg=Pe("star",QR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Av=Pe("target",JR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZR=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],gP=Pe("thermometer",ZR);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eL=[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]],Si=Pe("tractor",eL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Fr=Pe("trash-2",tL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rL=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],qj=Pe("trending-down",rL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nL=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],_n=Pe("trending-up",nL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wt=Pe("triangle-alert",aL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ln=Pe("truck",sL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Tv=Pe("user-check",iL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xP=Pe("user-minus",oL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yP=Pe("user-plus",lL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yu=Pe("user",cL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Un=Pe("users",dL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uL=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],Nn=Pe("warehouse",uL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hL=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],Hn=Pe("weight",hL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fL=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],Dv=Pe("wheat",fL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ys=Pe("x",mL);/**
* @license lucide-react v0.487.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Og=Pe("zap",pL);function Xe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),r===!1||!n.defaultPrevented)return t?.(n)}}function gL(e,t){const r=b.createContext(t),n=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function vs(e,t=[]){let r=[];function n(i,o){const l=b.createContext(o),c=r.length;r=[...r,o];const d=h=>{const{scope:f,children:m,...g}=h,p=f?.[e]?.[c]||l,x=b.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[e]?.[c]||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>b.createContext(o));return function(o){const l=o?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return s.scopeName=e,[n,xL(s,...t)]}function xL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=n.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var yr=globalThis?.document?b.useLayoutEffect:()=>{},yL=F3[" useId ".trim().toString()]||(()=>{}),vL=0;function qs(e){const[t,r]=b.useState(yL());return yr(()=>{r(n=>n??String(vL++))},[e]),t?`radix-${t}`:""}var bL=F3[" useInsertionEffect ".trim().toString()]||yr;function Vo({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=wL({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const u=b.useRef(e!==void 0);b.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=b.useCallback(u=>{if(l){const h=jL(u)?u(e):u;h!==e&&o.current?.(h)}else i(u)},[l,e,i,o]);return[c,d]}function wL({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),s=b.useRef(r),i=b.useRef(t);return bL(()=>{i.current=t},[t]),b.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function jL(e){return typeof e=="function"}var _L=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tt=_L.reduce((e,t)=>{const r=qo(`Primitive.${t}`),n=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function NL(e,t){e&&il.flushSync(()=>e.dispatchEvent(t))}function Gr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>t.current?.(...r),[])}function kL(e,t=globalThis?.document){const r=Gr(e);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var SL="DismissableLayer",Mv="dismissableLayer.update",OL="dismissableLayer.pointerDownOutside",PL="dismissableLayer.focusOutside",g2,vP=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pg=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=b.useContext(vP),[u,h]=b.useState(null),f=u?.ownerDocument??globalThis?.document,[,m]=b.useState({}),g=jt(t,S=>h(S)),p=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),v=u?p.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,k=AL(S=>{const O=S.target,P=[...d.branches].some($=>$.contains(O));!w||P||(s?.(S),o?.(S),S.defaultPrevented||l?.())},f),N=TL(S=>{const O=S.target;[...d.branches].some(P=>P.contains(O))||(i?.(S),o?.(S),S.defaultPrevented||l?.())},f);return kL(S=>{v===d.layers.size-1&&(n?.(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),b.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(g2=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),x2(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=g2)}},[u,f,r,d]),b.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),x2())},[u,d]),b.useEffect(()=>{const S=()=>m({});return document.addEventListener(Mv,S),()=>document.removeEventListener(Mv,S)},[]),a.jsx(tt.div,{...c,ref:g,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:Xe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Xe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Xe(e.onPointerDownCapture,k.onPointerDownCapture)})});Pg.displayName=SL;var EL="DismissableLayerBranch",CL=b.forwardRef((e,t)=>{const r=b.useContext(vP),n=b.useRef(null),s=jt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(tt.div,{...e,ref:s})});CL.displayName=EL;function AL(e,t=globalThis?.document){const r=Gr(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){bP(OL,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function TL(e,t=globalThis?.document){const r=Gr(e),n=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!n.current&&bP(PL,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function x2(){const e=new CustomEvent(Mv);document.dispatchEvent(e)}function bP(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?NL(s,i):s.dispatchEvent(i)}var Sx="focusScope.autoFocusOnMount",Ox="focusScope.autoFocusOnUnmount",y2={bubbles:!1,cancelable:!0},DL="FocusScope",Eg=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),d=Gr(s),u=Gr(i),h=b.useRef(null),f=jt(t,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?h.current=w:mi(h.current,{select:!0})},x=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||mi(h.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&mi(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[n,l,m.paused]),b.useEffect(()=>{if(l){b2.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Sx,y2);l.addEventListener(Sx,d),l.dispatchEvent(x),x.defaultPrevented||(ML($L(wP(l)),{select:!0}),document.activeElement===p&&mi(l))}return()=>{l.removeEventListener(Sx,d),setTimeout(()=>{const x=new CustomEvent(Ox,y2);l.addEventListener(Ox,u),l.dispatchEvent(x),x.defaultPrevented||mi(p??document.body,{select:!0}),l.removeEventListener(Ox,u),b2.remove(m)},0)}}},[l,d,u,m]);const g=b.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const v=p.currentTarget,[j,w]=zL(v);j&&w?!p.shiftKey&&y===w?(p.preventDefault(),r&&mi(j,{select:!0})):p.shiftKey&&y===j&&(p.preventDefault(),r&&mi(w,{select:!0})):y===v&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(tt.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Eg.displayName=DL;function ML(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(mi(n,{select:t}),document.activeElement!==r)return}function zL(e){const t=wP(e),r=v2(t,e),n=v2(t.reverse(),e);return[r,n]}function wP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function v2(e,t){for(const r of e)if(!IL(r,{upTo:t}))return r}function IL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function RL(e){return e instanceof HTMLInputElement&&"select"in e}function mi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&RL(e)&&t&&e.select()}}var b2=LL();function LL(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=w2(e,t),e.unshift(t)},remove(t){e=w2(e,t),e[0]?.resume()}}}function w2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function $L(e){return e.filter(t=>t.tagName!=="A")}var FL="Portal",Cg=b.forwardRef((e,t)=>{const{container:r,...n}=e,[s,i]=b.useState(!1);yr(()=>i(!0),[]);const o=r||s&&globalThis?.document?.body;return o?zj.createPortal(a.jsx(tt.div,{...n,ref:t}),o):null});Cg.displayName=FL;function qL(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var xa=e=>{const{present:t,children:r}=e,n=BL(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=jt(n.ref,UL(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};xa.displayName="Presence";function BL(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=qL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Nf(n.current);i.current=l==="mounted"?d:"none"},[l]),yr(()=>{const d=n.current,u=s.current;if(u!==e){const h=i.current,f=Nf(d);e?c("MOUNT"):f==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),yr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=m=>{const g=Nf(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},f=m=>{m.target===t&&(i.current=Nf(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Nf(e){return e?.animationName||"none"}function UL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Px=0;function Bj(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j2()),document.body.insertAdjacentElement("beforeend",e[1]??j2()),Px++,()=>{Px===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Px--}},[])}function j2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ts=function(){return ts=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ts.apply(this,arguments)};function jP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function WL(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var dm="right-scroll-bar-position",um="width-before-scroll-bar",VL="with-scroll-bars-hidden",HL="--removed-body-scroll-bar-size";function Ex(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KL(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var GL=typeof window<"u"?b.useLayoutEffect:b.useEffect,_2=new WeakMap;function YL(e,t){var r=KL(null,function(n){return e.forEach(function(s){return Ex(s,n)})});return GL(function(){var n=_2.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Ex(l,null)}),i.forEach(function(l){s.has(l)||Ex(l,o)})}_2.set(r,e)},[e]),r}function XL(e){return e}function QL(e,t){t===void 0&&(t=XL);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return s}function JL(e){e===void 0&&(e={});var t=QL(null);return t.options=ts({async:!0,ssr:!1},e),t}var _P=function(e){var t=e.sideCar,r=jP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,ts({},r))};_P.isSideCarExport=!0;function ZL(e,t){return e.useMedium(t),_P}var NP=JL(),Cx=function(){},Ag=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:Cx,onWheelCapture:Cx,onTouchMoveCapture:Cx}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,j=e.gapMode,w=jP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,N=YL([r,t]),S=ts(ts({},w),s);return b.createElement(b.Fragment,null,u&&b.createElement(k,{sideCar:NP,removeScrollBar:d,shards:h,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:j}),o?b.cloneElement(b.Children.only(l),ts(ts({},S),{ref:N})):b.createElement(v,ts({},S,{className:c,ref:N}),l))});Ag.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ag.classNames={fullWidth:um,zeroRight:dm};var e$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=e$();return t&&e.setAttribute("nonce",t),e}function r$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function n$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var a$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=t$())&&(r$(t,r),n$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},s$=function(){var e=a$();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kP=function(){var e=s$(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},i$={left:0,top:0,right:0,gap:0},Ax=function(e){return parseInt(e||"",10)||0},o$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ax(r),Ax(n),Ax(s)]},l$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return i$;var t=o$(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},c$=kP(),dc="data-scroll-locked",d$=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(VL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(dc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(um,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(dm," .").concat(dm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(um," .").concat(um,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(dc,`] {
    `).concat(HL,": ").concat(l,`px;
  }
`)},N2=function(){var e=parseInt(document.body.getAttribute(dc)||"0",10);return isFinite(e)?e:0},u$=function(){b.useEffect(function(){return document.body.setAttribute(dc,(N2()+1).toString()),function(){var e=N2()-1;e<=0?document.body.removeAttribute(dc):document.body.setAttribute(dc,e.toString())}},[])},h$=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;u$();var i=b.useMemo(function(){return l$(s)},[s]);return b.createElement(c$,{styles:d$(i,!t,s,r?"":"!important")})},zv=!1;if(typeof window<"u")try{var kf=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{zv=!1}var pl=zv?{passive:!1}:!1,f$=function(e){return e.tagName==="TEXTAREA"},SP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!f$(e)&&r[t]==="visible")},m$=function(e){return SP(e,"overflowY")},p$=function(e){return SP(e,"overflowX")},k2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=OP(e,n);if(s){var i=PP(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},g$=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},x$=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},OP=function(e,t){return e==="v"?m$(t):p$(t)},PP=function(e,t){return e==="v"?g$(t):x$(t)},y$=function(e,t){return e==="h"&&t==="rtl"?-1:1},v$=function(e,t,r,n,s){var i=y$(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var m=PP(e,l),g=m[0],p=m[1],x=m[2],y=p-x-i*g;(g||y)&&OP(e,l)&&(h+=y,f+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},Sf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},S2=function(e){return[e.deltaX,e.deltaY]},O2=function(e){return e&&"current"in e?e.current:e},b$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},w$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j$=0,gl=[];function _$(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),s=b.useState(j$++)[0],i=b.useState(kP)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=WL([e.lockRef.current],(e.shards||[]).map(O2)).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Sf(p),v=r.current,j="deltaX"in p?p.deltaX:v[0]-y[0],w="deltaY"in p?p.deltaY:v[1]-y[1],k,N=p.target,S=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&S==="h"&&N.type==="range")return!1;var O=k2(S,N);if(!O)return!0;if(O?k=S:(k=S==="v"?"h":"v",O=k2(S,N)),!O)return!1;if(!n.current&&"changedTouches"in p&&(j||w)&&(n.current=k),!k)return!0;var P=n.current||k;return v$(P,x,p,P==="h"?j:w)},[]),c=b.useCallback(function(p){var x=p;if(!(!gl.length||gl[gl.length-1]!==i)){var y="deltaY"in x?S2(x):Sf(x),v=t.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&b$(k.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var j=(o.current.shards||[]).map(O2).filter(Boolean).filter(function(k){return k.contains(x.target)}),w=j.length>0?l(x,j[0]):!o.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),d=b.useCallback(function(p,x,y,v){var j={name:p,delta:x,target:y,should:v,shadowParent:N$(y)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),u=b.useCallback(function(p){r.current=Sf(p),n.current=void 0},[]),h=b.useCallback(function(p){d(p.type,S2(p),p.target,l(p,e.lockRef.current))},[]),f=b.useCallback(function(p){d(p.type,Sf(p),p.target,l(p,e.lockRef.current))},[]);b.useEffect(function(){return gl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,pl),document.addEventListener("touchmove",c,pl),document.addEventListener("touchstart",u,pl),function(){gl=gl.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,pl),document.removeEventListener("touchmove",c,pl),document.removeEventListener("touchstart",u,pl)}},[]);var m=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:w$(s)}):null,m?b.createElement(h$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function N$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const k$=ZL(NP,_$);var Tg=b.forwardRef(function(e,t){return b.createElement(Ag,ts({},e,{ref:t,sideCar:k$}))});Tg.classNames=Ag.classNames;var S$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xl=new WeakMap,Of=new WeakMap,Pf={},Tx=0,EP=function(e){return e&&(e.host||EP(e.parentNode))},O$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=EP(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},P$=function(e,t,r,n){var s=O$(t,Array.isArray(e)?e:[e]);Pf[r]||(Pf[r]=new WeakMap);var i=Pf[r],o=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(n),g=m!==null&&m!=="false",p=(xl.get(f)||0)+1,x=(i.get(f)||0)+1;xl.set(f,p),i.set(f,x),o.push(f),p===1&&g&&Of.set(f,!0),x===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),Tx++,function(){o.forEach(function(h){var f=xl.get(h)-1,m=i.get(h)-1;xl.set(h,f),i.set(h,m),f||(Of.has(h)||h.removeAttribute(n),Of.delete(h)),m||h.removeAttribute(r)}),Tx--,Tx||(xl=new WeakMap,xl=new WeakMap,Of=new WeakMap,Pf={})}},Uj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=S$(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),P$(n,s,r,"aria-hidden")):function(){return null}},Dg="Dialog",[CP,O1e]=vs(Dg),[E$,Ga]=CP(Dg),AP=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[d,u]=Vo({prop:n,defaultProp:s??!1,onChange:i,caller:Dg});return a.jsx(E$,{scope:t,triggerRef:l,contentRef:c,contentId:qs(),titleId:qs(),descriptionId:qs(),open:d,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};AP.displayName=Dg;var TP="DialogTrigger",DP=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ga(TP,r),i=jt(t,s.triggerRef);return a.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hj(s.open),...n,ref:i,onClick:Xe(e.onClick,s.onOpenToggle)})});DP.displayName=TP;var Wj="DialogPortal",[C$,MP]=CP(Wj,{forceMount:void 0}),zP=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Ga(Wj,t);return a.jsx(C$,{scope:t,forceMount:r,children:b.Children.map(n,o=>a.jsx(xa,{present:r||i.open,children:a.jsx(Cg,{asChild:!0,container:s,children:o})}))})};zP.displayName=Wj;var Wm="DialogOverlay",IP=b.forwardRef((e,t)=>{const r=MP(Wm,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ga(Wm,e.__scopeDialog);return i.modal?a.jsx(xa,{present:n||i.open,children:a.jsx(T$,{...s,ref:t})}):null});IP.displayName=Wm;var A$=qo("DialogOverlay.RemoveScroll"),T$=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ga(Wm,r);return a.jsx(Tg,{as:A$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(tt.div,{"data-state":Hj(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ho="DialogContent",RP=b.forwardRef((e,t)=>{const r=MP(Ho,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ga(Ho,e.__scopeDialog);return a.jsx(xa,{present:n||i.open,children:i.modal?a.jsx(D$,{...s,ref:t}):a.jsx(M$,{...s,ref:t})})});RP.displayName=Ho;var D$=b.forwardRef((e,t)=>{const r=Ga(Ho,e.__scopeDialog),n=b.useRef(null),s=jt(t,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return Uj(i)},[]),a.jsx(LP,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Xe(e.onFocusOutside,i=>i.preventDefault())})}),M$=b.forwardRef((e,t)=>{const r=Ga(Ho,e.__scopeDialog),n=b.useRef(!1),s=b.useRef(!1);return a.jsx(LP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),LP=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Ga(Ho,r),c=b.useRef(null),d=jt(t,c);return Bj(),a.jsxs(a.Fragment,{children:[a.jsx(Eg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Pg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hj(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(z$,{titleId:l.titleId}),a.jsx(R$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Vj="DialogTitle",$P=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ga(Vj,r);return a.jsx(tt.h2,{id:s.titleId,...n,ref:t})});$P.displayName=Vj;var FP="DialogDescription",qP=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ga(FP,r);return a.jsx(tt.p,{id:s.descriptionId,...n,ref:t})});qP.displayName=FP;var BP="DialogClose",UP=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ga(BP,r);return a.jsx(tt.button,{type:"button",...n,ref:t,onClick:Xe(e.onClick,()=>s.onOpenChange(!1))})});UP.displayName=BP;function Hj(e){return e?"open":"closed"}var WP="DialogTitleWarning",[P1e,VP]=gL(WP,{contentName:Ho,titleName:Vj,docsSlug:"dialog"}),z$=({titleId:e})=>{const t=VP(WP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},I$="DialogDescriptionWarning",R$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VP(I$).contentName}}.`;return b.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Kj=AP,Gj=DP,Yj=zP,Mg=IP,zg=RP,Xj=$P,HP=qP,Qj=UP,KP={exports:{}},GP={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Nc=b;function L$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $$=typeof Object.is=="function"?Object.is:L$,F$=Nc.useState,q$=Nc.useEffect,B$=Nc.useLayoutEffect,U$=Nc.useDebugValue;function W$(e,t){var r=t(),n=F$({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return B$(function(){s.value=r,s.getSnapshot=t,Dx(s)&&i({inst:s})},[e,r,t]),q$(function(){return Dx(s)&&i({inst:s}),e(function(){Dx(s)&&i({inst:s})})},[e]),U$(r),r}function Dx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$$(e,r)}catch{return!0}}function V$(e,t){return t()}var H$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V$:W$;GP.useSyncExternalStore=Nc.useSyncExternalStore!==void 0?Nc.useSyncExternalStore:H$;KP.exports=GP;var K$=KP.exports;function G$(){return K$.useSyncExternalStore(Y$,()=>!0,()=>!1)}function Y$(){return()=>{}}var Jj="Avatar",[X$,E1e]=vs(Jj),[Q$,YP]=X$(Jj),XP=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=b.useState("idle");return a.jsx(Q$,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(tt.span,{...n,ref:t})})});XP.displayName=Jj;var QP="AvatarImage",J$=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=YP(QP,r),l=Z$(n,i),c=Gr(d=>{s(d),o.onImageLoadingStatusChange(d)});return yr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(tt.img,{...i,ref:t,src:n}):null});J$.displayName=QP;var JP="AvatarFallback",ZP=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=YP(JP,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(tt.span,{...s,ref:t}):null});ZP.displayName=JP;function P2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Z$(e,{referrerPolicy:t,crossOrigin:r}){const n=G$(),s=b.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=b.useState(()=>P2(i,e));return yr(()=>{l(P2(i,e))},[i,e]),yr(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var eE=XP,tE=ZP;const eF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mr(async()=>{const{default:n}=await Promise.resolve().then(()=>dd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tF extends Zj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class E2 extends Zj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class C2 extends Zj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Iv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Iv||(Iv={}));var rF=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};class nF{constructor(t,{headers:r={},customFetch:n,region:s=Iv.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=eF(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return rF(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(p=>{throw new tF(p)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new E2(h);if(!h.ok)throw new C2(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof C2||s instanceof E2?s.context:void 0}}})}}var wn={},e1={},Ig={},$h={},Rg={},Lg={},aF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kc=aF();const sF=kc.fetch,rE=kc.fetch.bind(kc),nE=kc.Headers,iF=kc.Request,oF=kc.Response,dd=Object.freeze(Object.defineProperty({__proto__:null,Headers:nE,Request:iF,Response:oF,default:rE,fetch:sF},Symbol.toStringTag,{value:"Module"})),lF=TD(dd);var $g={};Object.defineProperty($g,"__esModule",{value:!0});let cF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$g.default=cF;var aE=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lg,"__esModule",{value:!0});const dF=aE(lF),uF=aE($g);let hF=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=dF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,o,l,c;let d=null,u=null,h=null,f=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const g=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await s.text();try{d=JSON.parse(g),Array.isArray(d)&&s.status===404&&(u=[],d=null,f=200,m="OK")}catch{s.status===404&&g===""?(f=204,m="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&!((c=d?.details)===null||c===void 0)&&c.includes("0 rows")&&(d=null,f=200,m="OK"),d&&this.shouldThrowOnError)throw new uF.default(d)}return{error:d,data:u,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(n=n.catch(s=>{var i,o,l;return{error:{message:`${(i=s?.name)!==null&&i!==void 0?i:"FetchError"}: ${s?.message}`,details:`${(o=s?.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};Lg.default=hF;var fF=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rg,"__esModule",{value:!0});const mF=fF(Lg);let pF=class extends mF.default{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Rg.default=pF;var gF=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($h,"__esModule",{value:!0});const xF=gF(Rg);let yF=class extends xF.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};$h.default=yF;var vF=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ig,"__esModule",{value:!0});const $d=vF($h);let bF=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new $d.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new $d.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new $d.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new $d.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new $d.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Ig.default=bF;var sE=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e1,"__esModule",{value:!0});const wF=sE(Ig),jF=sE($h);let _F=class iE{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new wF.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new jF.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};e1.default=_F;var ud=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const oE=ud(e1);wn.PostgrestClient=oE.default;const lE=ud(Ig);wn.PostgrestQueryBuilder=lE.default;const cE=ud($h);wn.PostgrestFilterBuilder=cE.default;const dE=ud(Rg);wn.PostgrestTransformBuilder=dE.default;const uE=ud(Lg);wn.PostgrestBuilder=uE.default;const hE=ud($g);wn.PostgrestError=hE.default;var NF=wn.default={PostgrestClient:oE.default,PostgrestQueryBuilder:lE.default,PostgrestFilterBuilder:cE.default,PostgrestTransformBuilder:dE.default,PostgrestBuilder:uE.default,PostgrestError:hE.default};const{PostgrestClient:kF,PostgrestQueryBuilder:C1e,PostgrestFilterBuilder:A1e,PostgrestTransformBuilder:T1e,PostgrestBuilder:D1e,PostgrestError:M1e}=NF;class SF{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const OF="2.15.4",PF=`realtime-js/${OF}`,EF="1.0.0",Rv=1e4,CF=1e3,AF=100;var vu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vu||(vu={}));var Nr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nr||(Nr={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var Lv;(function(e){e.websocket="websocket"})(Lv||(Lv={}));var vo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vo||(vo={}));class TF{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class fE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qt||(qt={}));const A2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=DF(o,e,t,s),i),{})},DF=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s?.type,o=r[e];return i&&!n.includes(i)?mE(i,o):$v(o)},mE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return RF(t,r)}switch(e){case qt.bool:return MF(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return zF(t);case qt.json:case qt.jsonb:return IF(t);case qt.timestamp:return LF(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return $v(t);default:return $v(t)}},$v=e=>e,MF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>mE(t,o))}return e},LF=e=>typeof e=="string"?e.replace(" ","T"):e,pE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Mx{constructor(t,r,n={},s=Rv){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var T2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(T2||(T2={}));class bu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bu.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=bu.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bu.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),g=u.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);g.length>0&&(l[d]=g),p.length>0&&(c[d]=p)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var D2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(D2||(D2={}));var wu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wu||(wu={}));var Ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ts||(Ts={}));class t1{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Nr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mx(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new fE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Nr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Nr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new bu(this),this.broadcastEndpointURL=pE(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Nr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[wu.PRESENCE]&&this.bindings[wu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t?.(Ts.CHANNEL_ERROR,m)),this._onClose(()=>t?.(Ts.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t?.(Ts.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p?.length)!==null&&g!==void 0?g:0,y=[];for(let v=0;v<x;v++){const j=p[v],{filter:{event:w,schema:k,table:N,filter:S}}=j,O=m&&m[v];if(O&&O.event===w&&O.schema===k&&O.table===N&&O.filter===S)y.push(Object.assign(Object.assign({},j),{id:O.id}));else{this.unsubscribe(),this.state=Nr.errored,t?.(Ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ts.SUBSCRIBED);return}}).receive("error",m=>{this.state=Nr.errored,t?.(Ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Nr.joined&&t===wu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Mx(this,Pa.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mx(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>AF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Pa;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,g,p;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((p=(g=f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,g,p,x,y,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const j=f.id,w=(m=f.filter)===null||m===void 0?void 0:m.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(w==="*"||w?.toLocaleLowerCase()===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const j=(y=(x=f?.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((v=r?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:p,commit_timestamp:x,type:y,errors:v}=m;h=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:x,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(m))}f.callback(h,n)})}_isClosed(){return this.state===Nr.closed}_isJoined(){return this.state===Nr.joined}_isJoining(){return this.state===Nr.joining}_isLeaving(){return this.state===Nr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&t1.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=A2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=A2(t.columns,t.old_record)),r}}const zx=()=>{},Ef={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$F=[1e3,2e3,5e3,1e4],FF=1e4,qF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BF{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rv,this.transport=null,this.heartbeatIntervalMs=Ef.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zx,this.ref=0,this.reconnectTimer=null,this.logger=zx,this.conn=null,this.sendBuffer=[],this.serializer=new TF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>mr(async()=>{const{default:l}=await Promise.resolve().then(()=>dd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Lv.websocket}`,this.httpEndpoint=pE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EF}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vu.connecting:return vo.Connecting;case vu.open:return vo.Open;case vu.closing:return vo.Closing;default:return vo.Closed}}isConnected(){return this.connectionState()===vo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new t1(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(CF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ef.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([qF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:PF};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Pa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ef.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,d,u;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Rv,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Ef.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:zx,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:h=>$F[h-1]||FF,this.encode=(d=t?.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class r1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UF extends r1{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fv extends r1{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var WF=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};const gE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mr(async()=>{const{default:n}=await Promise.resolve().then(()=>dd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},VF=()=>WF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mr(()=>Promise.resolve().then(()=>dd),void 0)).Response:Response}),qv=e=>{if(Array.isArray(e))return e.map(r=>qv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=qv(n)}),t},HF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ol=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};const Ix=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KF=(e,t,r)=>ol(void 0,void 0,void 0,function*(){const n=yield VF();e instanceof n&&!r?.noResolveJson?e.json().then(s=>{const i=e.status||500,o=s?.statusCode||i+"";t(new UF(Ix(s),i,o))}).catch(s=>{t(new Fv(Ix(s),s))}):t(new Fv(Ix(e),e))}),GF=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!n?s:(HF(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(n)):s.body=n,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Fh(e,t,r,n,s,i){return ol(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,GF(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>KF(c,l,n))})})}function Vm(e,t,r,n){return ol(this,void 0,void 0,function*(){return Fh(e,"GET",t,r,n)})}function Za(e,t,r,n,s){return ol(this,void 0,void 0,function*(){return Fh(e,"POST",t,n,s,r)})}function Bv(e,t,r,n,s){return ol(this,void 0,void 0,function*(){return Fh(e,"PUT",t,n,s,r)})}function YF(e,t,r,n){return ol(this,void 0,void 0,function*(){return Fh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xE(e,t,r,n,s){return ol(this,void 0,void 0,function*(){return Fh(e,"DELETE",t,n,s,r)})}var Jr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};const XF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QF{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=gE(s)}uploadOrUpdate(t,r,n,s){return Jr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},M2),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s?.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?Bv:Za)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(kr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Jr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:M2.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Bv(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(kr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Jr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const i=yield Za(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new r1("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Jr(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Jr(this,void 0,void 0,function*(){try{return{data:{path:(yield Za(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Jr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Za(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(kr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Jr(this,void 0,void 0,function*(){try{const s=yield Za(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(kr(s))return{data:null,error:s};throw s}})}download(t,r){return Jr(this,void 0,void 0,function*(){const n=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),i=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Vm(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(kr(o))return{data:null,error:o};throw o}})}info(t){return Jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:qv(n),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}exists(t){return Jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield YF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(kr(n)&&n instanceof Fv){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Jr(this,void 0,void 0,function*(){try{return{data:yield xE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Jr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},XF),r),{prefix:t||""});return{data:yield Za(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(kr(s))return{data:null,error:s};throw s}})}listV2(t,r){return Jr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Za(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const JF="2.11.0",ZF={"X-Client-Info":`storage-js/${JF}`};var yl=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};class eq{constructor(t,r={},n,s){const i=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ZF),r),this.fetch=gE(n)}listBuckets(){return yl(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kr(t))return{data:null,error:t};throw t}})}getBucket(t){return yl(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return yl(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return yl(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return yl(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return yl(this,void 0,void 0,function*(){try{return{data:yield xE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(kr(r))return{data:null,error:r};throw r}})}}class tq extends eq{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new QF(this.url,this.headers,t,this.fetch)}}const rq="2.57.0";let nu="";typeof Deno<"u"?nu="deno":typeof document<"u"?nu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nu="react-native":nu="node";const nq={"X-Client-Info":`supabase-js-${nu}/${rq}`},aq={headers:nq},sq={schema:"public"},iq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oq={};var lq=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};const cq=e=>{let t;return e?t=e:typeof fetch>"u"?t=rE:t=fetch,(...r)=>t(...r)},dq=()=>typeof Headers>"u"?nE:Headers,uq=(e,t,r)=>{const n=cq(r),s=dq();return(i,o)=>lq(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(o?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var hq=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};function fq(e){return e.endsWith("/")?e:e+"/"}function mq(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>hq(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const yE="2.71.1",Al=30*1e3,Uv=3,Rx=Uv*Al,pq="http://localhost:9999",gq="supabase.auth.token",xq={"X-Client-Info":`gotrue-js/${yE}`},Wv="X-Supabase-Api-Version",vE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vq=10*60*1e3;class n1 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function it(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bq extends n1{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wq(e){return it(e)&&e.name==="AuthApiError"}class bE extends n1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ki extends n1{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class pi extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jq(e){return it(e)&&e.name==="AuthSessionMissingError"}class Cf extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Af extends Ki{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Tf extends Ki{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _q(e){return it(e)&&e.name==="AuthImplicitGrantRedirectError"}class z2 extends Ki{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vv extends Ki{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Lx(e){return it(e)&&e.name==="AuthRetryableFetchError"}class I2 extends Ki{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Hv extends Ki{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R2=` 	
\r=`.split(""),Nq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<R2.length;t+=1)e[R2[t].charCodeAt(0)]=-2;for(let t=0;t<Hm.length;t+=1)e[Hm[t].charCodeAt(0)]=t;return e})();function L2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hm[n]),t.queuedBits-=6}}function wE(e,t,r){const n=Nq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $2(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Oq(o,n,r)};for(let o=0;o<e.length;o+=1)wE(e.charCodeAt(o),s,i);return t.join("")}function kq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}kq(n,t)}}function Oq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pq(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)wE(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Eq(e){const t=[];return Sq(e,r=>t.push(r)),new Uint8Array(t)}function Cq(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>L2(s,r,n)),L2(null,r,n),t.join("")}function Aq(e){return Math.round(Date.now()/1e3)+e}function Tq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Na=()=>typeof window<"u"&&typeof document<"u",io={tested:!1,writable:!1},jE=()=>{if(!Na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(io.tested)return io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),io.tested=!0,io.writable=!0}catch{io.tested=!0,io.writable=!1}return io.writable};function Dq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,s)=>{t[s]=n})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const _E=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mr(async()=>{const{default:n}=await Promise.resolve().then(()=>dd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Mq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},oo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},di=async(e,t)=>{await e.removeItem(t)};class Fg{constructor(){this.promise=new Fg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fg.promiseConstructor=Promise;function $x(e){const t=e.split(".");if(t.length!==3)throw new Hv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!yq.test(t[r]))throw new Hv("JWT not in base64url format");return{header:JSON.parse($2(t[0])),payload:JSON.parse($2(t[1])),signature:Pq(t[2]),raw:{header:t[0],payload:t[1]}}}async function zq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Iq(e,t){return new Promise((r,n)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){r(i);return}}catch(i){if(!t(s,i)){n(i);return}}})()})}function Rq(e){return("0"+e.toString(16)).substr(-2)}function Lq(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let n="";for(let s=0;s<56;s++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Rq).join("")}async function $q(e){const t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(s=>String.fromCharCode(s)).join("")}async function Fq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await $q(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vl(e,t,r=!1){const n=Lq();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Tl(e,`${t}-code-verifier`,s);const i=await Fq(n);return[i,n===i?"plain":"s256"]}const qq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bq(e){const t=e.headers.get(Wv);if(!t||!t.match(qq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Uq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bl(e){if(!Vq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F2(e){return JSON.parse(JSON.stringify(e))}var Hq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const mo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kq=[502,503,504];async function q2(e){var t;if(!Mq(e))throw new Vv(mo(e),0);if(Kq.includes(e.status))throw new Vv(mo(e),e.status);let r;try{r=await e.json()}catch(i){throw new bE(mo(i),i)}let n;const s=Bq(e);if(s&&s.getTime()>=vE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new I2(mo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new I2(mo(r),e.status,r.weak_password.reasons);throw new bq(mo(r),e.status||500,n)}const Gq=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ut(e,t,r,n){var s;const i=Object.assign({},n?.headers);i[Wv]||(i[Wv]=vE["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Yq(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Yq(e,t,r,n,s,i){const o=Gq(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Vv(mo(c),0)}if(l.ok||await q2(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await q2(c)}}function Cs(e){var t;let r=null;Zq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Aq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function B2(e){const t=Cs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ji(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xq(e){return{data:e,error:null}}function Qq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Hq(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Jq(e){return e}function Zq(e){return e.access_token&&e.refresh_token&&e.expires_in}const qx=["global","local","others"];var eB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class tB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=_E(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=qx[0]){if(qx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qx.join(", ")}`);try{return await ut(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ji})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=eB(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Qq,redirectTo:r?.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ut(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ji})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Jq});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=p}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(it(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){bl(t);try{return await ut(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ji})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bl(t);try{return await ut(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ji})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bl(t);try{return await ut(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ji})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bl(t.userId);try{const{data:r,error:n}=await ut(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bl(t.userId),bl(t.id);try{return{data:await ut(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}}function U2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function rB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wl={debug:!!(globalThis&&jE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nB extends NE{}async function aB(e,t,r){wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}rB();const sB={url:pq,storageKey:gq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function W2(e,t,r){return await r()}const jl={};class Hu{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hu.nextInstanceID,Hu.nextInstanceID+=1,this.instanceID>0&&Na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sB),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tB({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_E(s.fetch),this.lock=s.lock||W2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Na()&&!((r=globalThis?.navigator)===null||r===void 0)&&r.locks?this.lock=aB:this.lock=W2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:jE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=U2(this.memoryStorage)),Na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=jl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jl[this.storageKey]=Object.assign(Object.assign({},jl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jl[this.storageKey]=Object.assign(Object.assign({},jl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Dq(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Na()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_q(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?{error:r}:{error:new bE("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cs}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(it(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await vl(this.storage,this.storageKey)),i=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},xform:Cs})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Cs})}else throw new Af("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(it(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:B2})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:B2})}else throw new Af("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,d,u,h,f,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:v,options:j}=t;let w;if(Na())if(typeof y=="object")w=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))w=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const k=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const N=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=j?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((h=(u=j?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...j.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:x,error:y}=await ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Cq(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Cs});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Cf}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(it(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await oo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cs});if(await di(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(it(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Cs}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await vl(this.storage,this.storageKey));const{error:h}=await ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new Af("You must provide either an email or phone number.")}catch(l){if(it(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(it(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vl(this.storage,this.storageKey)),await ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Xq})}catch(i){if(it(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pi;const{error:s}=await ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(it(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ut(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ut(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Af("You must provide either an email or phone number and a type")}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await oo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await oo(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Fx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ji}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pi}:await ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ji})})}catch(r){if(it(r))return jq(r)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pi;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vl(this.storage,this.storageKey));const{data:d,error:u}=await ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ji});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pi;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=$x(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(it(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new pi;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Na())throw new Tf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new z2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new z2("No code detected.");const{data:v,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Tf("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=Al&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(it(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await oo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(wq(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Tq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await vl(this.storage,this.storageKey,!0));try{return await ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(it(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ut(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Na()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(it(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ut(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Iq(async s=>(s>0&&await zq(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Lx(i)&&Date.now()+o-n<Al})}catch(n){if(this._debug(r,"error",n),it(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Na()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await oo(this.storage,this.storageKey);if(s&&this.userStorage){let o=await oo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Tl(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o?.user)!==null&&t!==void 0?t:Fx()}else if(s&&!s.user&&!s.user){const o=await oo(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await di(this.storage,this.storageKey+"-user"),await Tl(this.storage,this.storageKey,s)):s.user=Fx()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Rx}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Lx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fg;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),it(i)){const o={session:null,error:i};return Lx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=F2(s);await Tl(this.storage,this.storageKey,i)}else{const s=F2(r);await Tl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Na()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Al);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Al);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Al}ms, refresh threshold is ${Uv} ticks`),s<=Uv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof NE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Na()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await vl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ut(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ut(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&!((s=c?.totp)===null||s===void 0)&&s.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(it(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$x(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+vq>s)return n;const{data:i,error:o}=await ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=$x(n);r?.allowExpired||Uq(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=Wq(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Eq(`${l}.${c}`)))throw new Hv("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}}Hu.nextInstanceID=0;const iB=Hu;class oB extends iB{constructor(t){super(t)}}var lB=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,[])).next())})};class cB{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=fq(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:sq,realtime:oq,auth:Object.assign(Object.assign({},iq),{storageKey:d}),global:aq},h=mq(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=uq(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new kF(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new tq(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new nF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return lB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oB({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new BF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qg=(e,t,r)=>new cB(e,t,r);function dB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}dB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function uB(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const hB=e=>{switch(e){case"success":return pB;case"info":return xB;case"warning":return gB;case"error":return yB;default:return null}},fB=Array(12).fill(0),mB=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},fB.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),pB=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gB=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xB=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yB=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vB=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bB=()=>{const[e,t]=z.useState(document.hidden);return z.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Kv=1;class wB{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Kv++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=s.then(async d=>{if(o=["resolve",d],z.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(_B(d)&&!d.ok){i=!1;const u=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,f=typeof u=="object"&&!z.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:h,...f})}else if(d instanceof Error){i=!1;const u=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description,f=typeof u=="object"&&!z.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:h,...f})}else if(r.success!==void 0){i=!1;const u=typeof r.success=="function"?await r.success(d):r.success,h=typeof r.description=="function"?await r.description(d):r.description,f=typeof u=="object"&&!z.isValidElement(u)?u:{message:u};this.create({id:n,type:"success",description:h,...f})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){i=!1;const u=typeof r.error=="function"?await r.error(d):r.error,h=typeof r.description=="function"?await r.description(d):r.description,f=typeof u=="object"&&!z.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:h,...f})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,u)=>l.then(()=>o[0]==="reject"?u(o[1]):d(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=r?.id||Kv++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xn=new wB,jB=(e,t)=>{const r=t?.id||Kv++;return xn.addToast({title:e,...t,id:r}),r},_B=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",NB=jB,kB=()=>xn.toasts,SB=()=>xn.getActiveToasts(),fe=Object.assign(NB,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:kB,getToasts:SB});uB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Df(e){return e.label!==void 0}const OB=3,PB="24px",EB="16px",V2=4e3,CB=356,AB=14,TB=45,DB=200;function Qa(...e){return e.filter(Boolean).join(" ")}function MB(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const zB=e=>{var t,r,n,s,i,o,l,c,d;const{invert:u,toast:h,unstyled:f,interacting:m,setHeights:g,visibleToasts:p,heights:x,index:y,toasts:v,expanded:j,removeToast:w,defaultRichColors:k,closeButton:N,style:S,cancelButtonStyle:O,actionButtonStyle:P,className:$="",descriptionClassName:T="",duration:I,position:D,gap:E,expandByDefault:q,classNames:F,icons:V,closeButtonAriaLabel:L="Close toast"}=e,[G,ee]=z.useState(null),[ne,R]=z.useState(null),[Y,se]=z.useState(!1),[oe,K]=z.useState(!1),[U,B]=z.useState(!1),[W,H]=z.useState(!1),[X,A]=z.useState(!1),[ce,we]=z.useState(0),[Ee,Se]=z.useState(0),Te=z.useRef(h.duration||I||V2),Ie=z.useRef(null),Ue=z.useRef(null),er=y===0,J=y+1<=p,be=h.type,We=h.dismissible!==!1,at=h.className||"",Oe=h.descriptionClassName||"",Ne=z.useMemo(()=>x.findIndex(De=>De.toastId===h.id)||0,[x,h.id]),ke=z.useMemo(()=>{var De;return(De=h.closeButton)!=null?De:N},[h.closeButton,N]),Ae=z.useMemo(()=>h.duration||I||V2,[h.duration,I]),Z=z.useRef(0),je=z.useRef(0),st=z.useRef(0),St=z.useRef(null),[Ft,M]=D.split("-"),re=z.useMemo(()=>x.reduce((De,ot,xt)=>xt>=Ne?De:De+ot.height,0),[x,Ne]),ue=bB(),Ce=h.invert||u,xe=be==="loading";je.current=z.useMemo(()=>Ne*E+re,[Ne,re]),z.useEffect(()=>{Te.current=Ae},[Ae]),z.useEffect(()=>{se(!0)},[]),z.useEffect(()=>{const De=Ue.current;if(De){const ot=De.getBoundingClientRect().height;return Se(ot),g(xt=>[{toastId:h.id,height:ot,position:h.position},...xt]),()=>g(xt=>xt.filter(br=>br.toastId!==h.id))}},[g,h.id]),z.useLayoutEffect(()=>{if(!Y)return;const De=Ue.current,ot=De.style.height;De.style.height="auto";const xt=De.getBoundingClientRect().height;De.style.height=ot,Se(xt),g(br=>br.find(Ot=>Ot.toastId===h.id)?br.map(Ot=>Ot.toastId===h.id?{...Ot,height:xt}:Ot):[{toastId:h.id,height:xt,position:h.position},...br])},[Y,h.title,h.description,g,h.id,h.jsx,h.action,h.cancel]);const me=z.useCallback(()=>{K(!0),we(je.current),g(De=>De.filter(ot=>ot.toastId!==h.id)),setTimeout(()=>{w(h)},DB)},[h,w,g,je]);z.useEffect(()=>{if(h.promise&&be==="loading"||h.duration===1/0||h.type==="loading")return;let De;return j||m||ue?(()=>{if(st.current<Z.current){const ot=new Date().getTime()-Z.current;Te.current=Te.current-ot}st.current=new Date().getTime()})():Te.current!==1/0&&(Z.current=new Date().getTime(),De=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),me()},Te.current)),()=>clearTimeout(De)},[j,m,h,be,ue,me]),z.useEffect(()=>{h.delete&&(me(),h.onDismiss==null||h.onDismiss.call(h,h))},[me,h.delete]);function pt(){var De;if(V?.loading){var ot;return z.createElement("div",{className:Qa(F?.loader,h==null||(ot=h.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":be==="loading"},V.loading)}return z.createElement(mB,{className:Qa(F?.loader,h==null||(De=h.classNames)==null?void 0:De.loader),visible:be==="loading"})}const mt=h.icon||V?.[be]||hB(be);var gt,vr;return z.createElement("li",{tabIndex:0,ref:Ue,className:Qa($,at,F?.toast,h==null||(t=h.classNames)==null?void 0:t.toast,F?.default,F?.[be],h==null||(r=h.classNames)==null?void 0:r[be]),"data-sonner-toast":"","data-rich-colors":(gt=h.richColors)!=null?gt:k,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":Y,"data-promise":!!h.promise,"data-swiped":X,"data-removed":oe,"data-visible":J,"data-y-position":Ft,"data-x-position":M,"data-index":y,"data-front":er,"data-swiping":U,"data-dismissible":We,"data-type":be,"data-invert":Ce,"data-swipe-out":W,"data-swipe-direction":ne,"data-expanded":!!(j||q&&Y),"data-testid":h.testId,style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${oe?ce:je.current}px`,"--initial-height":q?"auto":`${Ee}px`,...S,...h.style},onDragEnd:()=>{B(!1),ee(null),St.current=null},onPointerDown:De=>{De.button!==2&&(xe||!We||(Ie.current=new Date,we(je.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(B(!0),St.current={x:De.clientX,y:De.clientY})))},onPointerUp:()=>{var De,ot,xt;if(W||!We)return;St.current=null;const br=Number(((De=Ue.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ot=Number(((ot=Ue.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rr=new Date().getTime()-((xt=Ie.current)==null?void 0:xt.getTime()),ro=G==="x"?br:Ot,ea=Math.abs(ro)/Rr;if(Math.abs(ro)>=TB||ea>.11){we(je.current),h.onDismiss==null||h.onDismiss.call(h,h),R(G==="x"?br>0?"right":"left":Ot>0?"down":"up"),me(),H(!0);return}else{var Tn,no;(Tn=Ue.current)==null||Tn.style.setProperty("--swipe-amount-x","0px"),(no=Ue.current)==null||no.style.setProperty("--swipe-amount-y","0px")}A(!1),B(!1),ee(null)},onPointerMove:De=>{var ot,xt,br;if(!St.current||!We||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;const Ot=De.clientY-St.current.y,Rr=De.clientX-St.current.x;var ro;const ea=(ro=e.swipeDirections)!=null?ro:MB(D);!G&&(Math.abs(Rr)>1||Math.abs(Ot)>1)&&ee(Math.abs(Rr)>Math.abs(Ot)?"x":"y");let Tn={x:0,y:0};const no=ks=>1/(1.5+Math.abs(ks)/20);if(G==="y"){if(ea.includes("top")||ea.includes("bottom"))if(ea.includes("top")&&Ot<0||ea.includes("bottom")&&Ot>0)Tn.y=Ot;else{const ks=Ot*no(Ot);Tn.y=Math.abs(ks)<Math.abs(Ot)?ks:Ot}}else if(G==="x"&&(ea.includes("left")||ea.includes("right")))if(ea.includes("left")&&Rr<0||ea.includes("right")&&Rr>0)Tn.x=Rr;else{const ks=Rr*no(Rr);Tn.x=Math.abs(ks)<Math.abs(Rr)?ks:Rr}(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&A(!0),(xt=Ue.current)==null||xt.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(br=Ue.current)==null||br.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},ke&&!h.jsx&&be!=="loading"?z.createElement("button",{"aria-label":L,"data-disabled":xe,"data-close-button":!0,onClick:xe||!We?()=>{}:()=>{me(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Qa(F?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(vr=V?.close)!=null?vr:vB):null,(be||h.icon||h.promise)&&h.icon!==null&&(V?.[be]!==null||h.icon)?z.createElement("div",{"data-icon":"",className:Qa(F?.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||pt():null,h.type!=="loading"?mt:null):null,z.createElement("div",{"data-content":"",className:Qa(F?.content,h==null||(i=h.classNames)==null?void 0:i.content)},z.createElement("div",{"data-title":"",className:Qa(F?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?z.createElement("div",{"data-description":"",className:Qa(T,Oe,F?.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),z.isValidElement(h.cancel)?h.cancel:h.cancel&&Df(h.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:De=>{Df(h.cancel)&&We&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,De),me())},className:Qa(F?.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,z.isValidElement(h.action)?h.action:h.action&&Df(h.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:De=>{Df(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,De),!De.defaultPrevented&&me())},className:Qa(F?.actionButton,h==null||(d=h.classNames)==null?void 0:d.actionButton)},h.action.label):null)};function H2(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IB(e,t){const r={};return[e,t].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?EB:PB;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}const kE=z.forwardRef(function(e,t){const{id:r,invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:p=OB,toastOptions:x,dir:y=H2(),gap:v=AB,icons:j,containerAriaLabel:w="Notifications"}=e,[k,N]=z.useState([]),S=z.useMemo(()=>r?k.filter(R=>R.toasterId===r):k.filter(R=>!R.toasterId),[k,r]),O=z.useMemo(()=>Array.from(new Set([s].concat(S.filter(R=>R.position).map(R=>R.position)))),[S,s]),[P,$]=z.useState([]),[T,I]=z.useState(!1),[D,E]=z.useState(!1),[q,F]=z.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=z.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=z.useRef(null),ee=z.useRef(!1),ne=z.useCallback(R=>{N(Y=>{var se;return(se=Y.find(oe=>oe.id===R.id))!=null&&se.delete||xn.dismiss(R.id),Y.filter(({id:oe})=>oe!==R.id)})},[]);return z.useEffect(()=>xn.subscribe(R=>{if(R.dismiss){requestAnimationFrame(()=>{N(Y=>Y.map(se=>se.id===R.id?{...se,delete:!0}:se))});return}setTimeout(()=>{zj.flushSync(()=>{N(Y=>{const se=Y.findIndex(oe=>oe.id===R.id);return se!==-1?[...Y.slice(0,se),{...Y[se],...R},...Y.slice(se+1)]:[R,...Y]})})})}),[k]),z.useEffect(()=>{if(h!=="system"){F(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;const R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:Y})=>{F(Y?"dark":"light")})}catch{R.addListener(({matches:Y})=>{try{F(Y?"dark":"light")}catch(se){console.error(se)}})}},[h]),z.useEffect(()=>{k.length<=1&&I(!1)},[k]),z.useEffect(()=>{const R=Y=>{var se;if(i.every(K=>Y[K]||Y.code===K)){var oe;I(!0),(oe=V.current)==null||oe.focus()}Y.code==="Escape"&&(document.activeElement===V.current||(se=V.current)!=null&&se.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[i]),z.useEffect(()=>{if(V.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,ee.current=!1)}},[V.current]),z.createElement("section",{ref:t,"aria-label":`${w} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((R,Y)=>{var se;const[oe,K]=R.split("-");return S.length?z.createElement("ol",{key:R,dir:y==="auto"?H2():y,tabIndex:-1,ref:V,className:c,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":oe,"data-x-position":K,style:{"--front-toast-height":`${((se=P[0])==null?void 0:se.height)||0}px`,"--width":`${CB}px`,"--gap":`${v}px`,...g,...IB(d,u)},onBlur:U=>{ee.current&&!U.currentTarget.contains(U.relatedTarget)&&(ee.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,G.current=U.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{D||I(!1)},onDragEnd:()=>I(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},S.filter(U=>!U.position&&Y===0||U.position===R).map((U,B)=>{var W,H;return z.createElement(zB,{key:U.id,icons:j,index:B,toast:U,defaultRichColors:f,duration:(W=x?.duration)!=null?W:m,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:n,visibleToasts:p,closeButton:(H=x?.closeButton)!=null?H:l,interacting:D,position:R,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:ne,toasts:S.filter(X=>X.position==U.position),heights:P.filter(X=>X.position==U.position),setHeights:$,expandByDefault:o,gap:v,expanded:T,swipeDirections:e.swipeDirections})})):null}))}),RB={};var Gv=null;function LB(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return RB.randomBytes(e)}catch{}if(!Gv)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Gv(e)}function SE(e){Gv=e}function Bg(e,t){if(e=e||o1,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(Km(LB(Ku),Ku)),r.join("")}function a1(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=o1;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(s){Da(function(){try{s(null,Bg(e))}catch(i){s(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(o,l){if(o){i(o);return}s(l)})})}function s1(e,t){if(typeof t>"u"&&(t=o1),typeof t=="number"&&(t=Bg(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return Yv(e,t)}function i1(e,t,r,n){function s(i){typeof e=="string"&&typeof t=="number"?a1(t,function(o,l){Yv(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?Yv(e,t,i,n):Da(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function OE(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function PE(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:OE(s1(e,t.substring(0,t.length-31)),t)}function EE(e,t,r,n){function s(i){if(typeof e!="string"||typeof t!="string"){Da(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){Da(i.bind(this,null,!1));return}i1(e,t.substring(0,29),function(o,l){o?i(o):i(null,OE(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function CE(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function AE(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function TE(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return DE(e)>72}var Da=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function DE(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function $B(e){for(var t=0,r,n,s=new Array(DE(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return s}var _l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ui=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Km(e,t){var r=0,n=[],s,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(s=e[r++]&255,n.push(_l[s>>2&63]),s=(s&3)<<4,r>=t){n.push(_l[s&63]);break}if(i=e[r++]&255,s|=i>>4&15,n.push(_l[s&63]),s=(i&15)<<2,r>=t){n.push(_l[s&63]);break}i=e[r++]&255,s|=i>>6&3,n.push(_l[s&63]),n.push(_l[i&63])}return n.join("")}function ME(e,t){var r=0,n=e.length,s=0,i=[],o,l,c,d,u,h;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&s<t&&(h=e.charCodeAt(r++),o=h<ui.length?ui[h]:-1,h=e.charCodeAt(r++),l=h<ui.length?ui[h]:-1,!(o==-1||l==-1||(u=o<<2>>>0,u|=(l&48)>>4,i.push(String.fromCharCode(u)),++s>=t||r>=n)||(h=e.charCodeAt(r++),c=h<ui.length?ui[h]:-1,c==-1)||(u=(l&15)<<4>>>0,u|=(c&60)>>2,i.push(String.fromCharCode(u)),++s>=t||r>=n)));)h=e.charCodeAt(r++),d=h<ui.length?ui[h]:-1,u=(c&3)<<6>>>0,u|=d,i.push(String.fromCharCode(u)),++s;var f=[];for(r=0;r<s;r++)f.push(i[r].charCodeAt(0));return f}var Ku=16,o1=10,FB=16,qB=100,K2=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],G2=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],zE=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Gu(e,t,r,n){var s,i=e[t],o=e[t+1];return i^=r[0],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[1],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[2],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[3],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[4],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[5],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[6],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[7],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[8],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[9],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[10],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[11],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[12],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[13],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[14],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[15],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[16],e[t]=o^r[FB+1],e[t+1]=i,e}function Dl(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function Y2(e,t,r){for(var n=0,s=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=Dl(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)s=Gu(s,0,t,r),t[c]=s[0],t[c+1]=s[1];for(c=0;c<o;c+=2)s=Gu(s,0,t,r),r[c]=s[0],r[c+1]=s[1]}function BB(e,t,r,n){for(var s=0,i=[0,0],o=r.length,l=n.length,c,d=0;d<o;d++)c=Dl(t,s),s=c.offp,r[d]=r[d]^c.key;for(s=0,d=0;d<o;d+=2)c=Dl(e,s),s=c.offp,i[0]^=c.key,c=Dl(e,s),s=c.offp,i[1]^=c.key,i=Gu(i,0,r,n),r[d]=i[0],r[d+1]=i[1];for(d=0;d<l;d+=2)c=Dl(e,s),s=c.offp,i[0]^=c.key,c=Dl(e,s),s=c.offp,i[1]^=c.key,i=Gu(i,0,r,n),n[d]=i[0],n[d+1]=i[1]}function X2(e,t,r,n,s){var i=zE.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){Da(n.bind(this,l));return}else throw l;if(t.length!==Ku)if(l=Error("Illegal salt length: "+t.length+" != "+Ku),n){Da(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,d,u=0,h;typeof Int32Array=="function"?(c=new Int32Array(K2),d=new Int32Array(G2)):(c=K2.slice(),d=G2.slice()),BB(t,e,c,d);function f(){if(s&&s(u/r),u<r)for(var g=Date.now();u<r&&(u=u+1,Y2(e,c,d),Y2(t,c,d),!(Date.now()-g>qB)););else{for(u=0;u<64;u++)for(h=0;h<o>>1;h++)Gu(i,h<<1,c,d);var p=[];for(u=0;u<o;u++)p.push((i[u]>>24&255)>>>0),p.push((i[u]>>16&255)>>>0),p.push((i[u]>>8&255)>>>0),p.push((i[u]&255)>>>0);if(n){n(null,p);return}else return p}n&&Da(f)}if(typeof n<"u")f();else for(var m;;)if(typeof(m=f())<"u")return m||[]}function Yv(e,t,r,n){var s;if(typeof e!="string"||typeof t!="string")if(s=Error("Invalid string / salt: Not a string"),r){Da(r.bind(this,s));return}else throw s;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(s=Error("Invalid salt version: "+t.substring(0,2)),r){Da(r.bind(this,s));return}else throw s;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){Da(r.bind(this,s));return}else throw s;o=4}if(t.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),r){Da(r.bind(this,s));return}else throw s;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),d=l+c,u=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var h=$B(e),f=ME(u,Ku);function m(g){var p=[];return p.push("$2"),i>="a"&&p.push(i),p.push("$"),d<10&&p.push("0"),p.push(d.toString()),p.push("$"),p.push(Km(f,f.length)),p.push(Km(g,zE.length*4-1)),p.join("")}if(typeof r>"u")return m(X2(h,f,d));X2(h,f,d,function(g,p){g?r(g,null):r(null,m(p))},n)}function IE(e,t){return Km(e,t)}function RE(e,t){return ME(e,t)}const l1={setRandomFallback:SE,genSaltSync:Bg,genSalt:a1,hashSync:s1,hash:i1,compareSync:PE,compare:EE,getRounds:CE,getSalt:AE,truncates:TE,encodeBase64:IE,decodeBase64:RE},UB=Object.freeze(Object.defineProperty({__proto__:null,compare:EE,compareSync:PE,decodeBase64:RE,default:l1,encodeBase64:IE,genSalt:a1,genSaltSync:Bg,getRounds:CE,getSalt:AE,hash:i1,hashSync:s1,setRandomFallback:SE,truncates:TE},Symbol.toStringTag,{value:"Module"}));var WB="Label",LE=b.forwardRef((e,t)=>a.jsx(tt.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));LE.displayName=WB;var $E=LE;try{self["workbox:window:7.2.0"]&&_()}catch{}function Q2(e,t){return new Promise(function(r){var n=new MessageChannel;n.port1.onmessage=function(s){r(s.data)},e.postMessage(t,[n.port2])})}function VB(e){var t=function(r,n){if(typeof r!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return typeof t=="symbol"?t:t+""}function HB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function Xv(e,t){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xv(e,t)}function J2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KB(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(s,i){if(s){if(typeof s=="string")return J2(s,i);var o=Object.prototype.toString.call(s).slice(8,-1);return o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set"?Array.from(s):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?J2(s,i):void 0}}(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}try{self["workbox:core:7.2.0"]&&_()}catch{}var Bx=function(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})};function Ux(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var Fd=function(e,t){this.type=e,Object.assign(this,t)};function hi(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function GB(){}var YB={type:"SKIP_WAITING"};function Z2(e,t){return e&&e.then?e.then(GB):Promise.resolve()}var FE=function(e){function t(l,c){var d,u;return c===void 0&&(c={}),(d=e.call(this)||this).nn={},d.tn=0,d.rn=new Bx,d.en=new Bx,d.on=new Bx,d.un=0,d.an=new Set,d.cn=function(){var h=d.fn,f=h.installing;d.tn>0||!Ux(f.scriptURL,d.sn.toString())||performance.now()>d.un+6e4?(d.vn=f,h.removeEventListener("updatefound",d.cn)):(d.hn=f,d.an.add(f),d.rn.resolve(f)),++d.tn,f.addEventListener("statechange",d.ln)},d.ln=function(h){var f=d.fn,m=h.target,g=m.state,p=m===d.vn,x={sw:m,isExternal:p,originalEvent:h};!p&&d.mn&&(x.isUpdate=!0),d.dispatchEvent(new Fd(g,x)),g==="installed"?d.wn=self.setTimeout(function(){g==="installed"&&f.waiting===m&&d.dispatchEvent(new Fd("waiting",x))},200):g==="activating"&&(clearTimeout(d.wn),p||d.en.resolve(m))},d.yn=function(h){var f=d.hn,m=f!==navigator.serviceWorker.controller;d.dispatchEvent(new Fd("controlling",{isExternal:m,originalEvent:h,sw:f,isUpdate:d.mn})),m||d.on.resolve(f)},d.gn=(u=function(h){var f=h.data,m=h.ports,g=h.source;return hi(d.getSW(),function(){d.an.has(g)&&d.dispatchEvent(new Fd("message",{data:f,originalEvent:h,ports:m,sw:g}))})},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];try{return Promise.resolve(u.apply(this,h))}catch(m){return Promise.reject(m)}}),d.sn=l,d.nn=c,navigator.serviceWorker.addEventListener("message",d.gn),d}var r,n;n=e,(r=t).prototype=Object.create(n.prototype),r.prototype.constructor=r,Xv(r,n);var s,i,o=t.prototype;return o.register=function(l){var c=(l===void 0?{}:l).immediate,d=c!==void 0&&c;try{var u=this;return hi(function(h,f){var m=h();return m&&m.then?m.then(f):f(m)}(function(){if(!d&&document.readyState!=="complete")return Z2(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return u.mn=!!navigator.serviceWorker.controller,u.dn=u.pn(),hi(u.bn(),function(h){u.fn=h,u.dn&&(u.hn=u.dn,u.en.resolve(u.dn),u.on.resolve(u.dn),u.dn.addEventListener("statechange",u.ln,{once:!0}));var f=u.fn.waiting;return f&&Ux(f.scriptURL,u.sn.toString())&&(u.hn=f,Promise.resolve().then(function(){u.dispatchEvent(new Fd("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.yn),u.fn})}))}catch(h){return Promise.reject(h)}},o.update=function(){try{return this.fn?hi(Z2(this.fn.update())):hi()}catch(l){return Promise.reject(l)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(l){try{return hi(this.getSW(),function(c){return Q2(c,l)})}catch(c){return Promise.reject(c)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Q2(this.fn.waiting,YB)},o.pn=function(){var l=navigator.serviceWorker.controller;return l&&Ux(l.scriptURL,this.sn.toString())?l:void 0},o.bn=function(){try{var l=this;return hi(function(c,d){try{var u=c()}catch(h){return d(h)}return u&&u.then?u.then(void 0,d):u}(function(){return hi(navigator.serviceWorker.register(l.sn,l.nn),function(c){return l.un=performance.now(),c})},function(c){throw c}))}catch(c){return Promise.reject(c)}},s=t,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&HB(s.prototype,i),Object.defineProperty(s,"prototype",{writable:!1}),s}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(r,n){this.jn(r).add(n)},t.removeEventListener=function(r,n){this.jn(r).delete(n)},t.dispatchEvent=function(r){r.target=this;for(var n,s=KB(this.jn(r.type));!(n=s()).done;)(0,n.value)(r)},t.jn=function(r){return this.Pn.has(r)||this.Pn.set(r,new Set),this.Pn.get(r)},e}());function Qv(e,[t,r]){return Math.min(r,Math.max(t,e))}function qE(e){const t=e+"CollectionProvider",[r,n]=vs(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:y}=p,v=z.useRef(null),j=z.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:j,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=qo(l),d=z.forwardRef((p,x)=>{const{scope:y,children:v}=p,j=i(l,y),w=jt(x,j.collectionRef);return a.jsx(c,{ref:w,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=qo(u),m=z.forwardRef((p,x)=>{const{scope:y,children:v,...j}=p,w=z.useRef(null),k=jt(x,w),N=i(u,y);return z.useEffect(()=>(N.itemMap.set(w,{ref:w,...j}),()=>void N.itemMap.delete(w))),a.jsx(f,{[h]:"",ref:k,children:v})});m.displayName=u;function g(p){const x=i(e+"CollectionConsumer",p);return z.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((j,w)=>v.indexOf(j.ref.current)-v.indexOf(w.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},g,n]}var XB=b.createContext(void 0);function Ug(e){const t=b.useContext(XB);return e||t||"ltr"}const QB=["top","right","bottom","left"],Bi=Math.min,Rn=Math.max,Gm=Math.round,Mf=Math.floor,hs=e=>({x:e,y:e}),JB={left:"right",right:"left",bottom:"top",top:"bottom"},ZB={start:"end",end:"start"};function Jv(e,t,r){return Rn(e,Bi(t,r))}function Xs(e,t){return typeof e=="function"?e(t):e}function Qs(e){return e.split("-")[0]}function hd(e){return e.split("-")[1]}function c1(e){return e==="x"?"y":"x"}function d1(e){return e==="y"?"height":"width"}const eU=new Set(["top","bottom"]);function rs(e){return eU.has(Qs(e))?"y":"x"}function u1(e){return c1(rs(e))}function tU(e,t,r){r===void 0&&(r=!1);const n=hd(e),s=u1(e),i=d1(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ym(o)),[o,Ym(o)]}function rU(e){const t=Ym(e);return[Zv(e),t,Zv(t)]}function Zv(e){return e.replace(/start|end/g,t=>ZB[t])}const ek=["left","right"],tk=["right","left"],nU=["top","bottom"],aU=["bottom","top"];function sU(e,t,r){switch(e){case"top":case"bottom":return r?t?tk:ek:t?ek:tk;case"left":case"right":return t?nU:aU;default:return[]}}function iU(e,t,r,n){const s=hd(e);let i=sU(Qs(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Zv)))),i}function Ym(e){return e.replace(/left|right|bottom|top/g,t=>JB[t])}function oU(e){return{top:0,right:0,bottom:0,left:0,...e}}function BE(e){return typeof e!="number"?oU(e):{top:e,right:e,bottom:e,left:e}}function Xm(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function rk(e,t,r){let{reference:n,floating:s}=e;const i=rs(t),o=u1(t),l=d1(o),c=Qs(t),d=i==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(hd(t)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const lU=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=rk(d,n,c),f=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:v,y:j,data:w,reset:k}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,h=j??h,m={...m,[x]:{...m[x],...w}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:u,y:h}=rk(d,f,c)),p=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:m}};async function Yu(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Xs(t,e),g=BE(m),p=l[f?h==="floating"?"reference":"floating":h],x=Xm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},w=Xm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(x.top-w.top+g.top)/j.y,bottom:(w.bottom-x.bottom+g.bottom)/j.y,left:(x.left-w.left+g.left)/j.x,right:(w.right-x.right+g.right)/j.x}}const cU=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Xs(e,t)||{};if(d==null)return{};const h=BE(u),f={x:r,y:n},m=u1(s),g=d1(m),p=await o.getDimensions(d),x=m==="y",y=x?"top":"left",v=x?"bottom":"right",j=x?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[m]-f[m]-i.floating[g],k=f[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=N?N[j]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[j]||i.floating[g]);const O=w/2-k/2,P=S/2-p[g]/2-1,$=Bi(h[y],P),T=Bi(h[v],P),I=$,D=S-p[g]-T,E=S/2-p[g]/2+O,q=Jv(I,E,D),F=!c.arrow&&hd(s)!=null&&E!==q&&i.reference[g]/2-(E<I?$:T)-p[g]/2<0,V=F?E<I?E-I:E-D:0;return{[m]:f[m]+V,data:{[m]:q,centerOffset:E-q-V,...F&&{alignmentOffset:V}},reset:F}}}),dU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Xs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Qs(s),v=rs(l),j=Qs(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=f||(j||!p?[Ym(l)]:rU(l)),N=g!=="none";!f&&N&&k.push(...iU(l,p,g,w));const S=[l,...k],O=await Yu(t,x),P=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(O[y]),h){const E=tU(s,o,w);P.push(O[E[0]],O[E[1]])}if($=[...$,{placement:s,overflows:P}],!P.every(E=>E<=0)){var T,I;const E=(((T=i.flip)==null?void 0:T.index)||0)+1,q=S[E];if(q&&(!(h==="alignment"&&v!==rs(q))||$.every(V=>rs(V.placement)===v?V.overflows[0]>0:!0)))return{data:{index:E,overflows:$},reset:{placement:q}};let F=(I=$.filter(V=>V.overflows[0]<=0).sort((V,L)=>V.overflows[1]-L.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(m){case"bestFit":{var D;const V=(D=$.filter(L=>{if(N){const G=rs(L.placement);return G===v||G==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(G=>G>0).reduce((G,ee)=>G+ee,0)]).sort((L,G)=>L[1]-G[1])[0])==null?void 0:D[0];V&&(F=V);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function nk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ak(e){return QB.some(t=>e[t]>=0)}const uU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Xs(e,t);switch(n){case"referenceHidden":{const i=await Yu(t,{...s,elementContext:"reference"}),o=nk(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ak(o)}}}case"escaped":{const i=await Yu(t,{...s,altBoundary:!0}),o=nk(i,r.floating);return{data:{escapedOffsets:o,escaped:ak(o)}}}default:return{}}}}},UE=new Set(["left","top"]);async function hU(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Qs(r),l=hd(r),c=rs(r)==="y",d=UE.has(o)?-1:1,u=i&&c?-1:1,h=Xs(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const fU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await hU(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},mU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=Xs(e,t),d={x:r,y:n},u=await Yu(t,c),h=rs(Qs(s)),f=c1(h);let m=d[f],g=d[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+u[x],j=m-u[y];m=Jv(v,m,j)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=g+u[x],j=g-u[y];g=Jv(v,g,j)}const p=l.fn({...t,[f]:m,[h]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:i,[h]:o}}}}}},pU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Xs(e,t),u={x:r,y:n},h=rs(s),f=c1(h);let m=u[f],g=u[h];const p=Xs(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",w=i.reference[f]-i.floating[j]+x.mainAxis,k=i.reference[f]+i.reference[j]-x.mainAxis;m<w?m=w:m>k&&(m=k)}if(d){var y,v;const j=f==="y"?"width":"height",w=UE.has(Qs(s)),k=i.reference[h]-i.floating[j]+(w&&((y=o.offset)==null?void 0:y[h])||0)+(w?0:x.crossAxis),N=i.reference[h]+i.reference[j]+(w?0:((v=o.offset)==null?void 0:v[h])||0)-(w?x.crossAxis:0);g<k?g=k:g>N&&(g=N)}return{[f]:m,[h]:g}}}},gU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Xs(e,t),u=await Yu(t,d),h=Qs(s),f=hd(s),m=rs(s)==="y",{width:g,height:p}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const v=p-u.top-u.bottom,j=g-u.left-u.right,w=Bi(p-u[x],v),k=Bi(g-u[y],j),N=!t.middlewareData.shift;let S=w,O=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=v),N&&!f){const $=Rn(u.left,0),T=Rn(u.right,0),I=Rn(u.top,0),D=Rn(u.bottom,0);m?O=g-2*($!==0||T!==0?$+T:Rn(u.left,u.right)):S=p-2*(I!==0||D!==0?I+D:Rn(u.top,u.bottom))}await c({...t,availableWidth:O,availableHeight:S});const P=await o.getDimensions(l.floating);return g!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Wg(){return typeof window<"u"}function fd(e){return WE(e)?(e.nodeName||"").toLowerCase():"#document"}function Kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bs(e){var t;return(t=(WE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WE(e){return Wg()?e instanceof Node||e instanceof Kn(e).Node:!1}function Ua(e){return Wg()?e instanceof Element||e instanceof Kn(e).Element:!1}function gs(e){return Wg()?e instanceof HTMLElement||e instanceof Kn(e).HTMLElement:!1}function sk(e){return!Wg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kn(e).ShadowRoot}const xU=new Set(["inline","contents"]);function qh(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Wa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!xU.has(s)}const yU=new Set(["table","td","th"]);function vU(e){return yU.has(fd(e))}const bU=[":popover-open",":modal"];function Vg(e){return bU.some(t=>{try{return e.matches(t)}catch{return!1}})}const wU=["transform","translate","scale","rotate","perspective"],jU=["transform","translate","scale","rotate","perspective","filter"],_U=["paint","layout","strict","content"];function h1(e){const t=f1(),r=Ua(e)?Wa(e):e;return wU.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||jU.some(n=>(r.willChange||"").includes(n))||_U.some(n=>(r.contain||"").includes(n))}function NU(e){let t=Ui(e);for(;gs(t)&&!Sc(t);){if(h1(t))return t;if(Vg(t))return null;t=Ui(t)}return null}function f1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kU=new Set(["html","body","#document"]);function Sc(e){return kU.has(fd(e))}function Wa(e){return Kn(e).getComputedStyle(e)}function Hg(e){return Ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ui(e){if(fd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sk(e)&&e.host||bs(e);return sk(t)?t.host:t}function VE(e){const t=Ui(e);return Sc(t)?e.ownerDocument?e.ownerDocument.body:e.body:gs(t)&&qh(t)?t:VE(t)}function Xu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=VE(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Kn(s);if(i){const l=eb(o);return t.concat(o,o.visualViewport||[],qh(s)?s:[],l&&r?Xu(l):[])}return t.concat(s,Xu(s,[],r))}function eb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HE(e){const t=Wa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=gs(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Gm(r)!==i||Gm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function m1(e){return Ua(e)?e:e.contextElement}function uc(e){const t=m1(e);if(!gs(t))return hs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=HE(t);let o=(i?Gm(r.width):r.width)/n,l=(i?Gm(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const SU=hs(0);function KE(e){const t=Kn(e);return!f1()||!t.visualViewport?SU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OU(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Kn(e)?!1:t}function Ko(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=m1(e);let o=hs(1);t&&(n?Ua(n)&&(o=uc(n)):o=uc(e));const l=OU(i,r,n)?KE(i):hs(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=Kn(i),m=n&&Ua(n)?Kn(n):n;let g=f,p=eb(g);for(;p&&n&&m!==g;){const x=uc(p),y=p.getBoundingClientRect(),v=Wa(p),j=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,w=y.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,h*=x.y,c+=j,d+=w,g=Kn(p),p=eb(g)}}return Xm({width:u,height:h,x:c,y:d})}function Kg(e,t){const r=Hg(e).scrollLeft;return t?t.left+r:Ko(bs(e)).left+r}function GE(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Kg(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function PU(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=bs(n),l=t?Vg(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=hs(1);const u=hs(0),h=gs(n);if((h||!h&&!i)&&((fd(n)!=="body"||qh(o))&&(c=Hg(n)),gs(n))){const m=Ko(n);d=uc(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const f=o&&!h&&!i?GE(o,c):hs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function EU(e){return Array.from(e.getClientRects())}function CU(e){const t=bs(e),r=Hg(e),n=e.ownerDocument.body,s=Rn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Rn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Kg(e);const l=-r.scrollTop;return Wa(n).direction==="rtl"&&(o+=Rn(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const ik=25;function AU(e,t){const r=Kn(e),n=bs(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=f1();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Kg(n);if(d<=0){const u=n.ownerDocument,h=u.body,f=getComputedStyle(h),m=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-m);g<=ik&&(i-=g)}else d<=ik&&(i+=d);return{width:i,height:o,x:l,y:c}}const TU=new Set(["absolute","fixed"]);function DU(e,t){const r=Ko(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=gs(e)?uc(e):hs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function ok(e,t,r){let n;if(t==="viewport")n=AU(e,r);else if(t==="document")n=CU(bs(e));else if(Ua(t))n=DU(t,r);else{const s=KE(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Xm(n)}function YE(e,t){const r=Ui(e);return r===t||!Ua(r)||Sc(r)?!1:Wa(r).position==="fixed"||YE(r,t)}function MU(e,t){const r=t.get(e);if(r)return r;let n=Xu(e,[],!1).filter(l=>Ua(l)&&fd(l)!=="body"),s=null;const i=Wa(e).position==="fixed";let o=i?Ui(e):e;for(;Ua(o)&&!Sc(o);){const l=Wa(o),c=h1(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&s&&TU.has(s.position)||qh(o)&&!c&&YE(e,o))?n=n.filter(d=>d!==o):s=l,o=Ui(o)}return t.set(e,n),n}function zU(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Vg(t)?[]:MU(t,this._c):[].concat(r),n],o=i[0],l=i.reduce((c,d)=>{const u=ok(t,d,s);return c.top=Rn(u.top,c.top),c.right=Bi(u.right,c.right),c.bottom=Bi(u.bottom,c.bottom),c.left=Rn(u.left,c.left),c},ok(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function IU(e){const{width:t,height:r}=HE(e);return{width:t,height:r}}function RU(e,t,r){const n=gs(t),s=bs(t),i=r==="fixed",o=Ko(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=hs(0);function d(){c.x=Kg(s)}if(n||!n&&!i)if((fd(t)!=="body"||qh(s))&&(l=Hg(t)),n){const m=Ko(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&d();i&&!n&&s&&d();const u=s&&!n&&!i?GE(s,l):hs(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Wx(e){return Wa(e).position==="static"}function lk(e,t){if(!gs(e)||Wa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bs(e)===r&&(r=r.ownerDocument.body),r}function XE(e,t){const r=Kn(e);if(Vg(e))return r;if(!gs(e)){let s=Ui(e);for(;s&&!Sc(s);){if(Ua(s)&&!Wx(s))return s;s=Ui(s)}return r}let n=lk(e,t);for(;n&&vU(n)&&Wx(n);)n=lk(n,t);return n&&Sc(n)&&Wx(n)&&!h1(n)?r:n||NU(e)||r}const LU=async function(e){const t=this.getOffsetParent||XE,r=this.getDimensions,n=await r(e.floating);return{reference:RU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $U(e){return Wa(e).direction==="rtl"}const FU={convertOffsetParentRelativeRectToViewportRelativeRect:PU,getDocumentElement:bs,getClippingRect:zU,getOffsetParent:XE,getElementRects:LU,getClientRects:EU,getDimensions:IU,getScale:uc,isElement:Ua,isRTL:$U};function QE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qU(e,t){let r=null,n;const s=bs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:m}=d;if(l||t(),!f||!m)return;const g=Mf(h),p=Mf(s.clientWidth-(u+f)),x=Mf(s.clientHeight-(h+m)),y=Mf(u),v={rootMargin:-g+"px "+-p+"px "+-x+"px "+-y+"px",threshold:Rn(0,Bi(1,c))||1};let j=!0;function w(k){const N=k[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!QE(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(w,v)}r.observe(e)}return o(!0),i}function BU(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=m1(e),u=s||i?[...d?Xu(d):[],...Xu(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?qU(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let g,p=c?Ko(e):null;c&&x();function x(){const y=Ko(e);p&&!QE(p,y)&&r(),p=y,g=requestAnimationFrame(x)}return r(),()=>{var y;u.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h?.(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const UU=fU,WU=mU,VU=dU,HU=gU,KU=uU,ck=cU,GU=pU,YU=(e,t,r)=>{const n=new Map,s={platform:FU,...r},i={...s.platform,_c:n};return lU(e,t,{...s,platform:i})};var XU=typeof document<"u",QU=function(){},hm=XU?b.useLayoutEffect:QU;function Qm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Qm(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Qm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function JE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dk(e,t){const r=JE(e);return Math.round(t*r)/r}function Vx(e){const t=b.useRef(e);return hm(()=>{t.current=e}),t}function JU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(n);Qm(f,n)||m(n);const[g,p]=b.useState(null),[x,y]=b.useState(null),v=b.useCallback(L=>{L!==N.current&&(N.current=L,p(L))},[]),j=b.useCallback(L=>{L!==S.current&&(S.current=L,y(L))},[]),w=i||g,k=o||x,N=b.useRef(null),S=b.useRef(null),O=b.useRef(u),P=c!=null,$=Vx(c),T=Vx(s),I=Vx(d),D=b.useCallback(()=>{if(!N.current||!S.current)return;const L={placement:t,strategy:r,middleware:f};T.current&&(L.platform=T.current),YU(N.current,S.current,L).then(G=>{const ee={...G,isPositioned:I.current!==!1};E.current&&!Qm(O.current,ee)&&(O.current=ee,il.flushSync(()=>{h(ee)}))})},[f,t,r,T,I]);hm(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[d]);const E=b.useRef(!1);hm(()=>(E.current=!0,()=>{E.current=!1}),[]),hm(()=>{if(w&&(N.current=w),k&&(S.current=k),w&&k){if($.current)return $.current(w,k,D);D()}},[w,k,D,$,P]);const q=b.useMemo(()=>({reference:N,floating:S,setReference:v,setFloating:j}),[v,j]),F=b.useMemo(()=>({reference:w,floating:k}),[w,k]),V=b.useMemo(()=>{const L={position:r,left:0,top:0};if(!F.floating)return L;const G=dk(F.floating,u.x),ee=dk(F.floating,u.y);return l?{...L,transform:"translate("+G+"px, "+ee+"px)",...JE(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:ee}},[r,l,F.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:D,refs:q,elements:F,floatingStyles:V}),[u,D,q,F,V])}const ZU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ck({element:n.current,padding:s}).fn(r):{}:n?ck({element:n,padding:s}).fn(r):{}}}},eW=(e,t)=>({...UU(e),options:[e,t]}),tW=(e,t)=>({...WU(e),options:[e,t]}),rW=(e,t)=>({...GU(e),options:[e,t]}),nW=(e,t)=>({...VU(e),options:[e,t]}),aW=(e,t)=>({...HU(e),options:[e,t]}),sW=(e,t)=>({...KU(e),options:[e,t]}),iW=(e,t)=>({...ZU(e),options:[e,t]});var oW="Arrow",ZE=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(tt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZE.displayName=oW;var lW=ZE;function eC(e){const[t,r]=b.useState(void 0);return yr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var p1="Popper",[tC,Gg]=vs(p1),[cW,rC]=tC(p1),nC=e=>{const{__scopePopper:t,children:r}=e,[n,s]=b.useState(null);return a.jsx(cW,{scope:t,anchor:n,onAnchorChange:s,children:r})};nC.displayName=p1;var aC="PopperAnchor",sC=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=rC(aC,r),o=b.useRef(null),l=jt(t,o),c=b.useRef(null);return b.useEffect(()=>{const d=c.current;c.current=n?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(tt.div,{...s,ref:l})});sC.displayName=aC;var g1="PopperContent",[dW,uW]=tC(g1),iC=b.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=rC(g1,r),[y,v]=b.useState(null),j=jt(t,U=>v(U)),[w,k]=b.useState(null),N=eC(w),S=N?.width??0,O=N?.height??0,P=n+(i!=="center"?"-"+i:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(d)?d:[d],I=T.length>0,D={padding:$,boundary:T.filter(fW),altBoundary:I},{refs:E,floatingStyles:q,placement:F,isPositioned:V,middlewareData:L}=JU({strategy:"fixed",placement:P,whileElementsMounted:(...U)=>BU(...U,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[eW({mainAxis:s+O,alignmentAxis:o}),c&&tW({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?rW():void 0,...D}),c&&nW({...D}),aW({...D,apply:({elements:U,rects:B,availableWidth:W,availableHeight:H})=>{const{width:X,height:A}=B.reference,ce=U.floating.style;ce.setProperty("--radix-popper-available-width",`${W}px`),ce.setProperty("--radix-popper-available-height",`${H}px`),ce.setProperty("--radix-popper-anchor-width",`${X}px`),ce.setProperty("--radix-popper-anchor-height",`${A}px`)}}),w&&iW({element:w,padding:l}),mW({arrowWidth:S,arrowHeight:O}),f&&sW({strategy:"referenceHidden",...D})]}),[G,ee]=cC(F),ne=Gr(g);yr(()=>{V&&ne?.()},[V,ne]);const R=L.arrow?.x,Y=L.arrow?.y,se=L.arrow?.centerOffset!==0,[oe,K]=b.useState();return yr(()=>{y&&K(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:V?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(dW,{scope:r,placedSide:G,onArrowChange:k,arrowX:R,arrowY:Y,shouldHideArrow:se,children:a.jsx(tt.div,{"data-side":G,"data-align":ee,...p,ref:j,style:{...p.style,animation:V?void 0:"none"}})})})});iC.displayName=g1;var oC="PopperArrow",hW={top:"bottom",right:"left",bottom:"top",left:"right"},lC=b.forwardRef(function(e,t){const{__scopePopper:r,...n}=e,s=uW(oC,r),i=hW[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(lW,{...n,ref:t,style:{...n.style,display:"block"}})})});lC.displayName=oC;function fW(e){return e!==null}var mW=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,o=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=cC(r),u={start:"0%",center:"50%",end:"100%"}[d],h=(s.arrow?.x??0)+o/2,f=(s.arrow?.y??0)+l/2;let m="",g="";return c==="bottom"?(m=i?u:`${h}px`,g=`${-l}px`):c==="top"?(m=i?u:`${h}px`,g=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=i?u:`${f}px`):c==="left"&&(m=`${n.floating.width+l}px`,g=i?u:`${f}px`),{data:{x:m,y:g}}}});function cC(e){const[t,r="center"]=e.split("-");return[t,r]}var dC=nC,x1=sC,uC=iC,hC=lC;function fC(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var mC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pW="VisuallyHidden",gW=b.forwardRef((e,t)=>a.jsx(tt.span,{...e,ref:t,style:{...mC,...e.style}}));gW.displayName=pW;var xW=[" ","Enter","ArrowUp","ArrowDown"],yW=[" ","Enter"],Go="Select",[Yg,Xg,vW]=qE(Go),[md,z1e]=vs(Go,[vW,Gg]),Qg=Gg(),[bW,Gi]=md(Go),[wW,jW]=md(Go),pC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:m,form:g}=e,p=Qg(t),[x,y]=b.useState(null),[v,j]=b.useState(null),[w,k]=b.useState(!1),N=Ug(d),[S,O]=Vo({prop:n,defaultProp:s??!1,onChange:i,caller:Go}),[P,$]=Vo({prop:o,defaultProp:l,onChange:c,caller:Go}),T=b.useRef(null),I=x?g||!!x.closest("form"):!0,[D,E]=b.useState(new Set),q=Array.from(D).map(F=>F.props.value).join(";");return a.jsx(dC,{...p,children:a.jsxs(bW,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:qs(),value:P,onValueChange:$,open:S,onOpenChange:O,dir:N,triggerPointerDownPosRef:T,disabled:f,children:[a.jsx(Yg.Provider,{scope:t,children:a.jsx(wW,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(F=>{E(V=>new Set(V).add(F))},[]),onNativeOptionRemove:b.useCallback(F=>{E(V=>{const L=new Set(V);return L.delete(F),L})},[]),children:r})}),I?a.jsxs(RC,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:P,onChange:F=>$(F.target.value),disabled:f,form:g,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},q):null]})})};pC.displayName=Go;var gC="SelectTrigger",xC=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Qg(r),o=Gi(gC,r),l=o.disabled||n,c=jt(t,o.onTriggerChange),d=Xg(r),u=b.useRef("touch"),[h,f,m]=$C(p=>{const x=d().filter(j=>!j.disabled),y=x.find(j=>j.value===o.value),v=FC(x,p,y);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(x1,{asChild:!0,...i,children:a.jsx(tt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":LC(o.value)?"":void 0,...s,ref:c,onClick:Xe(s.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:Xe(s.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Xe(s.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&xW.includes(p.key)&&(g(),p.preventDefault())})})})});xC.displayName=gC;var yC="SelectValue",vC=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Gi(yC,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=jt(t,c.onValueNodeChange);return yr(()=>{d(u)},[d,u]),a.jsx(tt.span,{...l,ref:h,style:{pointerEvents:"none"},children:LC(c.value)?a.jsx(a.Fragment,{children:o}):i})});vC.displayName=yC;var _W="SelectIcon",bC=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(tt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});bC.displayName=_W;var NW="SelectPortal",wC=e=>a.jsx(Cg,{asChild:!0,...e});wC.displayName=NW;var Yo="SelectContent",jC=b.forwardRef((e,t)=>{const r=Gi(Yo,e.__scopeSelect),[n,s]=b.useState();if(yr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?il.createPortal(a.jsx(_C,{scope:e.__scopeSelect,children:a.jsx(Yg.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(NC,{...e,ref:t})});jC.displayName=Yo;var ka=10,[_C,Yi]=md(Yo),kW="SelectContentImpl",SW=qo("SelectContent.RemoveScroll"),NC=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...y}=e,v=Gi(Yo,r),[j,w]=b.useState(null),[k,N]=b.useState(null),S=jt(t,U=>w(U)),[O,P]=b.useState(null),[$,T]=b.useState(null),I=Xg(r),[D,E]=b.useState(!1),q=b.useRef(!1);b.useEffect(()=>{if(j)return Uj(j)},[j]),Bj();const F=b.useCallback(U=>{const[B,...W]=I().map(A=>A.ref.current),[H]=W.slice(-1),X=document.activeElement;for(const A of U)if(A===X||(A?.scrollIntoView({block:"nearest"}),A===B&&k&&(k.scrollTop=0),A===H&&k&&(k.scrollTop=k.scrollHeight),A?.focus(),document.activeElement!==X))return},[I,k]),V=b.useCallback(()=>F([O,j]),[F,O,j]);b.useEffect(()=>{D&&V()},[D,V]);const{onOpenChange:L,triggerPointerDownPosRef:G}=v;b.useEffect(()=>{if(j){let U={x:0,y:0};const B=H=>{U={x:Math.abs(Math.round(H.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(H.pageY)-(G.current?.y??0))}},W=H=>{U.x<=10&&U.y<=10?H.preventDefault():j.contains(H.target)||L(!1),document.removeEventListener("pointermove",B),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",W,{capture:!0})}}},[j,L,G]),b.useEffect(()=>{const U=()=>L(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[L]);const[ee,ne]=$C(U=>{const B=I().filter(X=>!X.disabled),W=B.find(X=>X.ref.current===document.activeElement),H=FC(B,U,W);H&&setTimeout(()=>H.ref.current.focus())}),R=b.useCallback((U,B,W)=>{const H=!q.current&&!W;(v.value!==void 0&&v.value===B||H)&&(P(U),H&&(q.current=!0))},[v.value]),Y=b.useCallback(()=>j?.focus(),[j]),se=b.useCallback((U,B,W)=>{const H=!q.current&&!W;(v.value!==void 0&&v.value===B||H)&&T(U)},[v.value]),oe=n==="popper"?tb:kC,K=oe===tb?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(_C,{scope:r,content:j,viewport:k,onViewportChange:N,itemRefCallback:R,selectedItem:O,onItemLeave:Y,itemTextRefCallback:se,focusSelectedItem:V,selectedItemText:$,position:n,isPositioned:D,searchRef:ee,children:a.jsx(Tg,{as:SW,allowPinchZoom:!0,children:a.jsx(Eg,{asChild:!0,trapped:v.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Xe(s,U=>{v.trigger?.focus({preventScroll:!0}),U.preventDefault()}),children:a.jsx(Pg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(oe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:U=>U.preventDefault(),...y,...K,onPlaced:()=>E(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Xe(y.onKeyDown,U=>{const B=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!B&&U.key.length===1&&ne(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let W=I().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(U.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const H=U.target,X=W.indexOf(H);W=W.slice(X+1)}setTimeout(()=>F(W)),U.preventDefault()}})})})})})})});NC.displayName=kW;var OW="SelectItemAlignedPosition",kC=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Gi(Yo,r),o=Yi(Yo,r),[l,c]=b.useState(null),[d,u]=b.useState(null),h=jt(t,S=>u(S)),f=Xg(r),m=b.useRef(!1),g=b.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=o,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&x&&y){const S=i.trigger.getBoundingClientRect(),O=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),$=y.getBoundingClientRect();if(i.dir!=="rtl"){const H=$.left-O.left,X=P.left-H,A=S.left-X,ce=S.width+A,we=Math.max(ce,O.width),Ee=window.innerWidth-ka,Se=Qv(X,[ka,Math.max(ka,Ee-we)]);l.style.minWidth=ce+"px",l.style.left=Se+"px"}else{const H=O.right-$.right,X=window.innerWidth-P.right-H,A=window.innerWidth-S.right-X,ce=S.width+A,we=Math.max(ce,O.width),Ee=window.innerWidth-ka,Se=Qv(X,[ka,Math.max(ka,Ee-we)]);l.style.minWidth=ce+"px",l.style.right=Se+"px"}const T=f(),I=window.innerHeight-ka*2,D=p.scrollHeight,E=window.getComputedStyle(d),q=parseInt(E.borderTopWidth,10),F=parseInt(E.paddingTop,10),V=parseInt(E.borderBottomWidth,10),L=parseInt(E.paddingBottom,10),G=q+F+D+L+V,ee=Math.min(x.offsetHeight*5,G),ne=window.getComputedStyle(p),R=parseInt(ne.paddingTop,10),Y=parseInt(ne.paddingBottom,10),se=S.top+S.height/2-ka,oe=I-se,K=x.offsetHeight/2,U=x.offsetTop+K,B=q+F+U,W=G-B;if(B<=se){const H=T.length>0&&x===T[T.length-1].ref.current;l.style.bottom="0px";const X=d.clientHeight-p.offsetTop-p.offsetHeight,A=Math.max(oe,K+(H?Y:0)+X+V),ce=B+A;l.style.height=ce+"px"}else{const H=T.length>0&&x===T[0].ref.current;l.style.top="0px";const X=Math.max(se,q+p.offsetTop+(H?R:0)+K)+W;l.style.height=X+"px",p.scrollTop=B-se+p.offsetTop}l.style.margin=`${ka}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=I+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,d,p,x,y,i.dir,n]);yr(()=>j(),[j]);const[w,k]=b.useState();yr(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const N=b.useCallback(S=>{S&&g.current===!0&&(j(),v?.(),g.current=!1)},[j,v]);return a.jsx(EW,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:a.jsx(tt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});kC.displayName=OW;var PW="SelectPopperPosition",tb=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ka,...i}=e,o=Qg(r);return a.jsx(uC,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tb.displayName=PW;var[EW,y1]=md(Yo,{}),rb="SelectViewport",SC=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Yi(rb,r),o=y1(rb,r),l=jt(t,i.onViewportChange),c=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Yg.Slot,{scope:r,children:a.jsx(tt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Xe(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f?.current&&h){const m=Math.abs(c.current-u.scrollTop);if(m>0){const g=window.innerHeight-ka*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<g){const v=y+m,j=Math.min(g,v),w=v-j;h.style.height=j+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});SC.displayName=rb;var OC="SelectGroup",[CW,AW]=md(OC),TW=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=qs();return a.jsx(CW,{scope:r,id:s,children:a.jsx(tt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});TW.displayName=OC;var PC="SelectLabel",DW=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=AW(PC,r);return a.jsx(tt.div,{id:s.id,...n,ref:t})});DW.displayName=PC;var Jm="SelectItem",[MW,EC]=md(Jm),CC=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Gi(Jm,r),c=Yi(Jm,r),d=l.value===n,[u,h]=b.useState(i??""),[f,m]=b.useState(!1),g=jt(t,v=>c.itemRefCallback?.(v,n,s)),p=qs(),x=b.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(MW,{scope:r,value:n,disabled:s,textId:p,isSelected:d,onItemTextChange:b.useCallback(v=>{h(j=>j||(v?.textContent??"").trim())},[]),children:a.jsx(Yg.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:a.jsx(tt.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Xe(o.onFocus,()=>m(!0)),onBlur:Xe(o.onBlur,()=>m(!1)),onClick:Xe(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Xe(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Xe(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Xe(o.onPointerMove,v=>{x.current=v.pointerType,s?c.onItemLeave?.():x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(o.onPointerLeave,v=>{v.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Xe(o.onKeyDown,v=>{c.searchRef?.current!==""&&v.key===" "||(yW.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});CC.displayName=Jm;var au="SelectItemText",AC=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Gi(au,r),l=Yi(au,r),c=EC(au,r),d=jW(au,r),[u,h]=b.useState(null),f=jt(t,y=>h(y),c.onItemTextChange,y=>l.itemTextRefCallback?.(y,c.value,c.disabled)),m=u?.textContent,g=b.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=d;return yr(()=>(p(g),()=>x(g)),[p,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(tt.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?il.createPortal(i.children,o.valueNode):null]})});AC.displayName=au;var TC="SelectItemIndicator",DC=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return EC(TC,r).isSelected?a.jsx(tt.span,{"aria-hidden":!0,...n,ref:t}):null});DC.displayName=TC;var nb="SelectScrollUpButton",MC=b.forwardRef((e,t)=>{const r=Yi(nb,e.__scopeSelect),n=y1(nb,e.__scopeSelect),[s,i]=b.useState(!1),o=jt(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(IC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});MC.displayName=nb;var ab="SelectScrollDownButton",zC=b.forwardRef((e,t)=>{const r=Yi(ab,e.__scopeSelect),n=y1(ab,e.__scopeSelect),[s,i]=b.useState(!1),o=jt(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(IC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zC.displayName=ab;var IC=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Yi("SelectScrollButton",r),o=b.useRef(null),l=Xg(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),yr(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(tt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Xe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Xe(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Xe(s.onPointerLeave,()=>{c()})})}),zW="SelectSeparator",IW=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(tt.div,{"aria-hidden":!0,...n,ref:t})});IW.displayName=zW;var sb="SelectArrow",RW=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Qg(r),i=Gi(sb,r),o=Yi(sb,r);return i.open&&o.position==="popper"?a.jsx(hC,{...s,...n,ref:t}):null});RW.displayName=sb;var LW="SelectBubbleInput",RC=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=b.useRef(null),i=jt(n,s),o=fC(t);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const u=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(u)}},[o,t]),a.jsx(tt.select,{...r,style:{...mC,...r.style},ref:i,defaultValue:t})});RC.displayName=LW;function LC(e){return e===""||e===void 0}function $C(e){const t=Gr(e),r=b.useRef(""),n=b.useRef(0),s=b.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function FC(e,t,r){const n=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=$W(e,Math.max(s,0));n.length===1&&(i=i.filter(l=>l!==r));const o=i.find(l=>l.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}function $W(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var qC=pC,BC=xC,UC=vC,WC=bC,VC=wC,HC=jC,KC=SC,GC=CC,YC=AC,XC=DC,QC=MC,JC=zC,Jg="Checkbox",[FW,I1e]=vs(Jg),[qW,v1]=FW(Jg);function BW(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[f,m]=Vo({prop:r,defaultProp:s??!1,onChange:c,caller:Jg}),[g,p]=b.useState(null),[x,y]=b.useState(null),v=b.useRef(!1),j=g?!!o||!!g.closest("form"):!0,w={checked:f,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:Ri(s)?!1:s,isFormControl:j,bubbleInput:x,setBubbleInput:y};return a.jsx(qW,{scope:t,...w,children:UW(h)?h(w):n})}var ZC="CheckboxTrigger",e8=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:g}=v1(ZC,e),p=jt(s,u),x=b.useRef(c);return b.useEffect(()=>{const y=i?.form;if(y){const v=()=>h(x.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[i,h]),a.jsx(tt.button,{type:"button",role:"checkbox","aria-checked":Ri(c)?"mixed":c,"aria-required":d,"data-state":a8(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Xe(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Xe(r,y=>{h(v=>Ri(v)?!0:!v),g&&m&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});e8.displayName=ZC;var b1=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return a.jsx(BW,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(e8,{...h,ref:t,__scopeCheckbox:r}),f&&a.jsx(n8,{__scopeCheckbox:r})]})})});b1.displayName=Jg;var t8="CheckboxIndicator",w1=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=v1(t8,r);return a.jsx(xa,{present:n||Ri(i.checked)||i.checked===!0,children:a.jsx(tt.span,{"data-state":a8(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});w1.displayName=t8;var r8="CheckboxBubbleInput",n8=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:m}=v1(r8,e),g=jt(r,m),p=fC(i),x=eC(n);b.useEffect(()=>{const v=f;if(!v)return;const j=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(j,"checked").set,k=!s.current;if(p!==i&&w){const N=new Event("click",{bubbles:k});v.indeterminate=Ri(i),w.call(v,Ri(i)?!1:i),v.dispatchEvent(N)}},[f,p,i,s]);const y=b.useRef(Ri(i)?!1:i);return a.jsx(tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});n8.displayName=r8;function UW(e){return typeof e=="function"}function Ri(e){return e==="indeterminate"}function a8(e){return Ri(e)?"indeterminate":e?"checked":"unchecked"}var Hx="rovingFocusGroup.onEntryFocus",WW={bubbles:!1,cancelable:!0},Bh="RovingFocusGroup",[ib,s8,VW]=qE(Bh),[HW,i8]=vs(Bh,[VW]),[KW,GW]=HW(Bh),o8=b.forwardRef((e,t)=>a.jsx(ib.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ib.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(YW,{...e,ref:t})})}));o8.displayName=Bh;var YW=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=b.useRef(null),m=jt(t,f),g=Ug(i),[p,x]=Vo({prop:o,defaultProp:l??null,onChange:c,caller:Bh}),[y,v]=b.useState(!1),j=Gr(d),w=s8(r),k=b.useRef(!1),[N,S]=b.useState(0);return b.useEffect(()=>{const O=f.current;if(O)return O.addEventListener(Hx,j),()=>O.removeEventListener(Hx,j)},[j]),a.jsx(KW,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:b.useCallback(O=>x(O),[x]),onItemShiftTab:b.useCallback(()=>v(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(O=>O+1),[]),onFocusableItemRemove:b.useCallback(()=>S(O=>O-1),[]),children:a.jsx(tt.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Xe(e.onMouseDown,()=>{k.current=!0}),onFocus:Xe(e.onFocus,O=>{const P=!k.current;if(O.target===O.currentTarget&&P&&!y){const $=new CustomEvent(Hx,WW);if(O.currentTarget.dispatchEvent($),!$.defaultPrevented){const T=w().filter(q=>q.focusable),I=T.find(q=>q.active),D=T.find(q=>q.id===p),E=[I,D,...T].filter(Boolean).map(q=>q.ref.current);d8(E,u)}}k.current=!1}),onBlur:Xe(e.onBlur,()=>v(!1))})})}),l8="RovingFocusGroupItem",c8=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=qs(),d=i||c,u=GW(l8,r),h=u.currentTabStopId===d,f=s8(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=u;return b.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(ib.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:a.jsx(tt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Xe(e.onMouseDown,x=>{n?u.onItemFocus(d):x.preventDefault()}),onFocus:Xe(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Xe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=JW(x,u.orientation,u.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=f().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const j=v.indexOf(x.currentTarget);v=u.loop?ZW(v,j+1):v.slice(j+1)}setTimeout(()=>d8(v))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});c8.displayName=l8;var XW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JW(e,t,r){const n=QW(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return XW[n]}function d8(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ZW(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var eV=o8,tV=c8,Zg="Tabs",[rV,R1e]=vs(Zg,[i8]),u8=i8(),[nV,j1]=rV(Zg),h8=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Ug(l),[h,f]=Vo({prop:n,onChange:s,defaultProp:i??"",caller:Zg});return a.jsx(nV,{scope:r,baseId:qs(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:a.jsx(tt.div,{dir:u,"data-orientation":o,...d,ref:t})})});h8.displayName=Zg;var f8="TabsList",m8=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=j1(f8,r),o=u8(r);return a.jsx(eV,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(tt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});m8.displayName=f8;var p8="TabsTrigger",g8=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=j1(p8,r),l=u8(r),c=v8(o.baseId,n),d=b8(o.baseId,n),u=n===o.value;return a.jsx(tV,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(tt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Xe(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Xe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Xe(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(n)})})})});g8.displayName=p8;var x8="TabsContent",y8=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=j1(x8,r),c=v8(l.baseId,n),d=b8(l.baseId,n),u=n===l.value,h=b.useRef(u);return b.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(xa,{present:s||u,children:({present:f})=>a.jsx(tt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});y8.displayName=x8;function v8(e,t){return`${e}-trigger-${t}`}function b8(e,t){return`${e}-content-${t}`}var w8=h8,j8=m8,_8=g8,N8=y8;function bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Qn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function nn(e,t){const r=bt(e);return isNaN(t)?Qn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Va(e,t){const r=bt(e);if(isNaN(t))return Qn(e,NaN);if(!t)return r;const n=r.getDate(),s=Qn(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const _1=6048e5,aV=864e5;let sV={};function Uh(){return sV}function xs(e,t){const r=Uh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Xo(e){return xs(e,{weekStartsOn:1})}function k8(e){const t=bt(e),r=t.getFullYear(),n=Qn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Xo(n),i=Qn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Xo(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Oc(e){const t=bt(e);return t.setHours(0,0,0,0),t}function Zm(e){const t=bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ns(e,t){const r=Oc(e),n=Oc(t),s=+r-Zm(r),i=+n-Zm(n);return Math.round((s-i)/aV)}function iV(e){const t=k8(e),r=Qn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Xo(r)}function ob(e,t){const r=t*7;return nn(e,r)}function oV(e,t){return Va(e,t*12)}function lV(e){let t;return e.forEach(function(r){const n=bt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function cV(e){let t;return e.forEach(r=>{const n=bt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function kn(e,t){const r=Oc(e),n=Oc(t);return+r==+n}function N1(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dV(e){if(!N1(e)&&typeof e!="number")return!1;const t=bt(e);return!isNaN(Number(t))}function Qu(e,t){const r=bt(e),n=bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function uV(e,t,r){const n=xs(e,r),s=xs(t,r),i=+n-Zm(n),o=+s-Zm(s);return Math.round((i-o)/_1)}function k1(e){const t=bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cn(e){const t=bt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function S8(e){const t=bt(e),r=Qn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function S1(e,t){const r=Uh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=bt(e),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function O8(e){return S1(e,{weekStartsOn:1})}const hV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fV=(e,t,r)=>{let n;const s=hV[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Kx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xV={date:Kx({formats:mV,defaultWidth:"full"}),time:Kx({formats:pV,defaultWidth:"full"}),dateTime:Kx({formats:gV,defaultWidth:"full"})},yV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vV=(e,t,r,n)=>yV[e];function qd(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const bV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_V={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SV=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},OV={ordinalNumber:SV,era:qd({values:bV,defaultWidth:"wide"}),quarter:qd({values:wV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qd({values:jV,defaultWidth:"wide"}),day:qd({values:_V,defaultWidth:"wide"}),dayPeriod:qd({values:NV,defaultWidth:"wide",formattingValues:kV,defaultFormattingWidth:"wide"})};function Bd(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?EV(l,h=>h.test(o)):PV(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function PV(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function EV(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function CV(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const AV=/^(\d+)(th|st|nd|rd)?/i,TV=/\d+/i,DV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MV={any:[/^b/i,/^(a|c)/i]},zV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IV={any:[/1/i,/2/i,/3/i,/4/i]},RV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$V={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UV={ordinalNumber:CV({matchPattern:AV,parsePattern:TV,valueCallback:e=>parseInt(e,10)}),era:Bd({matchPatterns:DV,defaultMatchWidth:"wide",parsePatterns:MV,defaultParseWidth:"any"}),quarter:Bd({matchPatterns:zV,defaultMatchWidth:"wide",parsePatterns:IV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bd({matchPatterns:RV,defaultMatchWidth:"wide",parsePatterns:LV,defaultParseWidth:"any"}),day:Bd({matchPatterns:$V,defaultMatchWidth:"wide",parsePatterns:FV,defaultParseWidth:"any"}),dayPeriod:Bd({matchPatterns:qV,defaultMatchWidth:"any",parsePatterns:BV,defaultParseWidth:"any"})},P8={code:"en-US",formatDistance:fV,formatLong:xV,formatRelative:vV,localize:OV,match:UV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WV(e){const t=bt(e);return ns(t,S8(t))+1}function E8(e){const t=bt(e),r=+Xo(t)-+iV(t);return Math.round(r/_1)+1}function C8(e,t){const r=bt(e),n=r.getFullYear(),s=Uh(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=Qn(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=xs(o,t),c=Qn(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=xs(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function VV(e,t){const r=Uh(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=C8(e,t),i=Qn(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),xs(i,t)}function A8(e,t){const r=bt(e),n=+xs(r,t)-+VV(r,t);return Math.round(n/_1)+1}function Pt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Pt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Pt(r+1,2)},d(e,t){return Pt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Pt(e.getHours()%12||12,t.length)},H(e,t){return Pt(e.getHours(),t.length)},m(e,t){return Pt(e.getMinutes(),t.length)},s(e,t){return Pt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Pt(s,t.length)}},Nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uk={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return fi.y(e,t)},Y:function(e,t,r,n){const s=C8(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Pt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Pt(i,t.length)},R:function(e,t){const r=k8(e);return Pt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Pt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Pt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Pt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Pt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=A8(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Pt(s,t.length)},I:function(e,t,r){const n=E8(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Pt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fi.d(e,t)},D:function(e,t,r){const n=WV(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Pt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Pt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Pt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Pt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Nl.noon:n===0?s=Nl.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Nl.evening:n>=12?s=Nl.afternoon:n>=4?s=Nl.morning:s=Nl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Pt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Pt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fi.s(e,t)},S:function(e,t){return fi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return fk(n);case"XXXX":case"XX":return po(n);case"XXXXX":case"XXX":default:return po(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return fk(n);case"xxxx":case"xx":return po(n);case"xxxxx":case"xxx":default:return po(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hk(n,":");case"OOOO":default:return"GMT"+po(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hk(n,":");case"zzzz":default:return"GMT"+po(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Pt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Pt(n,t.length)}};function hk(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Pt(i,2)}function fk(e,t){return e%60===0?(e>0?"-":"+")+Pt(Math.abs(e)/60,2):po(e,t)}function po(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Pt(Math.trunc(n/60),2),i=Pt(n%60,2);return r+s+t+i}const mk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},T8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},HV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return mk(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",mk(n,t)).replace("{{time}}",T8(s,t))},KV={p:T8,P:HV},GV=/^D+$/,YV=/^Y+$/,XV=["D","DD","YY","YYYY"];function QV(e){return GV.test(e)}function JV(e){return YV.test(e)}function ZV(e,t,r){const n=eH(e,t,r);if(console.warn(n),XV.includes(e))throw new RangeError(n)}function eH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nH=/^'([^]*?)'?$/,aH=/''/g,sH=/[a-zA-Z]/;function da(e,t,r){const n=Uh(),s=r?.locale??n.locale??P8,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=bt(e);if(!dV(l))throw new RangeError("Invalid time value");let c=t.match(rH).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=KV[h];return f(u,s.formatLong)}return u}).join("").match(tH).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:iH(u)};if(uk[h])return{isToken:!0,value:u};if(h.match(sH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!r?.useAdditionalWeekYearTokens&&JV(h)||!r?.useAdditionalDayOfYearTokens&&QV(h))&&ZV(h,t,String(e));const f=uk[h[0]];return f(l,h,s.localize,d)}).join("")}function iH(e){const t=e.match(nH);return t?t[1].replace(aH,"'"):e}function oH(e){const t=bt(e),r=t.getFullYear(),n=t.getMonth(),s=Qn(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function lH(e){return Math.trunc(+bt(e)/1e3)}function cH(e){const t=bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function dH(e,t){return uV(cH(e),Cn(e),t)+1}function lb(e,t){const r=bt(e),n=bt(t);return r.getTime()>n.getTime()}function D8(e,t){const r=bt(e),n=bt(t);return+r<+n}function O1(e,t){const r=bt(e),n=bt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function uH(e,t){const r=bt(e),n=bt(t);return r.getFullYear()===n.getFullYear()}function Gx(e,t){return nn(e,-t)}function Yx(e,t){const r=bt(e),n=r.getFullYear(),s=r.getDate(),i=Qn(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=oH(i);return r.setMonth(t,Math.min(s,o)),r}function pk(e,t){const r=bt(e);return isNaN(+r)?Qn(e,NaN):(r.setFullYear(t),r)}var Ge=function(){return Ge=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ge.apply(this,arguments)};function hH(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function M8(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Wh(e){return e.mode==="multiple"}function Vh(e){return e.mode==="range"}function e0(e){return e.mode==="single"}var fH={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function mH(e,t){return da(e,"LLLL y",t)}function pH(e,t){return da(e,"d",t)}function gH(e,t){return da(e,"LLLL",t)}function xH(e){return"".concat(e)}function yH(e,t){return da(e,"cccccc",t)}function vH(e,t){return da(e,"yyyy",t)}var bH=Object.freeze({__proto__:null,formatCaption:mH,formatDay:pH,formatMonthCaption:gH,formatWeekNumber:xH,formatWeekdayName:yH,formatYearCaption:vH}),wH=function(e,t,r){return da(e,"do MMMM (EEEE)",r)},jH=function(){return"Month: "},_H=function(){return"Go to next month"},NH=function(){return"Go to previous month"},kH=function(e,t){return da(e,"cccc",t)},SH=function(e){return"Week n. ".concat(e)},OH=function(){return"Year: "},PH=Object.freeze({__proto__:null,labelDay:wH,labelMonthDropdown:jH,labelNext:_H,labelPrevious:NH,labelWeekNumber:SH,labelWeekday:kH,labelYearDropdown:OH});function EH(){var e="buttons",t=fH,r=P8,n={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:bH,labels:PH,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function CH(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Cn(n):t&&(i=new Date(t,0,1)),s?o=k1(s):r&&(o=new Date(r,11,31)),{fromDate:i?Oc(i):void 0,toDate:o?Oc(o):void 0}}var z8=b.createContext(void 0);function AH(e){var t,r=e.initialProps,n=EH(),s=CH(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(e0(r)||Wh(r)||Vh(r))&&(c=r.onSelect);var d=Ge(Ge(Ge({},n),r),{captionLayout:l,classNames:Ge(Ge({},n.classNames),r.classNames),components:Ge({},r.components),formatters:Ge(Ge({},n.formatters),r.formatters),fromDate:i,labels:Ge(Ge({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ge(Ge({},n.modifiers),r.modifiers),modifiersClassNames:Ge(Ge({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ge(Ge({},n.styles),r.styles),toDate:o});return a.jsx(z8.Provider,{value:d,children:e.children})}function Vt(){var e=b.useContext(z8);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function I8(e){var t=Vt(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function TH(e){return a.jsx("svg",Ge({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function R8(e){var t,r,n=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Vt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:TH;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function DH(e){var t,r=Vt(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var h=[];if(uH(n,s))for(var f=Cn(n),m=n.getMonth();m<=s.getMonth();m++)h.push(Yx(f,m));else for(var f=Cn(new Date),m=0;m<=11;m++)h.push(Yx(f,m));var g=function(x){var y=Number(x.target.value),v=Yx(Cn(e.displayMonth),y);e.onChange(v)},p=(t=d?.Dropdown)!==null&&t!==void 0?t:R8;return a.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(x){return a.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function MH(e){var t,r=e.displayMonth,n=Vt(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var m=s.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)f.push(pk(S8(new Date),p));var x=function(v){var j=pk(Cn(r),Number(v.target.value));e.onChange(j)},y=(t=d?.Dropdown)!==null&&t!==void 0?t:R8;return a.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:u(r,{locale:o}),children:f.map(function(v){return a.jsx("option",{value:v.getFullYear(),children:u(v,{locale:o})},v.getFullYear())})})}function zH(e,t){var r=b.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function IH(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Qu(i,s)<0){var d=-1*(c-1);s=Va(i,d)}return o&&Qu(s,o)<0&&(s=o),Cn(s)}function RH(){var e=Vt(),t=IH(e),r=zH(t,e.month),n=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Cn(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function LH(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Cn(e),i=Cn(Va(s,n)),o=Qu(i,s),l=[],c=0;c<o;c++){var d=Va(s,c);l.push(d)}return r&&(l=l.reverse()),l}function $H(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Cn(e);if(!r)return Va(l,o);var c=Qu(r,e);if(!(c<i))return Va(l,o)}}function FH(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Cn(e);if(!r)return Va(l,-o);var c=Qu(l,r);if(!(c<=0))return Va(l,-o)}}var L8=b.createContext(void 0);function qH(e){var t=Vt(),r=RH(),n=r[0],s=r[1],i=LH(n,t),o=$H(n,t),l=FH(n,t),c=function(h){return i.some(function(f){return O1(h,f)})},d=function(h,f){c(h)||(f&&D8(h,f)?s(Va(h,1+t.numberOfMonths*-1)):s(h))},u={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(L8.Provider,{value:u,children:e.children})}function Hh(){var e=b.useContext(L8);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function gk(e){var t,r=Vt(),n=r.classNames,s=r.styles,i=r.components,o=Hh().goToMonth,l=function(u){o(Va(u,e.displayIndex?-e.displayIndex:0))},c=(t=i?.CaptionLabel)!==null&&t!==void 0?t:I8,d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:d}),a.jsx(DH,{onChange:l,displayMonth:e.displayMonth}),a.jsx(MH,{onChange:l,displayMonth:e.displayMonth})]})}function BH(e){return a.jsx("svg",Ge({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UH(e){return a.jsx("svg",Ge({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ep=b.forwardRef(function(e,t){var r=Vt(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Ge(Ge({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",Ge({},e,{ref:t,type:"button",className:o,style:l}))});function WH(e){var t,r,n=Vt(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var f=d(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),x=(t=h?.IconRight)!==null&&t!==void 0?t:UH,y=(r=h?.IconLeft)!==null&&r!==void 0?r:BH;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(ep,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(x,{className:o.nav_icon,style:l.nav_icon}):a.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(ep,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(y,{className:o.nav_icon,style:l.nav_icon}):a.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function xk(e){var t=Vt().numberOfMonths,r=Hh(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return O1(e.displayMonth,g)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),f=function(){n&&i(n)},m=function(){s&&i(s)};return a.jsx(WH,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:m})}function VH(e){var t,r=Vt(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l?.CaptionLabel)!==null&&t!==void 0?t:I8,d;return s?d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=a.jsx(gk,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=a.jsxs(a.Fragment,{children:[a.jsx(gk,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(xk,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(xk,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:d})}function HH(e){var t=Vt(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function KH(e,t,r){for(var n=r?Xo(new Date):xs(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=nn(n,i);s.push(o)}return s}function GH(){var e=Vt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=KH(s,i,o);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,h){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:s}),children:l(u,{locale:s})},h)})]})}function YH(){var e,t=Vt(),r=t.classNames,n=t.styles,s=t.components,i=(e=s?.HeadRow)!==null&&e!==void 0?e:GH;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function XH(e){var t=Vt(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var P1=b.createContext(void 0);function QH(e){if(!Wh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(P1.Provider,{value:t,children:e.children})}return a.jsx(JH,{initialProps:e.initialProps,children:e.children})}function JH(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,o=function(d,u,h){var f,m;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,h);var g=!!(u.selected&&s&&n?.length===s);if(!g){var p=!!(!u.selected&&i&&n?.length===i);if(!p){var x=n?M8([],n):[];if(u.selected){var y=x.findIndex(function(v){return kn(d,v)});x.splice(y,1)}else x.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,x,d,u,h)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,h=n.some(function(f){return kn(f,d)});return!!(u&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return a.jsx(P1.Provider,{value:c,children:r})}function E1(){var e=b.useContext(P1);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function ZH(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?kn(s,e)&&kn(n,e)?void 0:kn(s,e)?{from:s,to:void 0}:kn(n,e)?void 0:lb(n,e)?{from:e,to:s}:{from:n,to:e}:s?lb(e,s)?{from:s,to:e}:{from:e,to:s}:n?D8(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var C1=b.createContext(void 0);function eK(e){if(!Vh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(C1.Provider,{value:t,children:e.children})}return a.jsx(tK,{initialProps:e.initialProps,children:e.children})}function tK(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,o=s.to,l=t.min,c=t.max,d=function(m,g,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,m,g,p);var v=ZH(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,v,m,g,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],kn(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Gx(i,l-1),before:nn(i,l-1)}),i&&o&&u.disabled.push({after:i,before:nn(i,l-1)}),!i&&o&&u.disabled.push({after:Gx(o,l-1),before:nn(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:nn(i,-c+1)}),u.disabled.push({after:nn(i,c-1)})),i&&o){var h=ns(o,i)+1,f=c-h;u.disabled.push({before:Gx(i,f)}),u.disabled.push({after:nn(o,f)})}!i&&o&&(u.disabled.push({before:nn(o,-c+1)}),u.disabled.push({after:nn(o,c-1)}))}return a.jsx(C1.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function A1(){var e=b.useContext(C1);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function fm(e){return Array.isArray(e)?M8([],e):e!==void 0?[e]:[]}function rK(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=fm(s)}),t}var Ha;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ha||(Ha={}));var nK=Ha.Selected,Os=Ha.Disabled,aK=Ha.Hidden,sK=Ha.Today,Xx=Ha.RangeEnd,Qx=Ha.RangeMiddle,Jx=Ha.RangeStart,iK=Ha.Outside;function oK(e,t,r){var n,s=(n={},n[nK]=fm(e.selected),n[Os]=fm(e.disabled),n[aK]=fm(e.hidden),n[sK]=[e.today],n[Xx]=[],n[Qx]=[],n[Jx]=[],n[iK]=[],n);return e.fromDate&&s[Os].push({before:e.fromDate}),e.toDate&&s[Os].push({after:e.toDate}),Wh(e)?s[Os]=s[Os].concat(t.modifiers[Os]):Vh(e)&&(s[Os]=s[Os].concat(r.modifiers[Os]),s[Jx]=r.modifiers[Jx],s[Qx]=r.modifiers[Qx],s[Xx]=r.modifiers[Xx]),s}var $8=b.createContext(void 0);function lK(e){var t=Vt(),r=E1(),n=A1(),s=oK(t,r,n),i=rK(t.modifiers),o=Ge(Ge({},s),i);return a.jsx($8.Provider,{value:o,children:e.children})}function F8(){var e=b.useContext($8);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function cK(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function dK(e){return!!(e&&typeof e=="object"&&"from"in e)}function uK(e){return!!(e&&typeof e=="object"&&"after"in e)}function hK(e){return!!(e&&typeof e=="object"&&"before"in e)}function fK(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function mK(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=ns(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=ns(e,n)>=0&&ns(s,e)>=0;return o}return s?kn(s,e):n?kn(n,e):!1}function pK(e){return N1(e)}function gK(e){return Array.isArray(e)&&e.every(N1)}function xK(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(pK(r))return kn(e,r);if(gK(r))return r.includes(e);if(dK(r))return mK(e,r);if(fK(r))return r.dayOfWeek.includes(e.getDay());if(cK(r)){var n=ns(r.before,e),s=ns(r.after,e),i=n>0,o=s<0,l=lb(r.before,r.after);return l?o&&i:i||o}return uK(r)?ns(e,r.after)>0:hK(r)?ns(r.before,e)>0:typeof r=="function"?r(e):!1})}function T1(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return xK(e,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!O1(e,r)&&(s.outside=!0),s}function yK(e,t){for(var r=Cn(e[0]),n=k1(e[e.length-1]),s,i,o=r;o<=n;){var l=T1(o,t),c=!l.disabled&&!l.hidden;if(!c){o=nn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=nn(o,1)}return i||s}var vK=365;function q8(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,h=s.locale,f={day:nn,week:ob,month:Va,year:oV,startOfWeek:function(x){return s.ISOWeek?Xo(x):xs(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?O8(x):S1(x,{locale:h,weekStartsOn:c})}},m=f[r](e,n==="after"?1:-1);n==="before"&&d?m=lV([d,m]):n==="after"&&u&&(m=cV([u,m]));var g=!0;if(i){var p=T1(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>vK?l.lastFocused:q8(m,{moveBy:r,direction:n,context:s,modifiers:i,retry:Ge(Ge({},l),{count:l.count+1})})}var B8=b.createContext(void 0);function bK(e){var t=Hh(),r=F8(),n=b.useState(),s=n[0],i=n[1],o=b.useState(),l=o[0],c=o[1],d=yK(t.displayMonths,r),u=s??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(s),i(void 0)},f=function(x){i(x)},m=Vt(),g=function(x,y){if(s){var v=q8(s,{moveBy:x,direction:y,context:m,modifiers:r});kn(s,v)||(t.goToDate(v,s),f(v))}},p={focusedDay:s,focusTarget:u,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return a.jsx(B8.Provider,{value:p,children:e.children})}function D1(){var e=b.useContext(B8);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function wK(e,t){var r=F8(),n=T1(e,r,t);return n}var M1=b.createContext(void 0);function jK(e){if(!e0(e.initialProps)){var t={selected:void 0};return a.jsx(M1.Provider,{value:t,children:e.children})}return a.jsx(_K,{initialProps:e.initialProps,children:e.children})}function _K(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:n};return a.jsx(M1.Provider,{value:s,children:r})}function U8(){var e=b.useContext(M1);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function NK(e,t){var r=Vt(),n=U8(),s=E1(),i=A1(),o=D1(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,x=o.focusYearAfter,y=o.focusStartOfWeek,v=o.focusEndOfWeek,j=function(V){var L,G,ee,ne;e0(r)?(L=n.onDayClick)===null||L===void 0||L.call(n,e,t,V):Wh(r)?(G=s.onDayClick)===null||G===void 0||G.call(s,e,t,V):Vh(r)?(ee=i.onDayClick)===null||ee===void 0||ee.call(i,e,t,V):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,e,t,V)},w=function(V){var L;f(e),(L=r.onDayFocus)===null||L===void 0||L.call(r,e,t,V)},k=function(V){var L;h(),(L=r.onDayBlur)===null||L===void 0||L.call(r,e,t,V)},N=function(V){var L;(L=r.onDayMouseEnter)===null||L===void 0||L.call(r,e,t,V)},S=function(V){var L;(L=r.onDayMouseLeave)===null||L===void 0||L.call(r,e,t,V)},O=function(V){var L;(L=r.onDayPointerEnter)===null||L===void 0||L.call(r,e,t,V)},P=function(V){var L;(L=r.onDayPointerLeave)===null||L===void 0||L.call(r,e,t,V)},$=function(V){var L;(L=r.onDayTouchCancel)===null||L===void 0||L.call(r,e,t,V)},T=function(V){var L;(L=r.onDayTouchEnd)===null||L===void 0||L.call(r,e,t,V)},I=function(V){var L;(L=r.onDayTouchMove)===null||L===void 0||L.call(r,e,t,V)},D=function(V){var L;(L=r.onDayTouchStart)===null||L===void 0||L.call(r,e,t,V)},E=function(V){var L;(L=r.onDayKeyUp)===null||L===void 0||L.call(r,e,t,V)},q=function(V){var L;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),d();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),u();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?p():m();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?x():g();break;case"Home":V.preventDefault(),V.stopPropagation(),y();break;case"End":V.preventDefault(),V.stopPropagation(),v();break}(L=r.onDayKeyDown)===null||L===void 0||L.call(r,e,t,V)},F={onClick:j,onFocus:w,onBlur:k,onKeyDown:q,onKeyUp:E,onMouseEnter:N,onMouseLeave:S,onPointerEnter:O,onPointerLeave:P,onTouchCancel:$,onTouchEnd:T,onTouchMove:I,onTouchStart:D};return F}function kK(){var e=Vt(),t=U8(),r=E1(),n=A1(),s=e0(e)?t.selected:Wh(e)?r.selected:Vh(e)?n.selected:void 0;return s}function SK(e){return Object.values(Ha).includes(e)}function OK(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(SK(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function PK(e,t){var r=Ge({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Ge(Ge({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function EK(e,t,r){var n,s,i,o=Vt(),l=D1(),c=wK(e,t),d=NK(e,c),u=kK(),h=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var N;c.outside||l.focusedDay&&h&&kn(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,h,c.outside]);var f=OK(o,c).join(" "),m=PK(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:XH,x=a.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:f,children:x,role:"gridcell"},v=l.focusTarget&&kn(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&kn(l.focusedDay,e),w=Ge(Ge(Ge({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||v?0:-1,n)),d),k={isButton:h,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:w,divProps:y};return k}function CK(e){var t=b.useRef(null),r=EK(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(ep,Ge({name:"day",ref:t},r.buttonProps)):a.jsx("div",Ge({},r.divProps))}function AK(e){var t=e.number,r=e.dates,n=Vt(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),f=function(m){s(t,r,m)};return a.jsx(ep,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:u})}function TK(e){var t,r,n=Vt(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l?.Day)!==null&&t!==void 0?t:CK,d=(r=l?.WeekNumber)!==null&&r!==void 0?r:AK,u;return o&&(u=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(d,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[u,e.dates.map(function(h){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:h})},lH(h))})]})}function yk(e,t,r){for(var n=r?.ISOWeek?O8(t):S1(t,r),s=r?.ISOWeek?Xo(e):xs(e,r),i=ns(n,s),o=[],l=0;l<=i;l++)o.push(nn(s,l));var c=o.reduce(function(d,u){var h=r?.ISOWeek?E8(u):A8(u,r),f=d.find(function(m){return m.weekNumber===h});return f?(f.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function DK(e,t){var r=yk(Cn(e),k1(e),t);if(t?.useFixedWeeks){var n=dH(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=ob(i,6-n),l=yk(ob(i,1),o,t);r.push.apply(r,l)}}return r}function MK(e){var t,r,n,s=Vt(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,d=s.fixedWeeks,u=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,m=s.ISOWeek,g=DK(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),p=(t=u?.Head)!==null&&t!==void 0?t:YH,x=(r=u?.Row)!==null&&r!==void 0?r:TK,y=(n=u?.Footer)!==null&&n!==void 0?n:HH;return a.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(p,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(v){return a.jsx(x,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),a.jsx(y,{displayMonth:e.displayMonth})]})}function zK(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var IK=zK()?b.useLayoutEffect:b.useEffect,Zx=!1,RK=0;function vk(){return"react-day-picker-".concat(++RK)}function LK(e){var t,r=e??(Zx?vk():null),n=b.useState(r),s=n[0],i=n[1];return IK(function(){s===null&&i(vk())},[]),b.useEffect(function(){Zx===!1&&(Zx=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function $K(e){var t,r,n=Vt(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Hh().displayMonths,d=LK(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;s==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(h.push(i.caption_start),f=Ge(Ge({},f),o.caption_start)),g&&(h.push(i.caption_end),f=Ge(Ge({},f),o.caption_end)),p&&(h.push(i.caption_between),f=Ge(Ge({},f),o.caption_between));var x=(r=l?.Caption)!==null&&r!==void 0?r:VH;return a.jsxs("div",{className:h.join(" "),style:f,children:[a.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(MK,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function FK(e){var t=Vt(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function qK(e){var t,r,n=e.initialProps,s=Vt(),i=D1(),o=Hh(),l=b.useState(!1),c=l[0],d=l[1];b.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var h=Ge(Ge({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var x;return Ge(Ge({},g),(x={},x[p]=n[p],x))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:FK;return a.jsx("div",Ge({className:u.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:a.jsx(m,{children:o.displayMonths.map(function(g,p){return a.jsx($K,{displayIndex:p,displayMonth:g},p)})})}))}function BK(e){var t=e.children,r=hH(e,["children"]);return a.jsx(AH,{initialProps:r,children:a.jsx(qH,{children:a.jsx(jK,{initialProps:r,children:a.jsx(QH,{initialProps:r,children:a.jsx(eK,{initialProps:r,children:a.jsx(lK,{children:a.jsx(bK,{children:t})})})})})})})}function W8(e){return a.jsx(BK,Ge({},e,{children:a.jsx(qK,{initialProps:e})}))}var t0="Popover",[V8,L1e]=vs(t0,[Gg]),Kh=Gg(),[UK,Xi]=V8(t0),H8=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Kh(t),c=b.useRef(null),[d,u]=b.useState(!1),[h,f]=Vo({prop:n,defaultProp:s??!1,onChange:i,caller:t0});return a.jsx(dC,{...l,children:a.jsx(UK,{scope:t,contentId:qs(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:d,onCustomAnchorAdd:b.useCallback(()=>u(!0),[]),onCustomAnchorRemove:b.useCallback(()=>u(!1),[]),modal:o,children:r})})};H8.displayName=t0;var K8="PopoverAnchor",WK=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xi(K8,r),i=Kh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return b.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(x1,{...i,...n,ref:t})});WK.displayName=K8;var G8="PopoverTrigger",Y8=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xi(G8,r),i=Kh(r),o=jt(t,s.triggerRef),l=a.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":eA(s.open),...n,ref:o,onClick:Xe(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(x1,{asChild:!0,...i,children:l})});Y8.displayName=G8;var z1="PopoverPortal",[VK,HK]=V8(z1,{forceMount:void 0}),X8=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Xi(z1,t);return a.jsx(VK,{scope:t,forceMount:r,children:a.jsx(xa,{present:r||i.open,children:a.jsx(Cg,{asChild:!0,container:s,children:n})})})};X8.displayName=z1;var Pc="PopoverContent",Q8=b.forwardRef((e,t)=>{const r=HK(Pc,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Xi(Pc,e.__scopePopover);return a.jsx(xa,{present:n||i.open,children:i.modal?a.jsx(GK,{...s,ref:t}):a.jsx(YK,{...s,ref:t})})});Q8.displayName=Pc;var KK=qo("PopoverContent.RemoveScroll"),GK=b.forwardRef((e,t)=>{const r=Xi(Pc,e.__scopePopover),n=b.useRef(null),s=jt(t,n),i=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return Uj(o)},[]),a.jsx(Tg,{as:KK,allowPinchZoom:!0,children:a.jsx(J8,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Xe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),YK=b.forwardRef((e,t)=>{const r=Xi(Pc,e.__scopePopover),n=b.useRef(!1),s=b.useRef(!1);return a.jsx(J8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),J8=b.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,f=Xi(Pc,r),m=Kh(r);return Bj(),a.jsx(Eg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Pg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:a.jsx(uC,{"data-state":eA(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Z8="PopoverClose",XK=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Xi(Z8,r);return a.jsx(tt.button,{type:"button",...n,ref:t,onClick:Xe(e.onClick,()=>s.onOpenChange(!1))})});XK.displayName=Z8;var QK="PopoverArrow",JK=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Kh(r);return a.jsx(hC,{...s,...n,ref:t})});JK.displayName=QK;function eA(e){return e?"open":"closed"}var tA=H8,rA=Y8,nA=X8,aA=Q8,ZK=Array.isArray,An=ZK,eG=typeof Yr=="object"&&Yr&&Yr.Object===Object&&Yr,sA=eG,tG=sA,rG=typeof self=="object"&&self&&self.Object===Object&&self,nG=tG||rG||Function("return this")(),ws=nG,aG=ws,sG=aG.Symbol,Gh=sG,bk=Gh,iA=Object.prototype,iG=iA.hasOwnProperty,oG=iA.toString,Ud=bk?bk.toStringTag:void 0;function lG(e){var t=iG.call(e,Ud),r=e[Ud];try{e[Ud]=void 0;var n=!0}catch{}var s=oG.call(e);return n&&(t?e[Ud]=r:delete e[Ud]),s}var cG=lG,dG=Object.prototype,uG=dG.toString;function hG(e){return uG.call(e)}var fG=hG,wk=Gh,mG=cG,pG=fG,gG="[object Null]",xG="[object Undefined]",jk=wk?wk.toStringTag:void 0;function yG(e){return e==null?e===void 0?xG:gG:jk&&jk in Object(e)?mG(e):pG(e)}var ni=yG;function vG(e){return e!=null&&typeof e=="object"}var ai=vG,bG=ni,wG=ai,jG="[object Symbol]";function _G(e){return typeof e=="symbol"||wG(e)&&bG(e)==jG}var pd=_G,NG=An,kG=pd,SG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OG=/^\w*$/;function PG(e,t){if(NG(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||kG(e)?!0:OG.test(e)||!SG.test(e)||t!=null&&e in Object(t)}var I1=PG;function EG(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qi=EG;const gd=kt(Qi);var CG=ni,AG=Qi,TG="[object AsyncFunction]",DG="[object Function]",MG="[object GeneratorFunction]",zG="[object Proxy]";function IG(e){if(!AG(e))return!1;var t=CG(e);return t==DG||t==MG||t==TG||t==zG}var R1=IG;const He=kt(R1);var RG=ws,LG=RG["__core-js_shared__"],$G=LG,ey=$G,_k=function(){var e=/[^.]+$/.exec(ey&&ey.keys&&ey.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function FG(e){return!!_k&&_k in e}var qG=FG,BG=Function.prototype,UG=BG.toString;function WG(e){if(e!=null){try{return UG.call(e)}catch{}try{return e+""}catch{}}return""}var oA=WG,VG=R1,HG=qG,KG=Qi,GG=oA,YG=/[\\^$.*+?()[\]{}|]/g,XG=/^\[object .+?Constructor\]$/,QG=Function.prototype,JG=Object.prototype,ZG=QG.toString,eY=JG.hasOwnProperty,tY=RegExp("^"+ZG.call(eY).replace(YG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rY(e){if(!KG(e)||HG(e))return!1;var t=VG(e)?tY:XG;return t.test(GG(e))}var nY=rY;function aY(e,t){return e?.[t]}var sY=aY,iY=nY,oY=sY;function lY(e,t){var r=oY(e,t);return iY(r)?r:void 0}var ll=lY,cY=ll,dY=cY(Object,"create"),r0=dY,Nk=r0;function uY(){this.__data__=Nk?Nk(null):{},this.size=0}var hY=uY;function fY(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mY=fY,pY=r0,gY="__lodash_hash_undefined__",xY=Object.prototype,yY=xY.hasOwnProperty;function vY(e){var t=this.__data__;if(pY){var r=t[e];return r===gY?void 0:r}return yY.call(t,e)?t[e]:void 0}var bY=vY,wY=r0,jY=Object.prototype,_Y=jY.hasOwnProperty;function NY(e){var t=this.__data__;return wY?t[e]!==void 0:_Y.call(t,e)}var kY=NY,SY=r0,OY="__lodash_hash_undefined__";function PY(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=SY&&t===void 0?OY:t,this}var EY=PY,CY=hY,AY=mY,TY=bY,DY=kY,MY=EY;function xd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xd.prototype.clear=CY;xd.prototype.delete=AY;xd.prototype.get=TY;xd.prototype.has=DY;xd.prototype.set=MY;var zY=xd;function IY(){this.__data__=[],this.size=0}var RY=IY;function LY(e,t){return e===t||e!==e&&t!==t}var L1=LY,$Y=L1;function FY(e,t){for(var r=e.length;r--;)if($Y(e[r][0],t))return r;return-1}var n0=FY,qY=n0,BY=Array.prototype,UY=BY.splice;function WY(e){var t=this.__data__,r=qY(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():UY.call(t,r,1),--this.size,!0}var VY=WY,HY=n0;function KY(e){var t=this.__data__,r=HY(t,e);return r<0?void 0:t[r][1]}var GY=KY,YY=n0;function XY(e){return YY(this.__data__,e)>-1}var QY=XY,JY=n0;function ZY(e,t){var r=this.__data__,n=JY(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var eX=ZY,tX=RY,rX=VY,nX=GY,aX=QY,sX=eX;function yd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yd.prototype.clear=tX;yd.prototype.delete=rX;yd.prototype.get=nX;yd.prototype.has=aX;yd.prototype.set=sX;var a0=yd,iX=ll,oX=ws,lX=iX(oX,"Map"),$1=lX,kk=zY,cX=a0,dX=$1;function uX(){this.size=0,this.__data__={hash:new kk,map:new(dX||cX),string:new kk}}var hX=uX;function fX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var mX=fX,pX=mX;function gX(e,t){var r=e.__data__;return pX(t)?r[typeof t=="string"?"string":"hash"]:r.map}var s0=gX,xX=s0;function yX(e){var t=xX(this,e).delete(e);return this.size-=t?1:0,t}var vX=yX,bX=s0;function wX(e){return bX(this,e).get(e)}var jX=wX,_X=s0;function NX(e){return _X(this,e).has(e)}var kX=NX,SX=s0;function OX(e,t){var r=SX(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var PX=OX,EX=hX,CX=vX,AX=jX,TX=kX,DX=PX;function vd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vd.prototype.clear=EX;vd.prototype.delete=CX;vd.prototype.get=AX;vd.prototype.has=TX;vd.prototype.set=DX;var F1=vd,lA=F1,MX="Expected a function";function q1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(MX);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(q1.Cache||lA),r}q1.Cache=lA;var cA=q1;const zX=kt(cA);var IX=cA,RX=500;function LX(e){var t=IX(e,function(n){return r.size===RX&&r.clear(),n}),r=t.cache;return t}var $X=LX,FX=$X,qX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BX=/\\(\\)?/g,UX=FX(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qX,function(r,n,s,i){t.push(s?i.replace(BX,"$1"):n||r)}),t}),WX=UX;function VX(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var B1=VX,Sk=Gh,HX=B1,KX=An,GX=pd,Ok=Sk?Sk.prototype:void 0,Pk=Ok?Ok.toString:void 0;function dA(e){if(typeof e=="string")return e;if(KX(e))return HX(e,dA)+"";if(GX(e))return Pk?Pk.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var YX=dA,XX=YX;function QX(e){return e==null?"":XX(e)}var uA=QX,JX=An,ZX=I1,eQ=WX,tQ=uA;function rQ(e,t){return JX(e)?e:ZX(e,t)?[e]:eQ(tQ(e))}var hA=rQ,nQ=pd;function aQ(e){if(typeof e=="string"||nQ(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var i0=aQ,sQ=hA,iQ=i0;function oQ(e,t){t=sQ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[iQ(t[r++])];return r&&r==n?e:void 0}var U1=oQ,lQ=U1;function cQ(e,t,r){var n=e==null?void 0:lQ(e,t);return n===void 0?r:n}var fA=cQ;const Gn=kt(fA);function dQ(e){return e==null}var uQ=dQ;const et=kt(uQ);var hQ=ni,fQ=An,mQ=ai,pQ="[object String]";function gQ(e){return typeof e=="string"||!fQ(e)&&mQ(e)&&hQ(e)==pQ}var xQ=gQ;const Qo=kt(xQ);var mA={exports:{}},Ct={};/**
* @license React
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var W1=Symbol.for("react.element"),V1=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),yQ=Symbol.for("react.server_context"),h0=Symbol.for("react.forward_ref"),f0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),g0=Symbol.for("react.lazy"),vQ=Symbol.for("react.offscreen"),pA;pA=Symbol.for("react.module.reference");function ya(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case W1:switch(e=e.type,e){case o0:case c0:case l0:case f0:case m0:return e;default:switch(e=e&&e.$$typeof,e){case yQ:case u0:case h0:case g0:case p0:case d0:return e;default:return t}}case V1:return t}}}Ct.ContextConsumer=u0;Ct.ContextProvider=d0;Ct.Element=W1;Ct.ForwardRef=h0;Ct.Fragment=o0;Ct.Lazy=g0;Ct.Memo=p0;Ct.Portal=V1;Ct.Profiler=c0;Ct.StrictMode=l0;Ct.Suspense=f0;Ct.SuspenseList=m0;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return ya(e)===u0};Ct.isContextProvider=function(e){return ya(e)===d0};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===W1};Ct.isForwardRef=function(e){return ya(e)===h0};Ct.isFragment=function(e){return ya(e)===o0};Ct.isLazy=function(e){return ya(e)===g0};Ct.isMemo=function(e){return ya(e)===p0};Ct.isPortal=function(e){return ya(e)===V1};Ct.isProfiler=function(e){return ya(e)===c0};Ct.isStrictMode=function(e){return ya(e)===l0};Ct.isSuspense=function(e){return ya(e)===f0};Ct.isSuspenseList=function(e){return ya(e)===m0};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===o0||e===c0||e===l0||e===f0||e===m0||e===vQ||typeof e=="object"&&e!==null&&(e.$$typeof===g0||e.$$typeof===p0||e.$$typeof===d0||e.$$typeof===u0||e.$$typeof===h0||e.$$typeof===pA||e.getModuleId!==void 0)};Ct.typeOf=ya;mA.exports=Ct;var bQ=mA.exports,wQ=ni,jQ=ai,_Q="[object Number]";function NQ(e){return typeof e=="number"||jQ(e)&&wQ(e)==_Q}var gA=NQ;const kQ=kt(gA);var SQ=gA;function OQ(e){return SQ(e)&&e!=+e}var PQ=OQ;const bd=kt(PQ);var cn=function(e){return e===0?0:e>0?1:-1},ko=function(e){return Qo(e)&&e.indexOf("%")===e.length-1},ye=function(e){return kQ(e)&&!bd(e)},EQ=function(e){return et(e)},Cr=function(e){return ye(e)||Qo(e)},CQ=0,cl=function(e){var t=++CQ;return"".concat(e||"").concat(t)},dn=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(e)&&!Qo(e))return r;var s;if(ko(e)){var i=e.indexOf("%");s=t*parseFloat(e.slice(0,i))/100}else s=+e;return bd(s)&&(s=r),n&&s>t&&(s=t),s},_i=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},AQ=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Or=function(e,t){return ye(e)&&ye(t)?function(r){return e+r*(t-e)}:function(){return t}};function tp(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Gn(n,t))===r})}var TQ=function(e,t){return ye(e)&&ye(t)?e-t:Qo(e)&&Qo(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function hc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function cb(e){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cb(e)}var DQ=["viewBox","children"],MQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ek=["points","pathLength"],zQ={svg:DQ,polygon:Ek,polyline:Ek},H1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rp=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!gd(r))return null;var n={};return Object.keys(r).forEach(function(s){H1.includes(s)&&(n[s]=t||function(i){return r[s](r,i)})}),n},IQ=function(e,t,r){return function(n){return e(t,r,n),null}},Jo=function(e,t,r){if(!gd(e)||cb(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(s){var i=e[s];H1.includes(s)&&typeof i=="function"&&(n||(n={}),n[s]=IQ(i,t,r))}),n},RQ=["children"],LQ=["children"];function Ck(e,t){if(e==null)return{};var r=$Q(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Q(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function db(e){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(e)}var Ak={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Tk=null,ty=null,K1=function e(t){if(t===Tk&&Array.isArray(ty))return ty;var r=[];return b.Children.forEach(t,function(n){et(n)||(bQ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ty=r,Tk=t,r};function Yn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Bs(s)}):n=[Bs(t)],K1(e).forEach(function(s){var i=Gn(s,"type.displayName")||Gn(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function In(e,t){var r=Yn(e,t);return r&&r[0]}var Dk=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!ye(r)||r<=0||!ye(n)||n<=0)},FQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qQ=function(e){return e&&e.type&&Qo(e.type)&&FQ.indexOf(e.type)>=0},xA=function(e){return e&&db(e)==="object"&&"clipDot"in e},BQ=function(e,t,r,n){var s,i=(s=zQ?.[n])!==null&&s!==void 0?s:[];return t.startsWith("data-")||!He(e)&&(n&&i.includes(t)||MQ.includes(t))||r&&H1.includes(t)},Be=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!gd(n))return null;var s={};return Object.keys(n).forEach(function(i){var o;BQ((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},ub=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Mk(i,o))return!1}return!0},Mk=function(e,t){if(et(e)&&et(t))return!0;if(!et(e)&&!et(t)){var r=e.props||{},n=r.children,s=Ck(r,RQ),i=t.props||{},o=i.children,l=Ck(i,LQ);return n&&o?hc(s,l)&&ub(n,o):!n&&!o?hc(s,l):!1}return!1},zk=function(e,t){var r=[],n={};return K1(e).forEach(function(s,i){if(qQ(s))r.push(s);else if(s){var o=Bs(s.type),l=t[o]||{},c=l.handler,d=l.once;if(c&&(!d||!n[o])){var u=c(s,o,i);r.push(u),n[o]=!0}}}),r},UQ=function(e){var t=e&&e.type;return t&&Ak[t]?Ak[t]:null},WQ=function(e,t){return K1(t).indexOf(e)},VQ=["children","width","height","viewBox","className","style","title","desc"];function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(this,arguments)}function HQ(e,t){if(e==null)return{};var r=KQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fb(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=HQ(e,VQ),u=s||{width:r,height:n,x:0,y:0},h=Ze("recharts-surface",i);return z.createElement("svg",hb({},Be(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),t)}var GQ=["children","className"];function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(this,arguments)}function YQ(e,t){if(e==null)return{};var r=XQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ht=z.forwardRef(function(e,t){var r=e.children,n=e.className,s=YQ(e,GQ),i=Ze("recharts-layer",n);return z.createElement("g",mb({className:i},Be(s,!0),{ref:t}),r)}),La=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s]};function QQ(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var JQ=QQ,ZQ=JQ;function eJ(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:ZQ(e,t,r)}var tJ=eJ,rJ="\\ud800-\\udfff",nJ="\\u0300-\\u036f",aJ="\\ufe20-\\ufe2f",sJ="\\u20d0-\\u20ff",iJ=nJ+aJ+sJ,oJ="\\ufe0e\\ufe0f",lJ="\\u200d",cJ=RegExp("["+lJ+rJ+iJ+oJ+"]");function dJ(e){return cJ.test(e)}var yA=dJ;function uJ(e){return e.split("")}var hJ=uJ,vA="\\ud800-\\udfff",fJ="\\u0300-\\u036f",mJ="\\ufe20-\\ufe2f",pJ="\\u20d0-\\u20ff",gJ=fJ+mJ+pJ,xJ="\\ufe0e\\ufe0f",yJ="["+vA+"]",pb="["+gJ+"]",gb="\\ud83c[\\udffb-\\udfff]",vJ="(?:"+pb+"|"+gb+")",bA="[^"+vA+"]",wA="(?:\\ud83c[\\udde6-\\uddff]){2}",jA="[\\ud800-\\udbff][\\udc00-\\udfff]",bJ="\\u200d",_A=vJ+"?",NA="["+xJ+"]?",wJ="(?:"+bJ+"(?:"+[bA,wA,jA].join("|")+")"+NA+_A+")*",jJ=NA+_A+wJ,_J="(?:"+[bA+pb+"?",pb,wA,jA,yJ].join("|")+")",NJ=RegExp(gb+"(?="+gb+")|"+_J+jJ,"g");function kJ(e){return e.match(NJ)||[]}var SJ=kJ,OJ=hJ,PJ=yA,EJ=SJ;function CJ(e){return PJ(e)?EJ(e):OJ(e)}var AJ=CJ,TJ=tJ,DJ=yA,MJ=AJ,zJ=uA;function IJ(e){return function(t){t=zJ(t);var r=DJ(t)?MJ(t):void 0,n=r?r[0]:t.charAt(0),s=r?TJ(r,1).join(""):t.slice(1);return n[e]()+s}}var RJ=IJ,LJ=RJ,$J=LJ("toUpperCase"),FJ=$J;const x0=kt(FJ);function Gt(e){return function(){return e}}const kA=Math.cos,np=Math.sin,Ya=Math.sqrt,ap=Math.PI,y0=2*ap,xb=Math.PI,yb=2*xb,go=1e-6,qJ=yb-go;function SA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SA;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class UJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SA:BJ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,u=o-t,h=l-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>go)if(!(Math.abs(h*c-d*u)>go)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+d*d,x=m*m+g*g,y=Math.sqrt(p),v=Math.sqrt(f),j=i*Math.tan((xb-Math.acos((p+f-x)/(2*y*v)))/2),w=j/v,k=j/y;Math.abs(w-1)>go&&this._append`L${t+w*u},${r+w*h}`,this._append`A${i},${i},0,0,${+(h*m>u*g)},${this._x1=t+k*c},${this._y1=r+k*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,u=r+c,h=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>go||Math.abs(this._y1-u)>go)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%yb+yb),f>qJ?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:f>go&&this._append`A${n},${n},0,${+(f>=xb)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function G1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UJ(t)}function Y1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OA(e){this._context=e}OA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function v0(e){return new OA(e)}function PA(e){return e[0]}function EA(e){return e[1]}function CA(e,t){var r=Gt(!0),n=null,s=v0,i=null,o=G1(l);e=typeof e=="function"?e:e===void 0?PA:Gt(e),t=typeof t=="function"?t:t===void 0?EA:Gt(t);function l(c){var d,u=(c=Y1(c)).length,h,f=!1,m;for(n==null&&(i=s(m=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,d,c),+t(h,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function zf(e,t,r){var n=null,s=Gt(!0),i=null,o=v0,l=null,c=G1(d);e=typeof e=="function"?e:e===void 0?PA:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?EA:Gt(+r);function d(h){var f,m,g,p=(h=Y1(h)).length,x,y=!1,v,j=new Array(p),w=new Array(p);for(i==null&&(l=o(v=c())),f=0;f<=p;++f){if(!(f<p&&s(x=h[f],f,h))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(j[g],w[g]);l.lineEnd(),l.areaEnd()}y&&(j[f]=+e(x,f,h),w[f]=+t(x,f,h),l.point(n?+n(x,f,h):j[f],r?+r(x,f,h):w[f]))}if(v)return l=null,v+""||null}function u(){return CA().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Gt(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Gt(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Gt(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:Gt(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Gt(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Gt(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Gt(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class AA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WJ(e){return new AA(e,!0)}function VJ(e){return new AA(e,!1)}const X1={draw(e,t){const r=Ya(t/ap);e.moveTo(r,0),e.arc(0,0,r,0,y0)}},HJ={draw(e,t){const r=Ya(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},TA=Ya(1/3),KJ=TA*2,GJ={draw(e,t){const r=Ya(t/KJ),n=r*TA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YJ={draw(e,t){const r=Ya(t),n=-r/2;e.rect(n,n,r,r)}},XJ=.8908130915292852,DA=np(ap/10)/np(7*ap/10),QJ=np(y0/10)*DA,JJ=-kA(y0/10)*DA,ZJ={draw(e,t){const r=Ya(t*XJ),n=QJ*r,s=JJ*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=y0*i/5,l=kA(o),c=np(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},ry=Ya(3),eZ={draw(e,t){const r=-Ya(t/(ry*3));e.moveTo(0,r*2),e.lineTo(-ry*r,-r),e.lineTo(ry*r,-r),e.closePath()}},ta=-.5,ra=Ya(3)/2,vb=1/Ya(12),tZ=(vb/2+1)*3,rZ={draw(e,t){const r=Ya(t/tZ),n=r/2,s=r*vb,i=n,o=r*vb+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ta*n-ra*s,ra*n+ta*s),e.lineTo(ta*i-ra*o,ra*i+ta*o),e.lineTo(ta*l-ra*c,ra*l+ta*c),e.lineTo(ta*n+ra*s,ta*s-ra*n),e.lineTo(ta*i+ra*o,ta*o-ra*i),e.lineTo(ta*l+ra*c,ta*c-ra*l),e.closePath()}};function nZ(e,t){let r=null,n=G1(s);e=typeof e=="function"?e:Gt(e||X1),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function sp(){}function ip(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function MA(e){this._context=e}MA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ip(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aZ(e){return new MA(e)}function zA(e){this._context=e}zA.prototype={areaStart:sp,areaEnd:sp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sZ(e){return new zA(e)}function IA(e){this._context=e}IA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iZ(e){return new IA(e)}function RA(e){this._context=e}RA.prototype={areaStart:sp,areaEnd:sp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oZ(e){return new RA(e)}function Ik(e){return e<0?-1:1}function Rk(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Ik(i)+Ik(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Lk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ny(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function op(e){this._context=e}op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ny(this,this._t0,Lk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ny(this,Lk(this,r=Rk(this,e,t)),r);break;default:ny(this,this._t0,r=Rk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function LA(e){this._context=new $A(e)}(LA.prototype=Object.create(op.prototype)).point=function(e,t){op.prototype.point.call(this,t,e)};function $A(e){this._context=e}$A.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function lZ(e){return new op(e)}function cZ(e){return new LA(e)}function FA(e){this._context=e}FA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$k(e),s=$k(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $k(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function dZ(e){return new FA(e)}function b0(e,t){this._context=e,this._t=t}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uZ(e){return new b0(e,.5)}function hZ(e){return new b0(e,0)}function fZ(e){return new b0(e,1)}function Ec(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function bb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mZ(e,t){return e[t]}function pZ(e){const t=[];return t.key=e,t}function gZ(){var e=Gt([]),t=bb,r=Ec,n=mZ;function s(i){var o=Array.from(e.apply(this,arguments),pZ),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=Y1(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?bb:typeof i=="function"?i:Gt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ec,s):r},s}function xZ(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Ec(e,t)}}function yZ(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ec(e,t)}}function vZ(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[n][1]||0,f=u[n-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var p=e[t[g]],x=p[n][1]||0,y=p[n-1][1]||0;m+=x-y}c+=h,d+=m*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,Ec(e,t)}}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}var bZ=["type","size","sizeType"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){wZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wZ(e,t,r){return t=jZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZ(e){var t=_Z(e,"string");return Ju(t)=="symbol"?t:t+""}function _Z(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NZ(e,t){if(e==null)return{};var r=kZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qA={symbolCircle:X1,symbolCross:HJ,symbolDiamond:GJ,symbolSquare:YJ,symbolStar:ZJ,symbolTriangle:eZ,symbolWye:rZ},SZ=Math.PI/180,OZ=function(e){var t="symbol".concat(x0(e));return qA[t]||X1},PZ=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*SZ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EZ=function(e,t){qA["symbol".concat(x0(e))]=t},Q1=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,s=n===void 0?64:n,i=e.sizeType,o=i===void 0?"area":i,l=NZ(e,bZ),c=qk(qk({},l),{},{type:r,size:s,sizeType:o}),d=function(){var g=OZ(r),p=nZ().type(g).size(PZ(s,o,r));return p()},u=c.className,h=c.cx,f=c.cy,m=Be(c,!0);return h===+h&&f===+f&&s===+s?z.createElement("path",wb({},m,{className:Ze("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:d()})):null};Q1.registerSymbol=EZ;function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(this,arguments)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){Zu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UA(n.key),n)}}function DZ(e,t,r){return t&&TZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MZ(e,t,r){return t=lp(t),zZ(e,BA()?Reflect.construct(t,r||[],lp(e).constructor):t.apply(e,r))}function zZ(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IZ(e)}function IZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BA=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lp(e)}function RZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_b(e,t)}function _b(e,t){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_b(e,t)}function Zu(e,t,r){return t=UA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UA(e){var t=LZ(e,"string");return Cc(t)=="symbol"?t:t+""}function LZ(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var na=32,J1=function(e){function t(){return AZ(this,t),MZ(this,t,arguments)}return RZ(t,e),DZ(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,s=na/2,i=na/6,o=na/3,l=r.inactive?n:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:na,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(na,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(na/8,"h").concat(na,"v").concat(na*3/4,"h").concat(-na,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=CZ({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(Q1,{fill:l,cx:s,cy:s,size:na,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,s=n.payload,i=n.iconSize,o=n.layout,l=n.formatter,c=n.inactiveColor,d={x:0,y:0,width:na,height:na},u={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,m){var g=f.formatter||l,p=Ze(Zu(Zu({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var x=He(f.value)?null:f.value;La(!He(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=f.inactive?c:f.color;return z.createElement("li",jb({className:p,style:u,key:"legend-item-".concat(m)},Jo(r.props,f,m)),z.createElement(fb,{width:i,height:i,viewBox:d,style:h},r.renderIcon(f)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,f,m):x))})}},{key:"render",value:function(){var r=this.props,n=r.payload,s=r.layout,i=r.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(b.PureComponent);Zu(J1,"displayName","Legend");Zu(J1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $Z=a0;function FZ(){this.__data__=new $Z,this.size=0}var qZ=FZ;function BZ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var UZ=BZ;function WZ(e){return this.__data__.get(e)}var VZ=WZ;function HZ(e){return this.__data__.has(e)}var KZ=HZ,GZ=a0,YZ=$1,XZ=F1,QZ=200;function JZ(e,t){var r=this.__data__;if(r instanceof GZ){var n=r.__data__;if(!YZ||n.length<QZ-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new XZ(n)}return r.set(e,t),this.size=r.size,this}var ZZ=JZ,eee=a0,tee=qZ,ree=UZ,nee=VZ,aee=KZ,see=ZZ;function wd(e){var t=this.__data__=new eee(e);this.size=t.size}wd.prototype.clear=tee;wd.prototype.delete=ree;wd.prototype.get=nee;wd.prototype.has=aee;wd.prototype.set=see;var WA=wd,iee="__lodash_hash_undefined__";function oee(e){return this.__data__.set(e,iee),this}var lee=oee;function cee(e){return this.__data__.has(e)}var dee=cee,uee=F1,hee=lee,fee=dee;function cp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new uee;++t<r;)this.add(e[t])}cp.prototype.add=cp.prototype.push=hee;cp.prototype.has=fee;var VA=cp;function mee(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var HA=mee;function pee(e,t){return e.has(t)}var KA=pee,gee=VA,xee=HA,yee=KA,vee=1,bee=2;function wee(e,t,r,n,s,i){var o=r&vee,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,f=!0,m=r&bee?new gee:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],p=t[h];if(n)var x=o?n(p,g,h,t,e,i):n(g,p,h,e,t,i);if(x!==void 0){if(x)continue;f=!1;break}if(m){if(!xee(t,function(y,v){if(!yee(m,v)&&(g===y||s(g,y,r,n,i)))return m.push(v)})){f=!1;break}}else if(!(g===p||s(g,p,r,n,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var GA=wee,jee=ws,_ee=jee.Uint8Array,Nee=_ee;function kee(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var See=kee;function Oee(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Z1=Oee,Uk=Gh,Wk=Nee,Pee=L1,Eee=GA,Cee=See,Aee=Z1,Tee=1,Dee=2,Mee="[object Boolean]",zee="[object Date]",Iee="[object Error]",Ree="[object Map]",Lee="[object Number]",$ee="[object RegExp]",Fee="[object Set]",qee="[object String]",Bee="[object Symbol]",Uee="[object ArrayBuffer]",Wee="[object DataView]",Vk=Uk?Uk.prototype:void 0,ay=Vk?Vk.valueOf:void 0;function Vee(e,t,r,n,s,i,o){switch(r){case Wee:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Uee:return!(e.byteLength!=t.byteLength||!i(new Wk(e),new Wk(t)));case Mee:case zee:case Lee:return Pee(+e,+t);case Iee:return e.name==t.name&&e.message==t.message;case $ee:case qee:return e==t+"";case Ree:var l=Cee;case Fee:var c=n&Tee;if(l||(l=Aee),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=Dee,o.set(e,t);var u=Eee(l(e),l(t),n,s,i,o);return o.delete(e),u;case Bee:if(ay)return ay.call(e)==ay.call(t)}return!1}var Hee=Vee;function Kee(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var YA=Kee,Gee=YA,Yee=An;function Xee(e,t,r){var n=t(e);return Yee(e)?n:Gee(n,r(e))}var Qee=Xee;function Jee(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var Zee=Jee;function ete(){return[]}var tte=ete,rte=Zee,nte=tte,ate=Object.prototype,ste=ate.propertyIsEnumerable,Hk=Object.getOwnPropertySymbols,ite=Hk?function(e){return e==null?[]:(e=Object(e),rte(Hk(e),function(t){return ste.call(e,t)}))}:nte,ote=ite;function lte(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cte=lte,dte=ni,ute=ai,hte="[object Arguments]";function fte(e){return ute(e)&&dte(e)==hte}var mte=fte,Kk=mte,pte=ai,XA=Object.prototype,gte=XA.hasOwnProperty,xte=XA.propertyIsEnumerable,yte=Kk(function(){return arguments}())?Kk:function(e){return pte(e)&&gte.call(e,"callee")&&!xte.call(e,"callee")},e_=yte,dp={exports:{}};function vte(){return!1}var bte=vte;dp.exports;(function(e,t){var r=ws,n=bte,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(dp,dp.exports);var QA=dp.exports,wte=9007199254740991,jte=/^(?:0|[1-9]\d*)$/;function _te(e,t){var r=typeof e;return t=t??wte,!!t&&(r=="number"||r!="symbol"&&jte.test(e))&&e>-1&&e%1==0&&e<t}var t_=_te,Nte=9007199254740991;function kte(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nte}var r_=kte,Ste=ni,Ote=r_,Pte=ai,Ete="[object Arguments]",Cte="[object Array]",Ate="[object Boolean]",Tte="[object Date]",Dte="[object Error]",Mte="[object Function]",zte="[object Map]",Ite="[object Number]",Rte="[object Object]",Lte="[object RegExp]",$te="[object Set]",Fte="[object String]",qte="[object WeakMap]",Bte="[object ArrayBuffer]",Ute="[object DataView]",Wte="[object Float32Array]",Vte="[object Float64Array]",Hte="[object Int8Array]",Kte="[object Int16Array]",Gte="[object Int32Array]",Yte="[object Uint8Array]",Xte="[object Uint8ClampedArray]",Qte="[object Uint16Array]",Jte="[object Uint32Array]",Kt={};Kt[Wte]=Kt[Vte]=Kt[Hte]=Kt[Kte]=Kt[Gte]=Kt[Yte]=Kt[Xte]=Kt[Qte]=Kt[Jte]=!0;Kt[Ete]=Kt[Cte]=Kt[Bte]=Kt[Ate]=Kt[Ute]=Kt[Tte]=Kt[Dte]=Kt[Mte]=Kt[zte]=Kt[Ite]=Kt[Rte]=Kt[Lte]=Kt[$te]=Kt[Fte]=Kt[qte]=!1;function Zte(e){return Pte(e)&&Ote(e.length)&&!!Kt[Ste(e)]}var ere=Zte;function tre(e){return function(t){return e(t)}}var JA=tre,up={exports:{}};up.exports;(function(e,t){var r=sA,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(up,up.exports);var rre=up.exports,nre=ere,are=JA,Gk=rre,Yk=Gk&&Gk.isTypedArray,sre=Yk?are(Yk):nre,ZA=sre,ire=cte,ore=e_,lre=An,cre=QA,dre=t_,ure=ZA,hre=Object.prototype,fre=hre.hasOwnProperty;function mre(e,t){var r=lre(e),n=!r&&ore(e),s=!r&&!n&&cre(e),i=!r&&!n&&!s&&ure(e),o=r||n||s||i,l=o?ire(e.length,String):[],c=l.length;for(var d in e)(t||fre.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||dre(d,c)))&&l.push(d);return l}var pre=mre,gre=Object.prototype;function xre(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gre;return e===r}var yre=xre;function vre(e,t){return function(r){return e(t(r))}}var eT=vre,bre=eT,wre=bre(Object.keys,Object),jre=wre,_re=yre,Nre=jre,kre=Object.prototype,Sre=kre.hasOwnProperty;function Ore(e){if(!_re(e))return Nre(e);var t=[];for(var r in Object(e))Sre.call(e,r)&&r!="constructor"&&t.push(r);return t}var Pre=Ore,Ere=R1,Cre=r_;function Are(e){return e!=null&&Cre(e.length)&&!Ere(e)}var Yh=Are,Tre=pre,Dre=Pre,Mre=Yh;function zre(e){return Mre(e)?Tre(e):Dre(e)}var w0=zre,Ire=Qee,Rre=ote,Lre=w0;function $re(e){return Ire(e,Lre,Rre)}var Fre=$re,Xk=Fre,qre=1,Bre=Object.prototype,Ure=Bre.hasOwnProperty;function Wre(e,t,r,n,s,i){var o=r&qre,l=Xk(e),c=l.length,d=Xk(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:Ure.call(t,f)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++h<c;){f=l[h];var y=e[f],v=t[f];if(n)var j=o?n(v,y,f,t,e,i):n(y,v,f,e,t,i);if(!(j===void 0?y===v||s(y,v,r,n,i):j)){p=!1;break}x||(x=f=="constructor")}if(p&&!x){var w=e.constructor,k=t.constructor;w!=k&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof k=="function"&&k instanceof k)&&(p=!1)}return i.delete(e),i.delete(t),p}var Vre=Wre,Hre=ll,Kre=ws,Gre=Hre(Kre,"DataView"),Yre=Gre,Xre=ll,Qre=ws,Jre=Xre(Qre,"Promise"),Zre=Jre,ene=ll,tne=ws,rne=ene(tne,"Set"),tT=rne,nne=ll,ane=ws,sne=nne(ane,"WeakMap"),ine=sne,Nb=Yre,kb=$1,Sb=Zre,Ob=tT,Pb=ine,rT=ni,jd=oA,Qk="[object Map]",one="[object Object]",Jk="[object Promise]",Zk="[object Set]",eS="[object WeakMap]",tS="[object DataView]",lne=jd(Nb),cne=jd(kb),dne=jd(Sb),une=jd(Ob),hne=jd(Pb),xo=rT;(Nb&&xo(new Nb(new ArrayBuffer(1)))!=tS||kb&&xo(new kb)!=Qk||Sb&&xo(Sb.resolve())!=Jk||Ob&&xo(new Ob)!=Zk||Pb&&xo(new Pb)!=eS)&&(xo=function(e){var t=rT(e),r=t==one?e.constructor:void 0,n=r?jd(r):"";if(n)switch(n){case lne:return tS;case cne:return Qk;case dne:return Jk;case une:return Zk;case hne:return eS}return t});var fne=xo,sy=WA,mne=GA,pne=Hee,gne=Vre,rS=fne,nS=An,aS=QA,xne=ZA,yne=1,sS="[object Arguments]",iS="[object Array]",If="[object Object]",vne=Object.prototype,oS=vne.hasOwnProperty;function bne(e,t,r,n,s,i){var o=nS(e),l=nS(t),c=o?iS:rS(e),d=l?iS:rS(t);c=c==sS?If:c,d=d==sS?If:d;var u=c==If,h=d==If,f=c==d;if(f&&aS(e)){if(!aS(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new sy),o||xne(e)?mne(e,t,r,n,s,i):pne(e,t,c,r,n,s,i);if(!(r&yne)){var m=u&&oS.call(e,"__wrapped__"),g=h&&oS.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return i||(i=new sy),s(p,x,r,n,i)}}return f?(i||(i=new sy),gne(e,t,r,n,s,i)):!1}var wne=bne,jne=wne,lS=ai;function nT(e,t,r,n,s){return e===t?!0:e==null||t==null||!lS(e)&&!lS(t)?e!==e&&t!==t:jne(e,t,r,n,nT,s)}var n_=nT,_ne=WA,Nne=n_,kne=1,Sne=2;function One(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new _ne;if(n)var f=n(d,u,c,e,t,h);if(!(f===void 0?Nne(u,d,kne|Sne,n,h):f))return!1}}return!0}var Pne=One,Ene=Qi;function Cne(e){return e===e&&!Ene(e)}var aT=Cne,Ane=aT,Tne=w0;function Dne(e){for(var t=Tne(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Ane(s)]}return t}var Mne=Dne;function zne(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sT=zne,Ine=Pne,Rne=Mne,Lne=sT;function $ne(e){var t=Rne(e);return t.length==1&&t[0][2]?Lne(t[0][0],t[0][1]):function(r){return r===e||Ine(r,e,t)}}var Fne=$ne;function qne(e,t){return e!=null&&t in Object(e)}var Bne=qne,Une=hA,Wne=e_,Vne=An,Hne=t_,Kne=r_,Gne=i0;function Yne(e,t,r){t=Une(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Gne(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&Kne(s)&&Hne(o,s)&&(Vne(e)||Wne(e)))}var Xne=Yne,Qne=Bne,Jne=Xne;function Zne(e,t){return e!=null&&Jne(e,t,Qne)}var eae=Zne,tae=n_,rae=fA,nae=eae,aae=I1,sae=aT,iae=sT,oae=i0,lae=1,cae=2;function dae(e,t){return aae(e)&&sae(t)?iae(oae(e),t):function(r){var n=rae(r,e);return n===void 0&&n===t?nae(r,e):tae(t,n,lae|cae)}}var uae=dae;function hae(e){return e}var _d=hae;function fae(e){return function(t){return t?.[e]}}var mae=fae,pae=U1;function gae(e){return function(t){return pae(t,e)}}var xae=gae,yae=mae,vae=xae,bae=I1,wae=i0;function jae(e){return bae(e)?yae(wae(e)):vae(e)}var _ae=jae,Nae=Fne,kae=uae,Sae=_d,Oae=An,Pae=_ae;function Eae(e){return typeof e=="function"?e:e==null?Sae:typeof e=="object"?Oae(e)?kae(e[0],e[1]):Nae(e):Pae(e)}var js=Eae;function Cae(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var iT=Cae;function Aae(e){return e!==e}var Tae=Aae;function Dae(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Mae=Dae,zae=iT,Iae=Tae,Rae=Mae;function Lae(e,t,r){return t===t?Rae(e,t,r):zae(e,Iae,r)}var $ae=Lae,Fae=$ae;function qae(e,t){var r=e==null?0:e.length;return!!r&&Fae(e,t,0)>-1}var Bae=qae;function Uae(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var Wae=Uae;function Vae(){}var Hae=Vae,iy=tT,Kae=Hae,Gae=Z1,Yae=1/0,Xae=iy&&1/Gae(new iy([,-0]))[1]==Yae?function(e){return new iy(e)}:Kae,Qae=Xae,Jae=VA,Zae=Bae,ese=Wae,tse=KA,rse=Qae,nse=Z1,ase=200;function sse(e,t,r){var n=-1,s=Zae,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=ese;else if(i>=ase){var d=t?null:rse(e);if(d)return nse(d);o=!1,s=tse,c=new Jae}else c=t?[]:l;e:for(;++n<i;){var u=e[n],h=t?t(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(u)}else s(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var ise=sse,ose=js,lse=ise;function cse(e,t){return e&&e.length?lse(e,ose(t)):[]}var dse=cse;const cS=kt(dse);function oT(e,t,r){return t===!0?cS(e,r):He(t)?cS(e,t):e}function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}var use=["ref"];function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cT(n.key),n)}}function fse(e,t,r){return t&&uS(e.prototype,t),r&&uS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mse(e,t,r){return t=hp(t),pse(e,lT()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function pse(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(e)}function gse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lT=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hp(e)}function xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Eb(e,t)}function j0(e,t,r){return t=cT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cT(e){var t=yse(e,"string");return Ac(t)=="symbol"?t:t+""}function yse(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vse(e,t){if(e==null)return{};var r=bse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wse(e){return e.value}function jse(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=vse(t,use);return z.createElement(J1,r)}var hS=1,Li=function(e){function t(){var r;hse(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=mse(this,t,[].concat(s)),j0(r,"lastBoundingBox",{width:-1,height:-1}),r}return xse(t,e),fse(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>hS||Math.abs(n.height-this.lastBoundingBox.height)>hS)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ps({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,s=n.layout,i=n.align,o=n.verticalAlign,l=n.margin,c=n.chartWidth,d=n.chartHeight,u,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(i==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();u={left:((c||0)-f.width)/2}}else u=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ps(Ps({},u),h)}},{key:"render",value:function(){var r=this,n=this.props,s=n.content,i=n.width,o=n.height,l=n.wrapperStyle,c=n.payloadUniqBy,d=n.payload,u=Ps(Ps({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(h){r.wrapperNode=h}},jse(s,Ps(Ps({},this.props),{},{payload:oT(d,c,wse)})))}}],[{key:"getWithHeight",value:function(r,n){var s=Ps(Ps({},this.defaultProps),r.props),i=s.layout;return i==="vertical"&&ye(r.props.height)?{height:r.props.height}:i==="horizontal"?{width:r.props.width||n}:null}}])}(b.PureComponent);j0(Li,"displayName","Legend");j0(Li,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fS=Gh,_se=e_,Nse=An,mS=fS?fS.isConcatSpreadable:void 0;function kse(e){return Nse(e)||_se(e)||!!(mS&&e&&e[mS])}var Sse=kse,Ose=YA,Pse=Sse;function dT(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Pse),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?dT(l,t-1,r,n,s):Ose(s,l):n||(s[s.length]=l)}return s}var uT=dT;function Ese(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Cse=Ese,Ase=Cse,Tse=Ase(),Dse=Tse,Mse=Dse,zse=w0;function Ise(e,t){return e&&Mse(e,t,zse)}var hT=Ise,Rse=Yh;function Lse(e,t){return function(r,n){if(r==null)return r;if(!Rse(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var $se=Lse,Fse=hT,qse=$se,Bse=qse(Fse),a_=Bse,Use=a_,Wse=Yh;function Vse(e,t){var r=-1,n=Wse(e)?Array(e.length):[];return Use(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var fT=Vse;function Hse(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Kse=Hse,pS=pd;function Gse(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=pS(e),o=t!==void 0,l=t===null,c=t===t,d=pS(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!d&&e<t||d&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Yse=Gse,Xse=Yse;function Qse(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Xse(s[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Jse=Qse,oy=B1,Zse=U1,eie=js,tie=fT,rie=Kse,nie=JA,aie=Jse,sie=_d,iie=An;function oie(e,t,r){t.length?t=oy(t,function(i){return iie(i)?function(o){return Zse(o,i.length===1?i[0]:i)}:i}):t=[sie];var n=-1;t=oy(t,nie(eie));var s=tie(e,function(i,o,l){var c=oy(t,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return rie(s,function(i,o){return aie(i,o,r)})}var lie=oie;function cie(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var die=cie,uie=die,gS=Math.max;function hie(e,t,r){return t=gS(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=gS(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),uie(e,this,l)}}var fie=hie;function mie(e){return function(){return e}}var pie=mie,gie=ll,xie=function(){try{var e=gie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mT=xie,yie=pie,xS=mT,vie=_d,bie=xS?function(e,t){return xS(e,"toString",{configurable:!0,enumerable:!1,value:yie(t),writable:!0})}:vie,wie=bie,jie=800,_ie=16,Nie=Date.now;function kie(e){var t=0,r=0;return function(){var n=Nie(),s=_ie-(n-r);if(r=n,s>0){if(++t>=jie)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sie=kie,Oie=wie,Pie=Sie,Eie=Pie(Oie),Cie=Eie,Aie=_d,Tie=fie,Die=Cie;function Mie(e,t){return Die(Tie(e,t,Aie),e+"")}var zie=Mie,Iie=L1,Rie=Yh,Lie=t_,$ie=Qi;function Fie(e,t,r){if(!$ie(r))return!1;var n=typeof t;return(n=="number"?Rie(r)&&Lie(t,r.length):n=="string"&&t in r)?Iie(r[t],e):!1}var _0=Fie,qie=uT,Bie=lie,Uie=zie,yS=_0,Wie=Uie(function(e,t){if(e==null)return[];var r=t.length;return r>1&&yS(e,t[0],t[1])?t=[]:r>2&&yS(t[0],t[1],t[2])&&(t=[t[0]]),Bie(e,qie(t,1),[])}),Vie=Wie;const s_=kt(Vie);function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function Hie(e,t){return Xie(e)||Yie(e,t)||Gie(e,t)||Kie()}function Kie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gie(e,t){if(e){if(typeof e=="string")return vS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vS(e,t)}}function vS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Xie(e){if(Array.isArray(e))return e}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){Qie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qie(e,t,r){return t=Jie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jie(e){var t=Zie(e,"string");return eh(t)=="symbol"?t:t+""}function Zie(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eoe(e){return Array.isArray(e)&&Cr(e[0])&&Cr(e[1])?e.join(" ~ "):e}var toe=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,s=n===void 0?{}:n,i=e.itemStyle,o=i===void 0?{}:i,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,u=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,g=e.label,p=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,v=function(){if(d&&d.length){var $={padding:0,margin:0},T=(h?s_(d,h):d).map(function(I,D){if(I.type==="none")return null;var E=ly({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},o),q=I.formatter||u||eoe,F=I.value,V=I.name,L=F,G=V;if(q&&L!=null&&G!=null){var ee=q(F,V,I,D,d);if(Array.isArray(ee)){var ne=Hie(ee,2);L=ne[0],G=ne[1]}else L=ee}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:E},Cr(G)?z.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Cr(G)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},L),z.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:$},T)}return null},j=ly({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=ly({margin:0},c),k=!et(g),N=k?g:"",S=Ze("recharts-default-tooltip",f),O=Ze("recharts-tooltip-label",m);k&&p&&d!==void 0&&d!==null&&(N=p(g,d));var P=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Cb({className:S,style:j},P),z.createElement("p",{className:O,style:w},z.isValidElement(N)?N:"".concat(N)),v())};function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function Rf(e,t,r){return t=roe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function roe(e){var t=noe(e,"string");return th(t)=="symbol"?t:t+""}function noe(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd="recharts-tooltip-wrapper",aoe={visibility:"hidden"};function soe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ze(Wd,Rf(Rf(Rf(Rf({},"".concat(Wd,"-right"),ye(r)&&t&&ye(t.x)&&r>=t.x),"".concat(Wd,"-left"),ye(r)&&t&&ye(t.x)&&r<t.x),"".concat(Wd,"-bottom"),ye(n)&&t&&ye(t.y)&&n>=t.y),"".concat(Wd,"-top"),ye(n)&&t&&ye(t.y)&&n<t.y))}function wS(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&ye(i[n]))return i[n];var u=r[n]-l-s,h=r[n]+s;if(t[n])return o[n]?u:h;if(o[n]){var f=u,m=c[n];return f<m?Math.max(h,c[n]):Math.max(u,c[n])}var g=h+l,p=c[n]+d;return g>p?Math.max(u,c[n]):Math.max(h,c[n])}function ioe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ooe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=wS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=wS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=ioe({translateX:u,translateY:h,useTranslate3d:l})):d=aoe,{cssProperties:d,cssClasses:soe({translateX:u,translateY:h,coordinate:r})}}function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){Tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function loe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function coe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gT(n.key),n)}}function doe(e,t,r){return t&&coe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uoe(e,t,r){return t=fp(t),hoe(e,pT()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function hoe(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(e)}function foe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pT=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fp(e)}function moe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ab(e,t)}function Tb(e,t,r){return t=gT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gT(e){var t=poe(e,"string");return Tc(t)=="symbol"?t:t+""}function poe(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NS=1,goe=function(e){function t(){var r;loe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=uoe(this,t,[].concat(s)),Tb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Tb(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return moe(t,e),doe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>NS||Math.abs(r.height-this.state.lastBoundingBox.height)>NS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,s=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,l=n.animationEasing,c=n.children,d=n.coordinate,u=n.hasPayload,h=n.isAnimationActive,f=n.offset,m=n.position,g=n.reverseDirection,p=n.useTranslate3d,x=n.viewBox,y=n.wrapperStyle,v=ooe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:x}),j=v.cssClasses,w=v.cssProperties,k=_S(_S({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&u?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:j,style:k,ref:function(N){r.wrapperNode=N}},c)}}])}(b.PureComponent),xoe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ji={isSsr:xoe()};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function voe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yT(n.key),n)}}function boe(e,t,r){return t&&voe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function woe(e,t,r){return t=mp(t),joe(e,xT()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function joe(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _oe(e)}function _oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xT=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mp(e)}function Noe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Db(e,t)}function i_(e,t,r){return t=yT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yT(e){var t=koe(e,"string");return Dc(t)=="symbol"?t:t+""}function koe(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Soe(e){return e.dataKey}function Ooe(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(toe,t)}var an=function(e){function t(){return yoe(this,t),woe(this,t,arguments)}return Noe(t,e),boe(t,[{key:"render",value:function(){var r=this,n=this.props,s=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,l=n.animationEasing,c=n.content,d=n.coordinate,u=n.filterNull,h=n.isAnimationActive,f=n.offset,m=n.payload,g=n.payloadUniqBy,p=n.position,x=n.reverseDirection,y=n.useTranslate3d,v=n.viewBox,j=n.wrapperStyle,w=m??[];u&&w.length&&(w=oT(m.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),g,Soe));var k=w.length>0;return z.createElement(goe,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:d,hasPayload:k,offset:f,position:p,reverseDirection:x,useTranslate3d:y,viewBox:v,wrapperStyle:j},Ooe(c,SS(SS({},this.props),{},{payload:w})))}}])}(b.PureComponent);i_(an,"displayName","Tooltip");i_(an,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ji.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Poe=ws,Eoe=function(){return Poe.Date.now()},Coe=Eoe,Aoe=/\s/;function Toe(e){for(var t=e.length;t--&&Aoe.test(e.charAt(t)););return t}var Doe=Toe,Moe=Doe,zoe=/^\s+/;function Ioe(e){return e&&e.slice(0,Moe(e)+1).replace(zoe,"")}var Roe=Ioe,Loe=Roe,OS=Qi,$oe=pd,PS=NaN,Foe=/^[-+]0x[0-9a-f]+$/i,qoe=/^0b[01]+$/i,Boe=/^0o[0-7]+$/i,Uoe=parseInt;function Woe(e){if(typeof e=="number")return e;if($oe(e))return PS;if(OS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=OS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Loe(e);var r=qoe.test(e);return r||Boe.test(e)?Uoe(e.slice(2),r?2:8):Foe.test(e)?PS:+e}var vT=Woe,Voe=Qi,cy=Coe,ES=vT,Hoe="Expected a function",Koe=Math.max,Goe=Math.min;function Yoe(e,t,r){var n,s,i,o,l,c,d=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(Hoe);t=ES(t)||0,Voe(r)&&(u=!!r.leading,h="maxWait"in r,i=h?Koe(ES(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function m(N){var S=n,O=s;return n=s=void 0,d=N,o=e.apply(O,S),o}function g(N){return d=N,l=setTimeout(y,t),u?m(N):o}function p(N){var S=N-c,O=N-d,P=t-S;return h?Goe(P,i-O):P}function x(N){var S=N-c,O=N-d;return c===void 0||S>=t||S<0||h&&O>=i}function y(){var N=cy();if(x(N))return v(N);l=setTimeout(y,p(N))}function v(N){return l=void 0,f&&n?m(N):(n=s=void 0,o)}function j(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function w(){return l===void 0?o:v(cy())}function k(){var N=cy(),S=x(N);if(n=arguments,s=this,c=N,S){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return k.cancel=j,k.flush=w,k}var Xoe=Yoe,Qoe=Xoe,Joe=Qi,Zoe="Expected a function";function ele(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(Zoe);return Joe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Qoe(e,t,{leading:n,maxWait:t,trailing:s})}var tle=ele;const bT=kt(tle);function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){rle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rle(e,t,r){return t=nle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nle(e){var t=ale(e,"string");return rh(t)=="symbol"?t:t+""}function ale(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sle(e,t){return cle(e)||lle(e,t)||ole(e,t)||ile()}function ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ole(e,t){if(e){if(typeof e=="string")return AS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AS(e,t)}}function AS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function cle(e){if(Array.isArray(e))return e}var Ml=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,f=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,y=e.className,v=e.onResize,j=e.style,w=j===void 0?{}:j,k=b.useRef(null),N=b.useRef();N.current=v,b.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var S=b.useState({containerWidth:s.width,containerHeight:s.height}),O=sle(S,2),P=O[0],$=O[1],T=b.useCallback(function(D,E){$(function(q){var F=Math.round(D),V=Math.round(E);return q.containerWidth===F&&q.containerHeight===V?q:{containerWidth:F,containerHeight:V}})},[]);b.useEffect(function(){var D=function(L){var G,ee=L[0].contentRect,ne=ee.width,R=ee.height;T(ne,R),(G=N.current)===null||G===void 0||G.call(N,ne,R)};p>0&&(D=bT(D,p,{trailing:!0,leading:!1}));var E=new ResizeObserver(D),q=k.current.getBoundingClientRect(),F=q.width,V=q.height;return T(F,V),E.observe(k.current),function(){E.disconnect()}},[T,p]);var I=b.useMemo(function(){var D=P.containerWidth,E=P.containerHeight;if(D<0||E<0)return null;La(ko(o)||ko(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),La(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=ko(o)?D:o,F=ko(c)?E:c;r&&r>0&&(q?F=q/r:F&&(q=F*r),f&&F>f&&(F=f)),La(q>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,F,o,c,u,h,r);var V=!Array.isArray(m)&&Bs(m.type).endsWith("Chart");return z.Children.map(m,function(L){return z.isValidElement(L)?b.cloneElement(L,Lf({width:q,height:F},V?{style:Lf({height:"100%",width:"100%",maxHeight:F,maxWidth:q},L.props.style)}:{})):L})},[r,m,c,f,h,u,P,o]);return z.createElement("div",{id:x?"".concat(x):void 0,className:Ze("recharts-responsive-container",y),style:Lf(Lf({},w),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:k},I)}),Xh=function(e){return null};Xh.displayName="Cell";function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){dle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dle(e,t,r){return t=ule(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ule(e){var t=hle(e,"string");return nh(t)=="symbol"?t:t+""}function hle(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kl={widthCache:{},cacheCount:0},fle=2e3,mle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DS="recharts_measurement_span";function ple(e){var t=Mb({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ju=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ji.isSsr)return{width:0,height:0};var r=ple(t),n=JSON.stringify({text:e,copyStyle:r});if(kl.widthCache[n])return kl.widthCache[n];try{var s=document.getElementById(DS);s||(s=document.createElement("span"),s.setAttribute("id",DS),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=Mb(Mb({},mle),r);Object.assign(s.style,i),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return kl.widthCache[n]=l,++kl.cacheCount>fle&&(kl.cacheCount=0,kl.widthCache={}),l}catch{return{width:0,height:0}}},gle=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function pp(e,t){return ble(e)||vle(e,t)||yle(e,t)||xle()}function xle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(e,t){if(e){if(typeof e=="string")return MS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(e,t)}}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ble(e){if(Array.isArray(e))return e}function wle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_le(n.key),n)}}function jle(e,t,r){return t&&zS(e.prototype,t),r&&zS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _le(e){var t=Nle(e,"string");return ah(t)=="symbol"?t:t+""}function Nle(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ole=Object.keys(wT),Gl="NaN";function Ple(e,t){return e*wT[t]}var $f=function(){function e(t,r){wle(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!kle.test(r)&&(this.num=NaN,this.unit=""),Ole.includes(r)&&(this.num=Ple(t,r),this.unit="px")}return jle(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=Sle.exec(t))!==null&&r!==void 0?r:[],s=pp(n,3),i=s[1],o=s[2];return new e(parseFloat(i),o??"")}}])}();function jT(e){if(e.includes(Gl))return Gl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=IS.exec(t))!==null&&r!==void 0?r:[],s=pp(n,4),i=s[1],o=s[2],l=s[3],c=$f.parse(i??""),d=$f.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Gl;t=t.replace(IS,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=RS.exec(t))!==null&&h!==void 0?h:[],m=pp(f,4),g=m[1],p=m[2],x=m[3],y=$f.parse(g??""),v=$f.parse(x??""),j=p==="+"?y.add(v):y.subtract(v);if(j.isNaN())return Gl;t=t.replace(RS,j.toString())}return t}var LS=/\(([^()]*)\)/;function Ele(e){for(var t=e;t.includes("(");){var r=LS.exec(t),n=pp(r,2),s=n[1];t=t.replace(LS,jT(s))}return t}function Cle(e){var t=e.replace(/\s+/g,"");return t=Ele(t),t=jT(t),t}function Ale(e){try{return Cle(e)}catch{return Gl}}function dy(e){var t=Ale(e.slice(5,-1));return t===Gl?"":t}var Tle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dle=["dx","dy","angle","className","breakAll"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(this,arguments)}function $S(e,t){if(e==null)return{};var r=Mle(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FS(e,t){return Lle(e)||Rle(e,t)||Ile(e,t)||zle()}function zle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(e,t){if(e){if(typeof e=="string")return qS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(e,t)}}function qS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Lle(e){if(Array.isArray(e))return e}var _T=/[ \f\n\r\t\v\u2028\u2029]+/,NT=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var s=[];et(t)||(r?s=t.toString().split(""):s=t.toString().split(_T));var i=s.map(function(l){return{word:l,width:ju(l,n).width}}),o=r?0:ju("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},$le=function(e,t,r,n,s){var i=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=ye(i),u=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(E,q){var F=q.word,V=q.width,L=E[E.length-1];if(L&&(n==null||s||L.width+V+r<Number(n)))L.words.push(F),L.width+=V+r;else{var G={words:[F],width:V};E.push(G)}return E},[])},f=h(t),m=function(D){return D.reduce(function(E,q){return E.width>q.width?E:q})};if(!d)return f;for(var g="",p=function(D){var E=u.slice(0,D),q=NT({breakAll:c,style:l,children:E+g}).wordsWithComputedWidth,F=h(q),V=F.length>i||m(F).width>Number(n);return[V,F]},x=0,y=u.length-1,v=0,j;x<=y&&v<=u.length-1;){var w=Math.floor((x+y)/2),k=w-1,N=p(k),S=FS(N,2),O=S[0],P=S[1],$=p(w),T=FS($,1),I=T[0];if(!O&&!I&&(x=w+1),O&&I&&(y=w-1),!O&&I){j=P;break}v++}return j||f},BS=function(e){var t=et(e)?[]:e.toString().split(_T);return[{words:t}]},Fle=function(e){var t=e.width,r=e.scaleToFit,n=e.children,s=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!Ji.isSsr){var l,c,d=NT({breakAll:i,children:n,style:s});if(d){var u=d.wordsWithComputedWidth,h=d.spaceWidth;l=u,c=h}else return BS(n);return $le({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return BS(n)},US="#808080",Zo=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,s=n===void 0?0:n,i=e.lineHeight,o=i===void 0?"1em":i,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,u=d===void 0?!1:d,h=e.textAnchor,f=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,p=e.fill,x=p===void 0?US:p,y=$S(e,Tle),v=b.useMemo(function(){return Fle({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),j=y.dx,w=y.dy,k=y.angle,N=y.className,S=y.breakAll,O=$S(y,Dle);if(!Cr(r)||!Cr(s))return null;var P=r+(ye(j)?j:0),$=s+(ye(w)?w:0),T;switch(g){case"start":T=dy("calc(".concat(c,")"));break;case"middle":T=dy("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:T=dy("calc(".concat(v.length-1," * -").concat(o,")"));break}var I=[];if(u){var D=v[0].width,E=y.width;I.push("scale(".concat((ye(E)?E/D:1)/D,")"))}return k&&I.push("rotate(".concat(k,", ").concat(P,", ").concat($,")")),I.length&&(O.transform=I.join(" ")),z.createElement("text",zb({},Be(O,!0),{x:P,y:$,className:Ze("recharts-text",N),textAnchor:f,fill:x.includes("url")?US:x}),v.map(function(q,F){var V=q.words.join(S?"":" ");return z.createElement("tspan",{x:P,dy:F===0?T:o,key:"".concat(V,"-").concat(F)},V)}))};function $i(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qle(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o_(e){let t,r,n;e.length!==2?(t=$i,r=(l,c)=>$i(e(l),c),n=(l,c)=>e(l)-c):(t=e===$i||e===qle?e:Ble,r=e,n=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=s(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function Ble(){return 0}function kT(e){return e===null?NaN:+e}function*Ule(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Wle=o_($i),Qh=Wle.right;o_(kT).center;class WS extends Map{constructor(t,r=Kle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(VS(this,t))}has(t){return super.has(VS(this,t))}set(t,r){return super.set(Vle(this,t),r)}delete(t){return super.delete(Hle(this,t))}}function VS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Vle({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Hle({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Kle(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Gle(e=$i){if(e===$i)return ST;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ST(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Yle=Math.sqrt(50),Xle=Math.sqrt(10),Qle=Math.sqrt(2);function gp(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Yle?10:i>=Xle?5:i>=Qle?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?gp(e,t,r*2):[l,c,d]}function Ib(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?gp(t,e,r):gp(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function Rb(e,t,r){return t=+t,e=+e,r=+r,gp(e,t,r)[2]}function Lb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Rb(t,e,r):Rb(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function HS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OT(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?ST:Gle(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*h/c+f)),g=Math.min(n,Math.floor(t+(c-d)*h/c+f));OT(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(Vd(e,r,t),s(e[n],i)>0&&Vd(e,r,n);o<l;){for(Vd(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Vd(e,r,l):(++l,Vd(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Vd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Jle(e,t,r){if(e=Float64Array.from(Ule(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return KS(e);if(t>=1)return HS(e);var n,s=(n-1)*t,i=Math.floor(s),o=HS(OT(e,i).subarray(0,i+1)),l=KS(e.subarray(i+1));return o+(l-o)*(s-i)}}function Zle(e,t,r=kT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function ece(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $b=Symbol("implicit");function l_(){var e=new WS,t=[],r=[],n=$b;function s(i){let o=e.get(i);if(o===void 0){if(n!==$b)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new WS;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return l_(t,r).unknown(n)},va.apply(s,arguments),s}function sh(){var e=l_().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var f=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),g+=(p-g-i*(f-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=ece(f).map(function(y){return g+i*y});return r(m?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,h()):[n,s]},e.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},e.copy=function(){return sh(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},va.apply(h(),arguments)}function PT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return PT(t())},e}function _u(){return PT(sh.apply(null,arguments).paddingInner(1))}function c_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ET(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jh(){}var ih=.7,xp=1/ih,fc="\\s*([+-]?\\d+)\\s*",oh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tce=/^#([0-9a-f]{3,8})$/,rce=new RegExp(`^rgb\\(${fc},${fc},${fc}\\)$`),nce=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),ace=new RegExp(`^rgba\\(${fc},${fc},${fc},${oh}\\)$`),sce=new RegExp(`^rgba\\(${fs},${fs},${fs},${oh}\\)$`),ice=new RegExp(`^hsl\\(${oh},${fs},${fs}\\)$`),oce=new RegExp(`^hsla\\(${oh},${fs},${fs},${oh}\\)$`),GS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c_(Jh,lh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YS,formatHex:YS,formatHex8:lce,formatHsl:cce,formatRgb:XS,toString:XS});function YS(){return this.rgb().formatHex()}function lce(){return this.rgb().formatHex8()}function cce(){return CT(this).formatHsl()}function XS(){return this.rgb().formatRgb()}function lh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tce.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?QS(t):r===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ff(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ff(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rce.exec(e))?new Sn(t[1],t[2],t[3],1):(t=nce.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ace.exec(e))?Ff(t[1],t[2],t[3],t[4]):(t=sce.exec(e))?Ff(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ice.exec(e))?e4(t[1],t[2]/100,t[3]/100,1):(t=oce.exec(e))?e4(t[1],t[2]/100,t[3]/100,t[4]):GS.hasOwnProperty(e)?QS(GS[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function QS(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function Ff(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sn(e,t,r,n)}function dce(e){return e instanceof Jh||(e=lh(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function Fb(e,t,r,n){return arguments.length===1?dce(e):new Sn(e,t,r,n??1)}function Sn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}c_(Sn,Fb,ET(Jh,{brighter(e){return e=e==null?xp:Math.pow(xp,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ih:Math.pow(ih,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(To(this.r),To(this.g),To(this.b),yp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JS,formatHex:JS,formatHex8:uce,formatRgb:ZS,toString:ZS}));function JS(){return`#${So(this.r)}${So(this.g)}${So(this.b)}`}function uce(){return`#${So(this.r)}${So(this.g)}${So(this.b)}${So((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZS(){const e=yp(this.opacity);return`${e===1?"rgb(":"rgba("}${To(this.r)}, ${To(this.g)}, ${To(this.b)}${e===1?")":`, ${e})`}`}function yp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function To(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function So(e){return e=To(e),(e<16?"0":"")+e.toString(16)}function e4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ta(e,t,r,n)}function CT(e){if(e instanceof Ta)return new Ta(e.h,e.s,e.l,e.opacity);if(e instanceof Jh||(e=lh(e)),!e)return new Ta;if(e instanceof Ta)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Ta(o,l,c,e.opacity)}function hce(e,t,r,n){return arguments.length===1?CT(e):new Ta(e,t,r,n??1)}function Ta(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}c_(Ta,hce,ET(Jh,{brighter(e){return e=e==null?xp:Math.pow(xp,e),new Ta(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ih:Math.pow(ih,e),new Ta(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Sn(uy(e>=240?e-240:e+120,s,n),uy(e,s,n),uy(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ta(t4(this.h),qf(this.s),qf(this.l),yp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yp(this.opacity);return`${e===1?"hsl(":"hsla("}${t4(this.h)}, ${qf(this.s)*100}%, ${qf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function t4(e){return e=(e||0)%360,e<0?e+360:e}function qf(e){return Math.max(0,Math.min(1,e||0))}function uy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const d_=e=>()=>e;function fce(e,t){return function(r){return e+r*t}}function mce(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pce(e){return(e=+e)==1?AT:function(t,r){return r-t?mce(t,r,e):d_(isNaN(t)?r:t)}}function AT(e,t){var r=t-e;return r?fce(e,r):d_(isNaN(e)?t:e)}const r4=function e(t){var r=pce(t);function n(s,i){var o=r((s=Fb(s)).r,(i=Fb(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=AT(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=e,n}(1);function gce(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function xce(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yce(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Nd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function vce(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bce(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Nd(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var qb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hy=new RegExp(qb.source,"g");function wce(e){return function(){return e}}function jce(e){return function(t){return e(t)+""}}function _ce(e,t){var r=qb.lastIndex=hy.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=qb.exec(e))&&(s=hy.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:vp(n,s)})),r=hy.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jce(c[0].x):wce(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Nd(e,t){var r=typeof t,n;return t==null||r==="boolean"?d_(t):(r==="number"?vp:r==="string"?(n=lh(t))?(t=n,r4):_ce:t instanceof lh?r4:t instanceof Date?vce:xce(t)?gce:Array.isArray(t)?yce:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bce:vp)(e,t)}function u_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Nce(e,t){t===void 0&&(t=e,e=Nd);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function kce(e){return function(){return e}}function bp(e){return+e}var n4=[0,1];function un(e){return e}function Bb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kce(isNaN(t)?NaN:.5)}function Sce(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Oce(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Bb(s,n),i=r(o,i)):(n=Bb(n,s),i=r(i,o)),function(l){return i(n(l))}}function Pce(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Bb(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Qh(e,l,1,n)-1;return i[c](s[c](l))}}function Zh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function N0(){var e=n4,t=n4,r=Nd,n,s,i,o=un,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==un&&(o=Sce(e[0],e[f-1])),l=f>2?Pce:Oce,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return h.invert=function(f){return o(s((d||(d=l(t,e.map(n),vp)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,bp),u()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=u_,u()},h.clamp=function(f){return arguments.length?(o=f?!0:un,u()):o!==un},h.interpolate=function(f){return arguments.length?(r=f,u()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return n=f,s=m,u()}}function h_(){return N0()(un,un)}function Ece(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Mc(e){return e=wp(Math.abs(e)),e?e[1]:NaN}function Cce(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Ace(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Tce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ch(e){if(!(t=Tce.exec(e)))throw new Error("invalid format: "+e);var t;return new f_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ch.prototype=f_.prototype;function f_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}f_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dce(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var TT;function Mce(e,t){var r=wp(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(TT=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+wp(e,Math.max(0,t+i-1))[0]}function a4(e,t){var r=wp(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const s4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ece,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a4(e*100,t),r:a4,s:Mce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function i4(e){return e}var o4=Array.prototype.map,l4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zce(e){var t=e.grouping===void 0||e.thousands===void 0?i4:Cce(o4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?i4:Ace(o4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=ch(h);var f=h.fill,m=h.align,g=h.sign,p=h.symbol,x=h.zero,y=h.width,v=h.comma,j=h.precision,w=h.trim,k=h.type;k==="n"?(v=!0,k="g"):s4[k]||(j===void 0&&(j=12),w=!0,k="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=p==="$"?n:/[%p]/.test(k)?o:"",O=s4[k],P=/[defgprs%]/.test(k);j=j===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function $(T){var I=N,D=S,E,q,F;if(k==="c")D=O(T)+D,T="";else{T=+T;var V=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),j),w&&(T=Dce(T)),V&&+T==0&&g!=="+"&&(V=!1),I=(V?g==="("?g:l:g==="-"||g==="("?"":g)+I,D=(k==="s"?l4[8+TT/3]:"")+D+(V&&g==="("?")":""),P){for(E=-1,q=T.length;++E<q;)if(F=T.charCodeAt(E),48>F||F>57){D=(F===46?s+T.slice(E+1):T.slice(E))+D,T=T.slice(0,E);break}}}v&&!x&&(T=t(T,1/0));var L=I.length+T.length+D.length,G=L<y?new Array(y-L+1).join(f):"";switch(v&&x&&(T=t(G+T,G.length?y-D.length:1/0),G=""),m){case"<":T=I+T+D+G;break;case"=":T=I+G+T+D;break;case"^":T=G.slice(0,L=G.length>>1)+I+T+D+G.slice(L);break;default:T=G+I+T+D;break}return i(T)}return $.toString=function(){return h+""},$}function u(h,f){var m=d((h=ch(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Mc(f)/3)))*3,p=Math.pow(10,-g),x=l4[8+g/3];return function(y){return m(p*y)+x}}return{format:d,formatPrefix:u}}var Bf,m_,DT;Ice({thousands:",",grouping:[3],currency:["$",""]});function Ice(e){return Bf=zce(e),m_=Bf.format,DT=Bf.formatPrefix,Bf}function Rce(e){return Math.max(0,-Mc(Math.abs(e)))}function Lce(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mc(t)/3)))*3-Mc(Math.abs(e)))}function $ce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mc(t)-Mc(e))+1}function MT(e,t,r,n){var s=Lb(e,t,r),i;switch(n=ch(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Lce(s,o))&&(n.precision=i),DT(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=$ce(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Rce(s))&&(n.precision=i-(n.type==="%")*2);break}}return m_(n)}function Zi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ib(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return MT(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=Rb(o,l,r),d===c)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function jp(){var e=h_();return e.copy=function(){return Zh(e,jp())},va.apply(e,arguments),Zi(e)}function zT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,bp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return zT(e).unknown(t)},e=arguments.length?Array.from(e,bp):[0,1],Zi(r)}function IT(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function c4(e){return Math.log(e)}function d4(e){return Math.exp(e)}function Fce(e){return-Math.log(-e)}function qce(e){return-Math.exp(-e)}function Bce(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Uce(e){return e===10?Bce:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Wce(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function u4(e){return(t,r)=>-e(-t,r)}function p_(e){const t=e(c4,d4),r=t.domain;let n=10,s,i;function o(){return s=Wce(n),i=Uce(n),r()[0]<0?(s=u4(s),i=u4(i),e(Fce,qce)):e(c4,d4),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=s(d),m=s(u),g,p;const x=l==null?10:+l;let y=[];if(!(n%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),d>0){for(;f<=m;++f)for(g=1;g<n;++g)if(p=f<0?g/i(-f):g*i(f),!(p<d)){if(p>u)break;y.push(p)}}else for(;f<=m;++f)for(g=n-1;g>=1;--g)if(p=f>0?g/i(-f):g*i(f),!(p<d)){if(p>u)break;y.push(p)}y.length*2<x&&(y=Ib(d,u,x))}else y=Ib(f,m,Math.min(m-f,x)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ch(c)).precision==null&&(c.trim=!0),c=m_(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let h=u/i(Math.round(s(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},t.nice=()=>r(IT(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function RT(){const e=p_(N0()).domain([1,10]);return e.copy=()=>Zh(e,RT()).base(e.base()),va.apply(e,arguments),e}function h4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function f4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function g_(e){var t=1,r=e(h4(t),f4(t));return r.constant=function(n){return arguments.length?e(h4(t=+n),f4(t)):t},Zi(r)}function LT(){var e=g_(N0());return e.copy=function(){return Zh(e,LT()).constant(e.constant())},va.apply(e,arguments)}function m4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vce(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hce(e){return e<0?-e*e:e*e}function x_(e){var t=e(un,un),r=1;function n(){return r===1?e(un,un):r===.5?e(Vce,Hce):e(m4(r),m4(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Zi(t)}function y_(){var e=x_(N0());return e.copy=function(){return Zh(e,y_()).exponent(e.exponent())},va.apply(e,arguments),e}function Kce(){return y_.apply(null,arguments).exponent(.5)}function p4(e){return Math.sign(e)*e*e}function Gce(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $T(){var e=h_(),t=[0,1],r=!1,n;function s(i){var o=Gce(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(p4(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,bp)).map(p4)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return $T(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},va.apply(s,arguments),Zi(s)}function FT(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Zle(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Qh(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($i),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return FT().domain(e).range(t).unknown(n)},va.apply(i,arguments)}function qT(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Qh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return qT().domain([e,t]).range(s).unknown(i)},va.apply(Zi(o),arguments)}function BT(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Qh(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return BT().domain(e).range(t).unknown(r)},va.apply(s,arguments)}const fy=new Date,my=new Date;function Ar(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>Ar(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(fy.setTime(+i),my.setTime(+o),e(fy),e(my),Math.floor(r(fy,my))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const _p=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_p.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_p);_p.range;const Rs=1e3,ua=Rs*60,Ls=ua*60,Js=Ls*24,v_=Js*7,g4=Js*30,py=Js*365,Oo=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCSeconds());Oo.range;const b_=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());b_.range;const w_=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());w_.range;const j_=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getHours());j_.range;const __=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getUTCHours());__.range;const ef=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/Js,e=>e.getDate()-1);ef.range;const k0=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Js,e=>e.getUTCDate()-1);k0.range;const UT=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Js,e=>Math.floor(e/Js));UT.range;function dl(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ua)/v_)}const S0=dl(0),Np=dl(1),Yce=dl(2),Xce=dl(3),zc=dl(4),Qce=dl(5),Jce=dl(6);S0.range;Np.range;Yce.range;Xce.range;zc.range;Qce.range;Jce.range;function ul(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/v_)}const O0=ul(0),kp=ul(1),Zce=ul(2),ede=ul(3),Ic=ul(4),tde=ul(5),rde=ul(6);O0.range;kp.range;Zce.range;ede.range;Ic.range;tde.range;rde.range;const N_=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());N_.range;const k_=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());k_.range;const Zs=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zs.range;const ei=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ei.range;function WT(e,t,r,n,s,i){const o=[[Oo,1,Rs],[Oo,5,5*Rs],[Oo,15,15*Rs],[Oo,30,30*Rs],[i,1,ua],[i,5,5*ua],[i,15,15*ua],[i,30,30*ua],[s,1,Ls],[s,3,3*Ls],[s,6,6*Ls],[s,12,12*Ls],[n,1,Js],[n,2,2*Js],[r,1,v_],[t,1,g4],[t,3,3*g4],[e,1,py]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const m=h&&typeof h.range=="function"?h:c(d,u,h),g=m?m.range(d,+u+1):[];return f?g.reverse():g}function c(d,u,h){const f=Math.abs(u-d)/h,m=o_(([,,x])=>x).right(o,f);if(m===o.length)return e.every(Lb(d/py,u/py,h));if(m===0)return _p.every(Math.max(Lb(d,u,h),1));const[g,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(p)}return[l,c]}const[nde,ade]=WT(ei,k_,O0,UT,__,w_),[sde,ide]=WT(Zs,N_,S0,ef,j_,b_);function gy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ode(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Kd(s),u=Gd(s),h=Kd(i),f=Gd(i),m=Kd(o),g=Gd(o),p=Kd(l),x=Gd(l),y=Kd(c),v=Gd(c),j={a:V,A:L,b:G,B:ee,c:null,d:j4,e:j4,f:Cde,g:Fde,G:Bde,H:Ode,I:Pde,j:Ede,L:VT,m:Ade,M:Tde,p:ne,q:R,Q:k4,s:S4,S:Dde,u:Mde,U:zde,V:Ide,w:Rde,W:Lde,x:null,X:null,y:$de,Y:qde,Z:Ude,"%":N4},w={a:Y,A:se,b:oe,B:K,c:null,d:_4,e:_4,f:Kde,g:nue,G:sue,H:Wde,I:Vde,j:Hde,L:KT,m:Gde,M:Yde,p:U,q:B,Q:k4,s:S4,S:Xde,u:Qde,U:Jde,V:Zde,w:eue,W:tue,x:null,X:null,y:rue,Y:aue,Z:iue,"%":N4},k={a:$,A:T,b:I,B:D,c:E,d:b4,e:b4,f:_de,g:v4,G:y4,H:w4,I:w4,j:vde,L:jde,m:yde,M:bde,p:P,q:xde,Q:kde,s:Sde,S:wde,u:hde,U:fde,V:mde,w:ude,W:pde,x:q,X:F,y:v4,Y:y4,Z:gde,"%":Nde};j.x=N(r,j),j.X=N(n,j),j.c=N(t,j),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(W,H){return function(X){var A=[],ce=-1,we=0,Ee=W.length,Se,Te,Ie;for(X instanceof Date||(X=new Date(+X));++ce<Ee;)W.charCodeAt(ce)===37&&(A.push(W.slice(we,ce)),(Te=x4[Se=W.charAt(++ce)])!=null?Se=W.charAt(++ce):Te=Se==="e"?" ":"0",(Ie=H[Se])&&(Se=Ie(X,Te)),A.push(Se),we=ce+1);return A.push(W.slice(we,ce)),A.join("")}}function S(W,H){return function(X){var A=Hd(1900,void 0,1),ce=O(A,W,X+="",0),we,Ee;if(ce!=X.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(H&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(we=xy(Hd(A.y,0,1)),Ee=we.getUTCDay(),we=Ee>4||Ee===0?kp.ceil(we):kp(we),we=k0.offset(we,(A.V-1)*7),A.y=we.getUTCFullYear(),A.m=we.getUTCMonth(),A.d=we.getUTCDate()+(A.w+6)%7):(we=gy(Hd(A.y,0,1)),Ee=we.getDay(),we=Ee>4||Ee===0?Np.ceil(we):Np(we),we=ef.offset(we,(A.V-1)*7),A.y=we.getFullYear(),A.m=we.getMonth(),A.d=we.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),Ee="Z"in A?xy(Hd(A.y,0,1)).getUTCDay():gy(Hd(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(Ee+5)%7:A.w+A.U*7-(Ee+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,xy(A)):gy(A)}}function O(W,H,X,A){for(var ce=0,we=H.length,Ee=X.length,Se,Te;ce<we;){if(A>=Ee)return-1;if(Se=H.charCodeAt(ce++),Se===37){if(Se=H.charAt(ce++),Te=k[Se in x4?H.charAt(ce++):Se],!Te||(A=Te(W,X,A))<0)return-1}else if(Se!=X.charCodeAt(A++))return-1}return A}function P(W,H,X){var A=d.exec(H.slice(X));return A?(W.p=u.get(A[0].toLowerCase()),X+A[0].length):-1}function $(W,H,X){var A=m.exec(H.slice(X));return A?(W.w=g.get(A[0].toLowerCase()),X+A[0].length):-1}function T(W,H,X){var A=h.exec(H.slice(X));return A?(W.w=f.get(A[0].toLowerCase()),X+A[0].length):-1}function I(W,H,X){var A=y.exec(H.slice(X));return A?(W.m=v.get(A[0].toLowerCase()),X+A[0].length):-1}function D(W,H,X){var A=p.exec(H.slice(X));return A?(W.m=x.get(A[0].toLowerCase()),X+A[0].length):-1}function E(W,H,X){return O(W,t,H,X)}function q(W,H,X){return O(W,r,H,X)}function F(W,H,X){return O(W,n,H,X)}function V(W){return o[W.getDay()]}function L(W){return i[W.getDay()]}function G(W){return c[W.getMonth()]}function ee(W){return l[W.getMonth()]}function ne(W){return s[+(W.getHours()>=12)]}function R(W){return 1+~~(W.getMonth()/3)}function Y(W){return o[W.getUTCDay()]}function se(W){return i[W.getUTCDay()]}function oe(W){return c[W.getUTCMonth()]}function K(W){return l[W.getUTCMonth()]}function U(W){return s[+(W.getUTCHours()>=12)]}function B(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var H=N(W+="",j);return H.toString=function(){return W},H},parse:function(W){var H=S(W+="",!1);return H.toString=function(){return W},H},utcFormat:function(W){var H=N(W+="",w);return H.toString=function(){return W},H},utcParse:function(W){var H=S(W+="",!0);return H.toString=function(){return W},H}}}var x4={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,lde=/^%/,cde=/[\\^$*+?|[\]().{}]/g;function _t(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function dde(e){return e.replace(cde,"\\$&")}function Kd(e){return new RegExp("^(?:"+e.map(dde).join("|")+")","i")}function Gd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ude(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function hde(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fde(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mde(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pde(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function y4(e,t,r){var n=Ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function v4(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xde(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yde(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function b4(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vde(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w4(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bde(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wde(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jde(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _de(e,t,r){var n=Ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Nde(e,t,r){var n=lde.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function kde(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Sde(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function j4(e,t){return _t(e.getDate(),t,2)}function Ode(e,t){return _t(e.getHours(),t,2)}function Pde(e,t){return _t(e.getHours()%12||12,t,2)}function Ede(e,t){return _t(1+ef.count(Zs(e),e),t,3)}function VT(e,t){return _t(e.getMilliseconds(),t,3)}function Cde(e,t){return VT(e,t)+"000"}function Ade(e,t){return _t(e.getMonth()+1,t,2)}function Tde(e,t){return _t(e.getMinutes(),t,2)}function Dde(e,t){return _t(e.getSeconds(),t,2)}function Mde(e){var t=e.getDay();return t===0?7:t}function zde(e,t){return _t(S0.count(Zs(e)-1,e),t,2)}function HT(e){var t=e.getDay();return t>=4||t===0?zc(e):zc.ceil(e)}function Ide(e,t){return e=HT(e),_t(zc.count(Zs(e),e)+(Zs(e).getDay()===4),t,2)}function Rde(e){return e.getDay()}function Lde(e,t){return _t(Np.count(Zs(e)-1,e),t,2)}function $de(e,t){return _t(e.getFullYear()%100,t,2)}function Fde(e,t){return e=HT(e),_t(e.getFullYear()%100,t,2)}function qde(e,t){return _t(e.getFullYear()%1e4,t,4)}function Bde(e,t){var r=e.getDay();return e=r>=4||r===0?zc(e):zc.ceil(e),_t(e.getFullYear()%1e4,t,4)}function Ude(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function _4(e,t){return _t(e.getUTCDate(),t,2)}function Wde(e,t){return _t(e.getUTCHours(),t,2)}function Vde(e,t){return _t(e.getUTCHours()%12||12,t,2)}function Hde(e,t){return _t(1+k0.count(ei(e),e),t,3)}function KT(e,t){return _t(e.getUTCMilliseconds(),t,3)}function Kde(e,t){return KT(e,t)+"000"}function Gde(e,t){return _t(e.getUTCMonth()+1,t,2)}function Yde(e,t){return _t(e.getUTCMinutes(),t,2)}function Xde(e,t){return _t(e.getUTCSeconds(),t,2)}function Qde(e){var t=e.getUTCDay();return t===0?7:t}function Jde(e,t){return _t(O0.count(ei(e)-1,e),t,2)}function GT(e){var t=e.getUTCDay();return t>=4||t===0?Ic(e):Ic.ceil(e)}function Zde(e,t){return e=GT(e),_t(Ic.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function eue(e){return e.getUTCDay()}function tue(e,t){return _t(kp.count(ei(e)-1,e),t,2)}function rue(e,t){return _t(e.getUTCFullYear()%100,t,2)}function nue(e,t){return e=GT(e),_t(e.getUTCFullYear()%100,t,2)}function aue(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function sue(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ic(e):Ic.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function iue(){return"+0000"}function N4(){return"%"}function k4(e){return+e}function S4(e){return Math.floor(+e/1e3)}var Sl,YT,XT;oue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oue(e){return Sl=ode(e),YT=Sl.format,Sl.parse,XT=Sl.utcFormat,Sl.utcParse,Sl}function lue(e){return new Date(e)}function cue(e){return e instanceof Date?+e:+new Date(+e)}function S_(e,t,r,n,s,i,o,l,c,d){var u=h_(),h=u.invert,f=u.domain,m=d(".%L"),g=d(":%S"),p=d("%I:%M"),x=d("%I %p"),y=d("%a %d"),v=d("%b %d"),j=d("%B"),w=d("%Y");function k(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:i(N)<N?x:n(N)<N?s(N)<N?y:v:r(N)<N?j:w)(N)}return u.invert=function(N){return new Date(h(N))},u.domain=function(N){return arguments.length?f(Array.from(N,cue)):f().map(lue)},u.ticks=function(N){var S=f();return e(S[0],S[S.length-1],N??10)},u.tickFormat=function(N,S){return S==null?k:d(S)},u.nice=function(N){var S=f();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?f(IT(S,N)):u},u.copy=function(){return Zh(u,S_(e,t,r,n,s,i,o,l,c,d))},u}function due(){return va.apply(S_(sde,ide,Zs,N_,S0,ef,j_,b_,Oo,YT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uue(){return va.apply(S_(nde,ade,ei,k_,O0,k0,__,w_,Oo,XT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P0(){var e=0,t=1,r,n,s,i,o=un,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var m,g;return arguments.length?([m,g]=f,o=h(m,g),d):[o(0),o(1)]}}return d.range=u(Nd),d.rangeRound=u(u_),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),n=h(t),s=r===n?0:1/(n-r),d}}function eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QT(){var e=Zi(P0()(un));return e.copy=function(){return eo(e,QT())},si.apply(e,arguments)}function JT(){var e=p_(P0()).domain([1,10]);return e.copy=function(){return eo(e,JT()).base(e.base())},si.apply(e,arguments)}function ZT(){var e=g_(P0());return e.copy=function(){return eo(e,ZT()).constant(e.constant())},si.apply(e,arguments)}function O_(){var e=x_(P0());return e.copy=function(){return eo(e,O_()).exponent(e.exponent())},si.apply(e,arguments)}function hue(){return O_.apply(null,arguments).exponent(.5)}function e9(){var e=[],t=un;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort($i),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Jle(e,i/n))},r.copy=function(){return e9(t).domain(e)},si.apply(r,arguments)}function E0(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,d=un,u,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-i)*(n*p<n*i?l:c),d(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(d=p,m):d};function g(p){return function(x){var y,v,j;return arguments.length?([y,v,j]=x,d=Nce(p,[y,v,j]),m):[d(0),d(.5),d(1)]}}return m.range=g(Nd),m.rangeRound=g(u_),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return u=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function t9(){var e=Zi(E0()(un));return e.copy=function(){return eo(e,t9())},si.apply(e,arguments)}function r9(){var e=p_(E0()).domain([.1,1,10]);return e.copy=function(){return eo(e,r9()).base(e.base())},si.apply(e,arguments)}function n9(){var e=g_(E0());return e.copy=function(){return eo(e,n9()).constant(e.constant())},si.apply(e,arguments)}function P_(){var e=x_(E0());return e.copy=function(){return eo(e,P_()).exponent(e.exponent())},si.apply(e,arguments)}function fue(){return P_.apply(null,arguments).exponent(.5)}const O4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sh,scaleDiverging:t9,scaleDivergingLog:r9,scaleDivergingPow:P_,scaleDivergingSqrt:fue,scaleDivergingSymlog:n9,scaleIdentity:zT,scaleImplicit:$b,scaleLinear:jp,scaleLog:RT,scaleOrdinal:l_,scalePoint:_u,scalePow:y_,scaleQuantile:FT,scaleQuantize:qT,scaleRadial:$T,scaleSequential:QT,scaleSequentialLog:JT,scaleSequentialPow:O_,scaleSequentialQuantile:e9,scaleSequentialSqrt:hue,scaleSequentialSymlog:ZT,scaleSqrt:Kce,scaleSymlog:LT,scaleThreshold:BT,scaleTime:due,scaleUtc:uue,tickFormat:MT},Symbol.toStringTag,{value:"Module"}));var mue=pd;function pue(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!mue(o):r(o,l)))var l=o,c=i}return c}var C0=pue;function gue(e,t){return e>t}var a9=gue,xue=C0,yue=a9,vue=_d;function bue(e){return e&&e.length?xue(e,vue,yue):void 0}var wue=bue;const Oi=kt(wue);function jue(e,t){return e<t}var s9=jue,_ue=C0,Nue=s9,kue=_d;function Sue(e){return e&&e.length?_ue(e,kue,Nue):void 0}var Oue=Sue;const A0=kt(Oue);var Pue=B1,Eue=js,Cue=fT,Aue=An;function Tue(e,t){var r=Aue(e)?Pue:Cue;return r(e,Eue(t))}var Due=Tue,Mue=uT,zue=Due;function Iue(e,t){return Mue(zue(e,t),1)}var Rue=Iue;const Lue=kt(Rue);var $ue=n_;function Fue(e,t){return $ue(e,t)}var que=Fue;const el=kt(que);var kd=1e9,Bue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},C_,Zt=!0,ga="[DecimalError] ",Do=ga+"Invalid argument: ",E_=ga+"Exponent out of range: ",Sd=Math.floor,yo=Math.pow,Uue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Tr=1e7,Yt=7,i9=9007199254740991,Sp=Sd(i9/Yt),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(e){return Us(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,r=t.constructor;return $t(Us(t,new r(e),0,1),r.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return xr(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Fn))throw Error(ga+"NaN");if(r.s<1)throw Error(ga+(r.s?"NaN":"-Infinity"));return r.eq(Fn)?new n(0):(Zt=!1,t=Us(dh(r,i),dh(e,i),i),Zt=!0,$t(t,s))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?c9(t,e):o9(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(ga+"NaN");return r.s?(Zt=!1,t=Us(r,e,0,1).times(e),Zt=!0,r.minus(t)):$t(new n(r),s)};ze.naturalExponential=ze.exp=function(){return l9(this)};ze.naturalLogarithm=ze.ln=function(){return dh(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?o9(t,e):c9(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Do+e);if(t=xr(s)+1,n=s.d.length-1,r=n*Yt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ze.squareRoot=ze.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ga+"NaN")}for(e=xr(l),Zt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=as(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Sd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Us(l,i,o+2)).times(.5),as(i.d).slice(0,o)===(t=as(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if($t(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Zt=!0,$t(n,r)};ze.times=ze.mul=function(e){var t,r,n,s,i,o,l,c,d,u=this,h=u.constructor,f=u.d,m=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=m.length,c<d&&(i=f,f=m,m=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*f[s-n-1]+t,i[s--]=l%Tr|0,t=l/Tr|0;i[s]=(i[s]+t)%Tr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Zt?$t(e,h.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ys(e,0,kd),t===void 0?t=n.rounding:ys(t,0,8),$t(r,e+xr(r)+1,t))};ze.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=tl(n,!0):(ys(e,0,kd),t===void 0?t=s.rounding:ys(t,0,8),n=$t(new s(n),e+1,t),r=tl(n,!0,e+1)),r};ze.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?tl(s):(ys(e,0,kd),t===void 0?t=i.rounding:ys(t,0,8),n=$t(new i(s),e+xr(s)+1,t),r=tl(n.abs(),!1,e+xr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return $t(new t(e),xr(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Fn);if(l=new c(l),!l.s){if(e.s<1)throw Error(ga+"Infinity");return l}if(l.eq(Fn))return l;if(n=c.precision,e.eq(Fn))return $t(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=i9){for(s=new c(Fn),t=Math.ceil(n/Yt+4),Zt=!1;r%2&&(s=s.times(l),E4(s.d,t)),r=Sd(r/2),r!==0;)l=l.times(l),E4(l.d,t);return Zt=!0,e.s<0?new c(Fn).div(s):$t(s,n)}}else if(i<0)throw Error(ga+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Zt=!1,s=e.times(dh(l,n+d)),Zt=!0,s=l9(s),s.s=i,s};ze.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=xr(s),n=tl(s,r<=i.toExpNeg||r>=i.toExpPos)):(ys(e,1,kd),t===void 0?t=i.rounding:ys(t,0,8),s=$t(new i(s),e,t),r=xr(s),n=tl(s,e<=r||r<=i.toExpNeg,e)),n};ze.toSignificantDigits=ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ys(e,1,kd),t===void 0?t=n.rounding:ys(t,0,8)),$t(new n(r),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xr(e),r=e.constructor;return tl(e,t<=r.toExpNeg||t>=r.toExpPos)};function o9(e,t){var r,n,s,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Zt?$t(t,h):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(h/Yt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Tr|0,c[i]%=Tr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Zt?$t(t,h):t}function ys(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Do+e)}function as(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Yt-n.length,r&&(i+=vi(r)),i+=n;o=e[t],n=o+"",r=Yt-n.length,r&&(i+=vi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Us=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Tr|0,o=i/Tr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Tr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,h,f,m,g,p,x,y,v,j,w,k,N,S,O,P=n.constructor,$=n.s==s.s?1:-1,T=n.d,I=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(ga+"Division by zero");for(c=n.e-s.e,S=I.length,k=T.length,m=new P($),g=m.d=[],d=0;I[d]==(T[d]||0);)++d;if(I[d]>(T[d]||0)&&--c,i==null?v=i=P.precision:o?v=i+(xr(n)-xr(s))+1:v=i,v<0)return new P(0);if(v=v/Yt+2|0,d=0,S==1)for(u=0,I=I[0],v++;(d<k||u)&&v--;d++)j=u*Tr+(T[d]||0),g[d]=j/I|0,u=j%I|0;else{for(u=Tr/(I[0]+1)|0,u>1&&(I=e(I,u),T=e(T,u),S=I.length,k=T.length),w=S,p=T.slice(0,S),x=p.length;x<S;)p[x++]=0;O=I.slice(),O.unshift(0),N=I[0],I[1]>=Tr/2&&++N;do u=0,l=t(I,p,S,x),l<0?(y=p[0],S!=x&&(y=y*Tr+(p[1]||0)),u=y/N|0,u>1?(u>=Tr&&(u=Tr-1),h=e(I,u),f=h.length,x=p.length,l=t(h,p,f,x),l==1&&(u--,r(h,S<f?O:I,f))):(u==0&&(l=u=1),h=I.slice()),f=h.length,f<x&&h.unshift(0),r(p,h,x),l==-1&&(x=p.length,l=t(I,p,S,x),l<1&&(u++,r(p,S<x?O:I,x))),x=p.length):l===0&&(u++,p=[0]),g[d++]=u,l&&p[0]?p[x++]=T[w]||0:(p=[T[w]],x=1);while((w++<k||p[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,$t(m,o?i+xr(m)+1:i)}}();function l9(e,t){var r,n,s,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(xr(e)>16)throw Error(E_+xr(e));if(!e.s)return new u(Fn);for(Zt=!1,l=h,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(yo(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(Fn),u.precision=l;;){if(s=$t(s.times(e),l),r=r.times(++c),o=i.plus(Us(s,r,l)),as(o.d).slice(0,l)===as(i.d).slice(0,l)){for(;d--;)i=$t(i.times(i),l);return u.precision=h,t==null?(Zt=!0,$t(i,h)):i}i=o}}function xr(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function yy(e,t,r){if(t>e.LN10.sd())throw Zt=!0,r&&(e.precision=r),Error(ga+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function vi(e){for(var t="";e--;)t+="0";return t}function dh(e,t){var r,n,s,i,o,l,c,d,u,h=1,f=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(ga+(m.s?"NaN":"-Infinity"));if(m.eq(Fn))return new p(0);if(t==null?(Zt=!1,d=x):d=t,m.eq(10))return t==null&&(Zt=!0),yy(p,d);if(d+=f,p.precision=d,r=as(g),n=r.charAt(0),i=xr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=as(m.d),n=r.charAt(0),h++;i=xr(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=yy(p,d+2,x).times(i+""),m=dh(new p(n+"."+r.slice(1)),d-f).plus(c),p.precision=x,t==null?(Zt=!0,$t(m,x)):m;for(l=o=m=Us(m.minus(Fn),m.plus(Fn),d),u=$t(m.times(m),d),s=3;;){if(o=$t(o.times(u),d),c=l.plus(Us(o,new p(s),d)),as(c.d).slice(0,d)===as(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(yy(p,d+2,x).times(i+""))),l=Us(l,new p(h),d),p.precision=x,t==null?(Zt=!0,$t(l,x)):l;l=c,s+=2}}function P4(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Sd(r/Yt),e.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Yt;n<s;)e.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Zt&&(e.e>Sp||e.e<-Sp))throw Error(E_+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,s,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Yt,s=t,d=h[u=0];else{if(u=Math.ceil((n+1)/Yt),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=Yt,s=n-Yt+o}if(r!==void 0&&(i=yo(10,o-s-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/yo(10,o-s):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=xr(e),h.length=1,t=t-i-1,h[0]=yo(10,(Yt-t%Yt)%Yt),e.e=Sd(-t/Yt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=yo(10,Yt-n),h[u]=s>0?(d/yo(10,o-s)%yo(10,s)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Tr&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=Tr)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Zt&&(e.e>Sp||e.e<-Sp))throw Error(E_+xr(e));return e}function c9(e,t){var r,n,s,i,o,l,c,d,u,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Zt?$t(t,m):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),s=Math.max(Math.ceil(m/Yt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){u=c[s]<h[s];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=Tr-1;--c[i],c[s]+=Tr}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Zt?$t(t,m):t):new f(0)}function tl(e,t,r){var n,s=xr(e),i=as(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+vi(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+vi(-s-1)+i,r&&(n=r-o)>0&&(i+=vi(n))):s>=o?(i+=vi(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+vi(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=vi(n))),e.s<0?"-"+i:i}function E4(e,t){if(e.length>t)return e.length=t,!0}function d9(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Do+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return P4(o,i.toString())}else if(typeof i!="string")throw Error(Do+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Uue.test(i))P4(o,i);else throw Error(Do+i)}if(s.prototype=ze,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=d9,s.config=s.set=Wue,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Wue(e){if(!e||typeof e!="object")throw Error(ga+"Object expected");var t,r,n,s=["precision",1,kd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Sd(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Do+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Do+r+": "+n);return this}var C_=d9(Bue);Fn=new C_(1);const Dt=C_;function Vue(e){return Yue(e)||Gue(e)||Kue(e)||Hue()}function Hue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(e,t){if(e){if(typeof e=="string")return Ub(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ub(e,t)}}function Gue(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Yue(e){if(Array.isArray(e))return Ub(e)}function Ub(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xue=function(e){return e},u9={},h9=function(e){return e===u9},C4=function(e){return function t(){return arguments.length===0||arguments.length===1&&h9(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Que=function e(t,r){return t===1?r:C4(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==u9}).length;return o>=t?r.apply(void 0,s):e(t-o,C4(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(h){return h9(h)?c.shift():h});return r.apply(void 0,Vue(u).concat(c))}))})},T0=function(e){return Que(e.length,e)},Wb=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Jue=T0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Zue=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Xue;var n=t.reverse(),s=n[0],i=n.slice(1);return function(){return i.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},Vb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},f9=function(e){var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every(function(o,l){return o===t[l]})||(t=s,r=e.apply(void 0,s)),r}};function ehe(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function the(e,t,r){for(var n=new Dt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var rhe=T0(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),nhe=T0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),ahe=T0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const D0={rangeStep:the,getDigitCount:ehe,interpolateNumber:rhe,uninterpolateNumber:nhe,uninterpolateTruncation:ahe};function Hb(e){return ohe(e)||ihe(e)||m9(e)||she()}function she(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ohe(e){if(Array.isArray(e))return Kb(e)}function uh(e,t){return dhe(e)||che(e,t)||m9(e,t)||lhe()}function lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9(e,t){if(e){if(typeof e=="string")return Kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kb(e,t)}}function Kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function che(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function dhe(e){if(Array.isArray(e))return e}function p9(e){var t=uh(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function g9(e,t,r){if(e.lte(0))return new Dt(0);var n=D0.getDigitCount(e.toNumber()),s=new Dt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Dt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Dt(Math.ceil(c))}function uhe(e,t,r){var n=1,s=new Dt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Dt(10).pow(D0.getDigitCount(e)-1),s=new Dt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Dt(Math.floor(e)))}else e===0?s=new Dt(Math.floor((t-1)/2)):r||(s=new Dt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Zue(Jue(function(c){return s.add(new Dt(c-o).mul(n)).toNumber()}),Wb);return l(0,t)}function x9(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=g9(new Dt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Dt(0):(o=new Dt(e).add(t).div(2),o=o.sub(new Dt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Dt(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?x9(e,t,r,n,s+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Dt(l).mul(i)),tickMax:o.add(new Dt(c).mul(i))})}function hhe(e){var t=uh(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=p9([r,n]),c=uh(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(Hb(Wb(0,s-1).map(function(){return 1/0}))):[].concat(Hb(Wb(0,s-1).map(function(){return-1/0})),[u]);return r>n?Vb(h):h}if(d===u)return uhe(d,s,i);var f=x9(d,u,o,i),m=f.step,g=f.tickMin,p=f.tickMax,x=D0.rangeStep(g,p.add(new Dt(.1).mul(m)),m);return r>n?Vb(x):x}function fhe(e,t){var r=uh(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=p9([n,s]),l=uh(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,s];if(c===d)return[c];var u=Math.max(t,2),h=g9(new Dt(d).sub(c).div(u-1),i,0),f=[].concat(Hb(D0.rangeStep(new Dt(c),new Dt(d).sub(new Dt(.99).mul(h)),h)),[d]);return n>s?Vb(f):f}var mhe=f9(hhe),phe=f9(fhe),ghe="Invariant failed";function rl(e,t){throw new Error(ghe)}var xhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function yhe(e,t){return jhe(e)||whe(e,t)||bhe(e,t)||vhe()}function vhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(e,t){if(e){if(typeof e=="string")return A4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A4(e,t)}}function A4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function whe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function jhe(e){if(Array.isArray(e))return e}function _he(e,t){if(e==null)return{};var r=Nhe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function khe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function She(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9(n.key),n)}}function Ohe(e,t,r){return t&&She(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Phe(e,t,r){return t=Pp(t),Ehe(e,y9()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function Ehe(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Che(e)}function Che(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pp(e)}function Ahe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gb(e,t)}function Gb(e,t){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gb(e,t)}function v9(e,t,r){return t=b9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=The(e,"string");return Rc(t)=="symbol"?t:t+""}function The(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tf=function(e){function t(){return khe(this,t),Phe(this,t,arguments)}return Ahe(t,e),Ohe(t,[{key:"render",value:function(){var r=this.props,n=r.offset,s=r.layout,i=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,u=r.yAxis,h=_he(r,xhe),f=Be(h,!1);this.props.direction==="x"&&d.type!=="number"&&rl();var m=l.map(function(g){var p=c(g,o),x=p.x,y=p.y,v=p.value,j=p.errorVal;if(!j)return null;var w=[],k,N;if(Array.isArray(j)){var S=yhe(j,2);k=S[0],N=S[1]}else k=N=j;if(s==="vertical"){var O=d.scale,P=y+n,$=P+i,T=P-i,I=O(v-k),D=O(v+N);w.push({x1:D,y1:$,x2:D,y2:T}),w.push({x1:I,y1:P,x2:D,y2:P}),w.push({x1:I,y1:$,x2:I,y2:T})}else if(s==="horizontal"){var E=u.scale,q=x+n,F=q-i,V=q+i,L=E(v-k),G=E(v+N);w.push({x1:F,y1:G,x2:V,y2:G}),w.push({x1:q,y1:L,x2:q,y2:G}),w.push({x1:F,y1:L,x2:V,y2:L})}return z.createElement(ht,Op({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},f),w.map(function(ee){return z.createElement("line",Op({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return z.createElement(ht,{className:"recharts-errorBars"},m)}}])}(z.Component);v9(tf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});v9(tf,"displayName","ErrorBar");function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){Dhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dhe(e,t,r){return t=Mhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mhe(e){var t=zhe(e,"string");return hh(t)=="symbol"?t:t+""}function zhe(e,t){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w9=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,s=e.legendContent,i=In(t,Li);if(!i)return null;var o=Li.defaultProps,l=o!==void 0?lo(lo({},o),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:s==="children"?c=(r||[]).reduce(function(d,u){var h=u.item,f=u.props,m=f.sectors||f.data||[];return d.concat(m.map(function(g){return{type:i.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var u=d.item,h=u.type.defaultProps,f=h!==void 0?lo(lo({},h),u.props):{},m=f.dataKey,g=f.name,p=f.legendType,x=f.hide;return{inactive:x,dataKey:m,type:l.iconType||p||"square",color:A_(u),value:g||m,payload:f}}),lo(lo(lo({},l),Li.getWithHeight(i,n)),{},{payload:c,item:i})};function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function D4(e){return $he(e)||Lhe(e)||Rhe(e)||Ihe()}function Ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(e,t){if(e){if(typeof e=="string")return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yb(e,t)}}function Lhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $he(e){if(Array.isArray(e))return Yb(e)}function Yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){mc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mc(e,t,r){return t=Fhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fhe(e){var t=qhe(e,"string");return fh(t)=="symbol"?t:t+""}function qhe(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t,r){return et(e)||et(t)?r:Cr(t)?Gn(e,t,r):He(t)?t(e):r}function mm(e,t,r,n){var s=Lue(e,function(l){return fr(l,t)});if(r==="number"){var i=s.filter(function(l){return ye(l)||parseFloat(l)});return i.length?[A0(i),Oi(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!et(l)}):s;return o.map(function(l){return Cr(l)||l instanceof Date?l:""})}var Bhe=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,o=(t=r?.length)!==null&&t!==void 0?t:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var d=c>0?n[c-1].coordinate:n[o-1].coordinate,u=n[c].coordinate,h=c>=o-1?n[0].coordinate:n[c+1].coordinate,f=void 0;if(cn(u-d)!==cn(h-u)){var m=[];if(cn(h-u)===cn(l[1]-l[0])){f=h;var g=u+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{f=d;var p=h+l[1]-l[0];m[0]=Math.min(u,(p+u)/2),m[1]=Math.max(u,(p+u)/2)}var x=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){i=n[c].index;break}}else{var y=Math.min(d,h),v=Math.max(d,h);if(e>(y+u)/2&&e<=(v+u)/2){i=n[c].index;break}}}else for(var j=0;j<o;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<o-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===o-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){i=r[j].index;break}return i},A_=function(e){var t,r=e,n=r.type.displayName,s=(t=e.type)!==null&&t!==void 0&&t.defaultProps?ir(ir({},e.type.defaultProps),e.props):e.props,i=s.stroke,o=s.fill,l;switch(n){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:o;break;default:l=o;break}return l},Uhe=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,s=n===void 0?{}:n;if(!s)return{};for(var i={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var d=s[o[l]].stackGroups,u=Object.keys(d),h=0,f=u.length;h<f;h++){var m=d[u[h]],g=m.items,p=m.cateAxisId,x=g.filter(function(N){return Bs(N.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,v=y!==void 0?ir(ir({},y),x[0].props):x[0].props,j=v.barSize,w=v[p];i[w]||(i[w]=[]);var k=et(j)?t:j;i[w].push({item:x[0],stackList:x.slice(1),barSize:et(k)?void 0:dn(k,r,0)})}}return i},Whe=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,o=e.maxBarSize,l=i.length;if(l<1)return null;var c=dn(t,n,0,!0),d,u=[];if(i[0].barSize===+i[0].barSize){var h=!1,f=n/l,m=i.reduce(function(j,w){return j+w.barSize||0},0);m+=(l-1)*c,m>=n&&(m-=(l-1)*c,c=0),m>=n&&f>0&&(h=!0,f*=.9,m=l*f);var g=(n-m)/2>>0,p={offset:g-c,size:0};d=i.reduce(function(j,w){var k={item:w.item,position:{offset:p.offset+p.size+c,size:h?f:w.barSize}},N=[].concat(D4(j),[k]);return p=N[N.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){N.push({item:S,position:p})}),N},u)}else{var x=dn(r,n,0,!0);n-2*x-(l-1)*c<=0&&(c=0);var y=(n-2*x-(l-1)*c)/l;y>1&&(y>>=0);var v=o===+o?Math.min(y,o):y;d=i.reduce(function(j,w,k){var N=[].concat(D4(j),[{item:w.item,position:{offset:x+(y+c)*k+(y-v)/2,size:v}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},u)}return d},Vhe=function(e,t,r,n){var s=r.children,i=r.width,o=r.margin,l=i-(o.left||0)-(o.right||0),c=w9({children:s,legendWidth:l});if(c){var d=n||{},u=d.width,h=d.height,f=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&f!=="center"&&ye(e[f]))return ir(ir({},e),{},mc({},f,e[f]+(u||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&m!=="middle"&&ye(e[m]))return ir(ir({},e),{},mc({},m,e[m]+(h||0)))}return e},Hhe=function(e,t,r){return et(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},j9=function(e,t,r,n,s){var i=t.props.children,o=Yn(i,tf).filter(function(c){return Hhe(n,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var u=fr(d,r);if(et(u))return c;var h=Array.isArray(u)?[A0(u),Oi(u)]:[u,u],f=l.reduce(function(m,g){var p=fr(d,g,0),x=h[0]-Math.abs(Array.isArray(p)?p[0]:p),y=h[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},Khe=function(e,t,r,n,s){var i=t.map(function(o){return j9(e,o,r,s,n)}).filter(function(o){return!et(o)});return i&&i.length?i.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},_9=function(e,t,r,n,s){var i=t.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&j9(e,l,c,n)||mm(e,c,r,s)});if(r==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return i.reduce(function(l,c){for(var d=0,u=c.length;d<u;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},N9=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},k9=function(e,t,r,n){if(n)return e.map(function(l){return l.coordinate});var s,i,o=e.map(function(l){return l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate});return s||o.push(t),i||o.push(r),o},$s=function(e,t,r){if(!e)return null;var n=e.scale,s=e.duplicateDomain,i=e.type,o=e.range,l=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&i==="category"&&n.bandwidth?n.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&o?.length>=2?cn(o[0]-o[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(u){var h=s?s.indexOf(u):u;return{coordinate:n(h)+c,value:u,offset:c}});return d.filter(function(u){return!bd(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,h){return{coordinate:n(u)+c,value:u,index:h,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(u){return{coordinate:n(u)+c,value:u,offset:c}}):n.domain().map(function(u,h){return{coordinate:n(u)+c,value:s?s[u]:u,index:h,offset:c}})},vy=new WeakMap,Uf=function(e,t){if(typeof t!="function")return e;vy.has(e)||vy.set(e,new WeakMap);var r=vy.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},S9=function(e,t,r){var n=e.scale,s=e.type,i=e.layout,o=e.axisType;if(n==="auto")return i==="radial"&&o==="radiusAxis"?{scale:sh(),realScaleType:"band"}:i==="radial"&&o==="angleAxis"?{scale:jp(),realScaleType:"linear"}:s==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:_u(),realScaleType:"point"}:s==="category"?{scale:sh(),realScaleType:"band"}:{scale:jp(),realScaleType:"linear"};if(Qo(n)){var l="scale".concat(x0(n));return{scale:(O4[l]||_u)(),realScaleType:O4[l]?l:"point"}}return He(n)?{scale:n}:{scale:_u(),realScaleType:"point"}},z4=1e-4,O9=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-z4,i=Math.max(n[0],n[1])+z4,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},Ghe=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},Yhe=function(e,t){if(!t||t.length!==2||!ye(t[0])||!ye(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!ye(e[0])||e[0]<r)&&(s[0]=r),(!ye(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},Xhe=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=bd(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},Qhe=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=bd(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Jhe={sign:Xhe,expand:xZ,none:Ec,silhouette:yZ,wiggle:vZ,positive:Qhe},Zhe=function(e,t,r){var n=t.map(function(o){return o.props.dataKey}),s=Jhe[r],i=gZ().keys(n).value(function(o,l){return+fr(o,l,0)}).order(bb).offset(s);return i(e)},efe=function(e,t,r,n,s,i){if(!e)return null;var o=i?t.reverse():t,l={},c=o.reduce(function(u,h){var f,m=(f=h.type)!==null&&f!==void 0&&f.defaultProps?ir(ir({},h.type.defaultProps),h.props):h.props,g=m.stackId,p=m.hide;if(p)return u;var x=m[r],y=u[x]||{hasStack:!1,stackGroups:{}};if(Cr(g)){var v=y.stackGroups[g]||{numericAxisId:r,cateAxisId:n,items:[]};v.items.push(h),y.hasStack=!0,y.stackGroups[g]=v}else y.stackGroups[cl("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[h]};return ir(ir({},u),{},mc({},x,y))},l),d={};return Object.keys(c).reduce(function(u,h){var f=c[h];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,p){var x=f.stackGroups[p];return ir(ir({},g),{},mc({},p,{numericAxisId:r,cateAxisId:n,items:x.items,stackedData:Zhe(e,x.items,s)}))},m)}return ir(ir({},u),{},mc({},h,f))},d)},P9=function(e,t){var r=t.realScaleType,n=t.type,s=t.tickCount,i=t.originalDomain,o=t.allowDecimals,l=r||t.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&n==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=mhe(c,s,o);return e.domain([A0(d),Oi(d)]),{niceTicks:d}}if(s&&n==="number"){var u=e.domain(),h=phe(u,s,o);return{niceTicks:h}}return null};function Ep(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!et(s[t.dataKey])){var l=tp(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=fr(s,et(o)?t.dataKey:o);return et(c)?null:t.scale(c)}var I4=function(e){var t=e.axis,r=e.ticks,n=e.offset,s=e.bandSize,i=e.entry,o=e.index;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=fr(i,t.dataKey,t.domain[o]);return et(l)?null:t.scale(l)-s/2+n},tfe=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},rfe=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},e.type.defaultProps),e.props):e.props,s=n.stackId;if(Cr(s)){var i=t[s];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},nfe=function(e){return e.reduce(function(t,r){return[A0(r.concat([t[0]]).filter(ye)),Oi(r.concat([t[1]]).filter(ye))]},[1/0,-1/0])},E9=function(e,t,r){return Object.keys(e).reduce(function(n,s){var i=e[s],o=i.stackedData,l=o.reduce(function(c,d){var u=nfe(d.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},R4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xb=function(e,t,r){if(He(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(ye(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(R4.test(e[0])){var s=+R4.exec(e[0])[1];n[0]=t[0]-s}else He(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(ye(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(L4.test(e[1])){var i=+L4.exec(e[1])[1];n[1]=t[1]+i}else He(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Cp=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=s_(t,function(u){return u.coordinate}),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},$4=function(e,t,r){return!e||!e.length||el(e,Gn(r,"type.defaultProps.domain"))?t:e},C9=function(e,t){var r=e.type.defaultProps?ir(ir({},e.type.defaultProps),e.props):e.props,n=r.dataKey,s=r.name,i=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return ir(ir({},Be(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:s||n,color:A_(e),value:fr(t,n),type:l,payload:t,chartType:c,hide:d})};function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){A9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A9(e,t,r){return t=afe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=sfe(e,"string");return mh(t)=="symbol"?t:t+""}function sfe(e,t){if(mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ife(e,t){return dfe(e)||cfe(e,t)||lfe(e,t)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(e,t){if(e){if(typeof e=="string")return q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q4(e,t)}}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function dfe(e){if(Array.isArray(e))return e}var Ap=Math.PI/180,ufe=function(e){return e*180/Math.PI},Wt=function(e,t,r,n){return{x:e+Math.cos(-Ap*n)*r,y:t+Math.sin(-Ap*n)*r}},T9=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},hfe=function(e,t,r,n,s){var i=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=dn(e.cx,i,i/2),u=dn(e.cy,o,o/2),h=T9(i,o,r),f=dn(e.innerRadius,h,0),m=dn(e.outerRadius,h,h*.8),g=Object.keys(t);return g.reduce(function(p,x){var y=t[x],v=y.domain,j=y.reversed,w;if(et(y.range))n==="angleAxis"?w=[l,c]:n==="radiusAxis"&&(w=[f,m]),j&&(w=[w[1],w[0]]);else{w=y.range;var k=w,N=ife(k,2);l=N[0],c=N[1]}var S=S9(y,s),O=S.realScaleType,P=S.scale;P.domain(v).range(w),O9(P);var $=P9(P,Ds(Ds({},y),{},{realScaleType:O})),T=Ds(Ds(Ds({},y),$),{},{range:w,radius:m,realScaleType:O,scale:P,cx:d,cy:u,innerRadius:f,outerRadius:m,startAngle:l,endAngle:c});return Ds(Ds({},p),{},A9({},x,T))},{})},ffe=function(e,t){var r=e.x,n=e.y,s=t.x,i=t.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(n-i,2))},mfe=function(e,t){var r=e.x,n=e.y,s=t.cx,i=t.cy,o=ffe({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:ufe(c),angleInRadian:c}},pfe=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},gfe=function(e,t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},B4=function(e,t){var r=e.x,n=e.y,s=mfe({x:r,y:n},t),i=s.radius,o=s.angle,l=t.innerRadius,c=t.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var d=pfe(t),u=d.startAngle,h=d.endAngle,f=o,m;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;m=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=u}return m?Ds(Ds({},t),{},{radius:i,angle:gfe(f,t)}):null},D9=function(e){return!b.isValidElement(e)&&!He(e)&&typeof e!="boolean"?e.className:""};function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}var xfe=["offset"];function yfe(e){return jfe(e)||wfe(e)||bfe(e)||vfe()}function vfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bfe(e,t){if(e){if(typeof e=="string")return Qb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qb(e,t)}}function wfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jfe(e){if(Array.isArray(e))return Qb(e)}function Qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _fe(e,t){if(e==null)return{};var r=Nfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){kfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kfe(e,t,r){return t=Sfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sfe(e){var t=Ofe(e,"string");return ph(t)=="symbol"?t:t+""}function Ofe(e,t){if(ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}var Pfe=function(e){var t=e.value,r=e.formatter,n=et(e.children)?t:e.children;return He(r)?r(n):n},Efe=function(e,t){var r=cn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Cfe=function(e,t,r){var n=e.position,s=e.viewBox,i=e.offset,o=e.className,l=s,c=l.cx,d=l.cy,u=l.innerRadius,h=l.outerRadius,f=l.startAngle,m=l.endAngle,g=l.clockWise,p=(u+h)/2,x=Efe(f,m),y=x>=0?1:-1,v,j;n==="insideStart"?(v=f+y*i,j=g):n==="insideEnd"?(v=m-y*i,j=!g):n==="end"&&(v=m+y*i,j=g),j=x<=0?j:!j;var w=Wt(c,d,p,v),k=Wt(c,d,p,v+(j?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(j?0:1,`,
    `).concat(k.x,",").concat(k.y),S=et(e.id)?cl("recharts-radial-line-"):e.id;return z.createElement("text",gh({},r,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:S,d:N})),z.createElement("textPath",{xlinkHref:"#".concat(S)},t))},Afe=function(e){var t=e.viewBox,r=e.offset,n=e.position,s=t,i=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,u=s.endAngle,h=(d+u)/2;if(n==="outside"){var f=Wt(i,o,c+r,h),m=f.x,g=f.y;return{x:m,y:g,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(l+c)/2,x=Wt(i,o,p,h),y=x.x,v=x.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Tfe=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,s=e.position,i=t,o=i.x,l=i.y,c=i.width,d=i.height,u=d>=0?1:-1,h=u*n,f=u>0?"end":"start",m=u>0?"start":"end",g=c>=0?1:-1,p=g*n,x=g>0?"end":"start",y=g>0?"start":"end";if(s==="top"){var v={x:o+c/2,y:l-u*n,textAnchor:"middle",verticalAnchor:f};return _r(_r({},v),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var j={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return _r(_r({},j),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var w={x:o-p,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return _r(_r({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(s==="right"){var k={x:o+c+p,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return _r(_r({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:d}:{})}var N=r?{width:c,height:d}:{};return s==="insideLeft"?_r({x:o+p,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},N):s==="insideRight"?_r({x:o+c-p,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideTop"?_r({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},N):s==="insideBottom"?_r({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:f},N):s==="insideTopLeft"?_r({x:o+p,y:l+h,textAnchor:y,verticalAnchor:m},N):s==="insideTopRight"?_r({x:o+c-p,y:l+h,textAnchor:x,verticalAnchor:m},N):s==="insideBottomLeft"?_r({x:o+p,y:l+d-h,textAnchor:y,verticalAnchor:f},N):s==="insideBottomRight"?_r({x:o+c-p,y:l+d-h,textAnchor:x,verticalAnchor:f},N):gd(s)&&(ye(s.x)||ko(s.x))&&(ye(s.y)||ko(s.y))?_r({x:o+dn(s.x,c),y:l+dn(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):_r({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Dfe=function(e){return"cx"in e&&ye(e.cx)};function Mr(e){var t=e.offset,r=t===void 0?5:t,n=_fe(e,xfe),s=_r({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,h=u===void 0?"":u,f=s.textBreakAll;if(!i||et(l)&&et(c)&&!b.isValidElement(d)&&!He(d))return null;if(b.isValidElement(d))return b.cloneElement(d,s);var m;if(He(d)){if(m=b.createElement(d,s),b.isValidElement(m))return m}else m=Pfe(s);var g=Dfe(i),p=Be(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Cfe(s,m,p);var x=g?Afe(s):Tfe(s);return z.createElement(Zo,gh({className:Ze("recharts-label",h)},p,x,{breakAll:f}),m)}Mr.displayName="Label";var M9=function(e){var t=e.cx,r=e.cy,n=e.angle,s=e.startAngle,i=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,u=e.x,h=e.y,f=e.top,m=e.left,g=e.width,p=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ye(g)&&ye(p)){if(ye(u)&&ye(h))return{x:u,y:h,width:g,height:p};if(ye(f)&&ye(m))return{x:f,y:m,width:g,height:p}}return ye(u)&&ye(h)?{x:u,y:h,width:0,height:0}:ye(t)&&ye(r)?{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},Mfe=function(e,t){return e?e===!0?z.createElement(Mr,{key:"label-implicit",viewBox:t}):Cr(e)?z.createElement(Mr,{key:"label-implicit",viewBox:t,value:e}):b.isValidElement(e)?e.type===Mr?b.cloneElement(e,{key:"label-implicit",viewBox:t}):z.createElement(Mr,{key:"label-implicit",content:e,viewBox:t}):He(e)?z.createElement(Mr,{key:"label-implicit",content:e,viewBox:t}):gd(e)?z.createElement(Mr,gh({viewBox:t},e,{key:"label-implicit"})):null:null},zfe=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=M9(e),i=Yn(n,Mr).map(function(l,c){return b.cloneElement(l,{viewBox:t||s,key:"label-".concat(c)})});if(!r)return i;var o=Mfe(e.label,t||s);return[o].concat(yfe(i))};Mr.parseViewBox=M9;Mr.renderCallByParent=zfe;function Ife(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Rfe=Ife;const Lfe=kt(Rfe);function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}var $fe=["valueAccessor"],Ffe=["data","dataKey","clockWise","id","textBreakAll"];function qfe(e){return Vfe(e)||Wfe(e)||Ufe(e)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ufe(e,t){if(e){if(typeof e=="string")return Jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jb(e,t)}}function Wfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vfe(e){if(Array.isArray(e))return Jb(e)}function Jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(this,arguments)}function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(n){Hfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hfe(e,t,r){return t=Kfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kfe(e){var t=Gfe(e,"string");return xh(t)=="symbol"?t:t+""}function Gfe(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H4(e,t){if(e==null)return{};var r=Yfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xfe=function(e){return Array.isArray(e.value)?Lfe(e.value):e.value};function ms(e){var t=e.valueAccessor,r=t===void 0?Xfe:t,n=H4(e,$fe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=H4(n,Ffe);return!s||!s.length?null:z.createElement(ht,{className:"recharts-label-list"},s.map(function(u,h){var f=et(i)?r(u,h):fr(u&&u.payload,i),m=et(l)?{}:{id:"".concat(l,"-").concat(h)};return z.createElement(Mr,Tp({},Be(u,!0),d,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:Mr.parseViewBox(et(o)?u:V4(V4({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}ms.displayName="LabelList";function Qfe(e,t){return e?e===!0?z.createElement(ms,{key:"labelList-implicit",data:t}):z.isValidElement(e)||He(e)?z.createElement(ms,{key:"labelList-implicit",data:t,content:e}):gd(e)?z.createElement(ms,Tp({data:t},e,{key:"labelList-implicit"})):null:null}function Jfe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Yn(n,ms).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Qfe(e.label,t);return[i].concat(qfe(s))}ms.renderCallByParent=Jfe;function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(this,arguments)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){Zfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zfe(e,t,r){return t=eme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eme(e){var t=tme(e,"string");return yh(t)=="symbol"?t:t+""}function tme(e,t){if(yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rme=function(e,t){var r=cn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Wf=function(e){var t=e.cx,r=e.cy,n=e.radius,s=e.angle,i=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+n,u=Math.asin(l/d)/Ap,h=c?s:s+i*u,f=Wt(t,r,d,h),m=Wt(t,r,n,h),g=c?s-i*u:s,p=Wt(t,r,d*Math.cos(u*Ap),g);return{center:f,circleTangency:m,lineTangency:p,theta:u}},z9=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,i=e.startAngle,o=e.endAngle,l=rme(i,o),c=i+l,d=Wt(t,r,s,i),u=Wt(t,r,s,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Wt(t,r,n,i),m=Wt(t,r,n,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},nme=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,u=cn(d-c),h=Wf({cx:t,cy:r,radius:s,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),f=h.circleTangency,m=h.lineTangency,g=h.theta,p=Wf({cx:t,cy:r,radius:s,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),x=p.circleTangency,y=p.lineTangency,v=p.theta,j=l?Math.abs(c-d):Math.abs(c-d)-g-v;if(j<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):z9({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var k=Wf({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=k.circleTangency,S=k.lineTangency,O=k.theta,P=Wf({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),$=P.circleTangency,T=P.lineTangency,I=P.theta,D=l?Math.abs(c-d):Math.abs(c-d)-O-I;if(D<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat($.x,",").concat($.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(D>180),",").concat(+(u>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},ame={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I9=function(e){var t=G4(G4({},ame),e),r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=t.className;if(i<s||d===u)return null;var f=Ze("recharts-sector",h),m=i-s,g=dn(o,m,0,!0),p;return g>0&&Math.abs(d-u)<360?p=nme({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):p=z9({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),z.createElement("path",Zb({},Be(t,!0),{className:f,d:p,role:"img"}))};function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(r),!0).forEach(function(n){sme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sme(e,t,r){return t=ime(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ime(e){var t=ome(e,"string");return vh(t)=="symbol"?t:t+""}function ome(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q4={curveBasisClosed:sZ,curveBasisOpen:iZ,curveBasis:aZ,curveBumpX:WJ,curveBumpY:VJ,curveLinearClosed:oZ,curveLinear:v0,curveMonotoneX:lZ,curveMonotoneY:cZ,curveNatural:dZ,curveStep:uZ,curveStepAfter:fZ,curveStepBefore:hZ},Vf=function(e){return e.x===+e.x&&e.y===+e.y},Yd=function(e){return e.x},Xd=function(e){return e.y},lme=function(e,t){if(He(e))return e;var r="curve".concat(x0(e));return(r==="curveMonotone"||r==="curveBump")&&t?Q4["".concat(r).concat(t==="vertical"?"Y":"X")]:Q4[r]||v0},cme=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,s=n===void 0?[]:n,i=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=lme(r,o),u=c?s.filter(function(g){return Vf(g)}):s,h;if(Array.isArray(i)){var f=c?i.filter(function(g){return Vf(g)}):i,m=u.map(function(g,p){return X4(X4({},g),{},{base:f[p]})});return o==="vertical"?h=zf().y(Xd).x1(Yd).x0(function(g){return g.base.x}):h=zf().x(Yd).y1(Xd).y0(function(g){return g.base.y}),h.defined(Vf).curve(d),h(m)}return o==="vertical"&&ye(i)?h=zf().y(Xd).x1(Yd).x0(i):ye(i)?h=zf().x(Yd).y1(Xd).y0(i):h=CA().x(Yd).y(Xd),h.defined(Vf).curve(d),h(u)},Mo=function(e){var t=e.className,r=e.points,n=e.path,s=e.pathRef;if((!r||!r.length)&&!n)return null;var i=r&&r.length?cme(e):n;return b.createElement("path",ew({},Be(e,!1),rp(e),{className:Ze("recharts-curve",t),d:i,ref:s}))},R9={exports:{}},dme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ume=dme,hme=ume;function L9(){}function $9(){}$9.resetWarningCache=L9;var fme=function(){function e(n,s,i,o,l,c){if(c!==hme){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$9,resetWarningCache:L9};return r.PropTypes=r,r};R9.exports=fme();var mme=R9.exports;const Nt=kt(mme);var pme=Object.getOwnPropertyNames,gme=Object.getOwnPropertySymbols,xme=Object.prototype.hasOwnProperty;function J4(e,t){return function(r,n,s){return e(r,n,s)&&t(r,n,s)}}function Hf(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var s=n.cache,i=s.get(t),o=s.get(r);if(i&&o)return i===r&&o===t;s.set(t,r),s.set(r,t);var l=e(t,r,n);return s.delete(t),s.delete(r),l}}function Z4(e){return pme(e).concat(gme(e))}var yme=Object.hasOwn||function(e,t){return xme.call(e,t)};function hl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vme="__v",bme="__o",wme="_owner",e5=Object.getOwnPropertyDescriptor,t5=Object.keys;function jme(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function _me(e,t){return hl(e.getTime(),t.getTime())}function Nme(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function kme(e,t){return e===t}function r5(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(s[h]){h++;continue}var f=o.value,m=l.value;if(r.equals(f[0],m[0],c,h,e,t,r)&&r.equals(f[1],m[1],f[0],m[0],e,t,r)){u=s[h]=!0;break}h++}if(!u)return!1;c++}return!0}var Sme=hl;function Ome(e,t,r){var n=t5(e),s=n.length;if(t5(t).length!==s)return!1;for(;s-- >0;)if(!F9(e,t,r,n[s]))return!1;return!0}function Qd(e,t,r){var n=Z4(e),s=n.length;if(Z4(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!F9(e,t,r,i)||(o=e5(e,i),l=e5(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Pme(e,t){return hl(e.valueOf(),t.valueOf())}function Eme(e,t){return e.source===t.source&&e.flags===t.flags}function n5(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function Cme(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Ame(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function F9(e,t,r,n){return(n===wme||n===bme||n===vme)&&(e.$$typeof||t.$$typeof)?!0:yme(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Tme="[object Arguments]",Dme="[object Boolean]",Mme="[object Date]",zme="[object Error]",Ime="[object Map]",Rme="[object Number]",Lme="[object Object]",$me="[object RegExp]",Fme="[object Set]",qme="[object String]",Bme="[object URL]",Ume=Array.isArray,a5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,s5=Object.assign,Wme=Object.prototype.toString.call.bind(Object.prototype.toString);function Vme(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(m,g,p){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(m,g,p):x==="function"?s(m,g,p):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(m,g,p);if(Ume(m))return t(m,g,p);if(a5!=null&&a5(m))return h(m,g,p);if(y===Date)return r(m,g,p);if(y===RegExp)return d(m,g,p);if(y===Map)return i(m,g,p);if(y===Set)return u(m,g,p);var v=Wme(m);return v===Mme?r(m,g,p):v===$me?d(m,g,p):v===Ime?i(m,g,p):v===Fme?u(m,g,p):v===Lme?typeof m.then!="function"&&typeof g.then!="function"&&l(m,g,p):v===Bme?f(m,g,p):v===zme?n(m,g,p):v===Tme?l(m,g,p):v===Dme||v===Rme||v===qme?c(m,g,p):!1}}function Hme(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Qd:jme,areDatesEqual:_me,areErrorsEqual:Nme,areFunctionsEqual:kme,areMapsEqual:n?J4(r5,Qd):r5,areNumbersEqual:Sme,areObjectsEqual:n?Qd:Ome,arePrimitiveWrappersEqual:Pme,areRegExpsEqual:Eme,areSetsEqual:n?J4(n5,Qd):n5,areTypedArraysEqual:n?Qd:Cme,areUrlsEqual:Ame};if(r&&(s=s5({},s,r(s))),t){var i=Hf(s.areArraysEqual),o=Hf(s.areMapsEqual),l=Hf(s.areObjectsEqual),c=Hf(s.areSetsEqual);s=s5({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function Kme(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function Gme(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(l,c){var d=n(),u=d.cache,h=u===void 0?t?new WeakMap:void 0:u,f=d.meta;return r(l,c,{cache:h,equals:s,meta:f,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(l,c){return r(l,c,o)}}var Yme=to();to({strict:!0});to({circular:!0});to({circular:!0,strict:!0});to({createInternalComparator:function(){return hl}});to({strict:!0,createInternalComparator:function(){return hl}});to({circular:!0,createInternalComparator:function(){return hl}});to({circular:!0,createInternalComparator:function(){return hl},strict:!0});function to(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=Hme(e),c=Vme(l),d=n?n(c):Kme(c);return Gme({circular:r,comparator:c,createState:s,equals:d,strict:o})}function Xme(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function i5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Xme(s)};requestAnimationFrame(n)}function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function Qme(e){return tpe(e)||epe(e)||Zme(e)||Jme()}function Jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zme(e,t){if(e){if(typeof e=="string")return o5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o5(e,t)}}function o5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function epe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tpe(e){if(Array.isArray(e))return e}function rpe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Qme(o),c=l[0],d=l.slice(1);if(typeof c=="number"){i5(s.bind(null,d),c);return}s(c),i5(s.bind(null,d));return}tw(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return t=npe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function npe(e){var t=ape(e,"string");return bh(t)==="symbol"?t:String(t)}function ape(e,t){if(bh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var spe=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(s){return n.includes(s)})})},ipe=function(e){return e},ope=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},Nu=function(e,t){return Object.keys(t).reduce(function(r,n){return c5(c5({},r),{},q9({},n,e(n,t[n])))},{})},d5=function(e,t,r){return e.map(function(n){return"".concat(ope(n)," ").concat(t,"ms ").concat(r)}).join(",")};function lpe(e,t){return upe(e)||dpe(e,t)||B9(e,t)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function upe(e){if(Array.isArray(e))return e}function hpe(e){return ppe(e)||mpe(e)||B9(e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(e,t){if(e){if(typeof e=="string")return rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(e,t)}}function mpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ppe(e){if(Array.isArray(e))return rw(e)}function rw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dp=1e-4,U9=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},W9=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},u5=function(e,t){return function(r){var n=U9(e,t);return W9(n,r)}},gpe=function(e,t){return function(r){var n=U9(e,t),s=[].concat(hpe(n.map(function(i,o){return i*o}).slice(1)),[0]);return W9(s,r)}},h5=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],s=t[1],i=t[2],o=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,s=0,i=1,o=1;break;case"ease":n=.25,s=.1,i=.25,o=1;break;case"ease-in":n=.42,s=0,i=1,o=1;break;case"ease-out":n=.42,s=0,i=.58,o=1;break;case"ease-in-out":n=0,s=0,i=.58,o=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),d=lpe(c,4);n=d[0],s=d[1],i=d[2],o=d[3]}}}var u=u5(n,i),h=u5(s,o),f=gpe(n,i),m=function(p){return p>1?1:p<0?0:p},g=function(p){for(var x=p>1?1:p,y=x,v=0;v<8;++v){var j=u(y)-x,w=f(y);if(Math.abs(j-x)<Dp||w<Dp)return h(y);y=m(y-j/w)}return h(y)};return g.isStepper=!1,g},xpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,s=n===void 0?8:n,i=e.dt,o=i===void 0?17:i,l=function(c,d,u){var h=-(c-d)*r,f=u*s,m=u+(h-f)*o/1e3,g=u*o/1e3+c;return Math.abs(g-d)<Dp&&Math.abs(m)<Dp?[d,0]:[g,m]};return l.isStepper=!0,l.dt=o,l},ype=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h5(n);case"spring":return xpe();default:if(n.split("(")[0]==="cubic-bezier")return h5(n)}return typeof n=="function"?n:null};function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function f5(e){return wpe(e)||bpe(e)||V9(e)||vpe()}function vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wpe(e){if(Array.isArray(e))return aw(e)}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nw(e,t,r){return t=jpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jpe(e){var t=_pe(e,"string");return wh(t)==="symbol"?t:String(t)}function _pe(e,t){if(wh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Npe(e,t){return Ope(e)||Spe(e,t)||V9(e,t)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Spe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Ope(e){if(Array.isArray(e))return e}var Mp=function(e,t,r){return e+(t-e)*r},sw=function(e){var t=e.from,r=e.to;return t!==r},Ppe=function e(t,r,n){var s=Nu(function(i,o){if(sw(o)){var l=t(o.from,o.to,o.velocity),c=Npe(l,2),d=c[0],u=c[1];return Lr(Lr({},o),{},{from:d,velocity:u})}return o},r);return n<1?Nu(function(i,o){return sw(o)?Lr(Lr({},o),{},{velocity:Mp(o.velocity,s[i].velocity,n),from:Mp(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const Epe=function(e,t,r,n,s){var i=spe(e,t),o=i.reduce(function(x,y){return Lr(Lr({},x),{},nw({},y,[e[y],t[y]]))},{}),l=i.reduce(function(x,y){return Lr(Lr({},x),{},nw({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return Nu(function(x,y){return y.from},l)},m=function(){return!Object.values(l).filter(sw).length},g=function(x){d||(d=x);var y=x-d,v=y/r.dt;l=Ppe(r,l,v),s(Lr(Lr(Lr({},e),t),f())),d=x,m()||(c=requestAnimationFrame(h))},p=function(x){u||(u=x);var y=(x-u)/n,v=Nu(function(w,k){return Mp.apply(void 0,f5(k).concat([r(y)]))},o);if(s(Lr(Lr(Lr({},e),t),v)),y<1)c=requestAnimationFrame(h);else{var j=Nu(function(w,k){return Mp.apply(void 0,f5(k).concat([r(1)]))},o);s(Lr(Lr(Lr({},e),t),j))}};return h=r.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}var Cpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ape(e,t){if(e==null)return{};var r=Tpe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tpe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function by(e){return Ipe(e)||zpe(e)||Mpe(e)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(e,t){if(e){if(typeof e=="string")return iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iw(e,t)}}function zpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ipe(e){if(Array.isArray(e))return iw(e)}function iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){su(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function su(e,t,r){return t=H9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H9(n.key),n)}}function $pe(e,t,r){return t&&Lpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H9(e){var t=Fpe(e,"string");return Lc(t)==="symbol"?t:String(t)}function Fpe(e,t){if(Lc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}function ow(e,t){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ow(e,t)}function Bpe(e){var t=Upe();return function(){var r=zp(e),n;if(t){var s=zp(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return lw(this,n)}}function lw(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cw(e)}function cw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Upe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zp(e)}var Ka=function(e){qpe(r,e);var t=Bpe(r);function r(n,s){var i;Rpe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(cw(i)),i.changeStyle=i.changeStyle.bind(cw(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),lw(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},lw(i);i.state={style:c?su({},c,d):d}}else i.state={style:{}};return i}return $pe(r,[{key:"componentDidMount",value:function(){var n=this.props,s=n.isActive,i=n.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var s=this.props,i=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,u=s.from,h=this.state.style;if(o){if(!i){var f={style:l?su({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(f);return}if(!(Yme(n.to,d)&&n.canBegin&&n.isActive)){var m=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?u:n.to;if(this.state&&h){var p={style:l?su({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(p)}this.runAnimation(ja(ja({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var s=this,i=n.from,o=n.to,l=n.duration,c=n.easing,d=n.begin,u=n.onAnimationEnd,h=n.onAnimationStart,f=Epe(i,o,ype(c),l,this.changeStyle),m=function(){s.stopJSAnimation=f()};this.manager.start([h,d,m,l,u])}},{key:"runStepAnimation",value:function(n){var s=this,i=n.steps,o=n.begin,l=n.onAnimationStart,c=i[0],d=c.style,u=c.duration,h=u===void 0?0:u,f=function(m,g,p){if(p===0)return m;var x=g.duration,y=g.easing,v=y===void 0?"ease":y,j=g.style,w=g.properties,k=g.onAnimationEnd,N=p>0?i[p-1]:g,S=w||Object.keys(j);if(typeof v=="function"||v==="spring")return[].concat(by(m),[s.runJSAnimation.bind(s,{from:N.style,to:j,duration:x,easing:v}),x]);var O=d5(S,x,v),P=ja(ja(ja({},N.style),j),{},{transition:O});return[].concat(by(m),[P,x,k]).filter(ipe)};return this.manager.start([l].concat(by(i.reduce(f,[d,Math.max(h,o)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=rpe());var s=n.begin,i=n.duration,o=n.attributeName,l=n.to,c=n.easing,d=n.onAnimationStart,u=n.onAnimationEnd,h=n.steps,f=n.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(n);return}if(h.length>1){this.runStepAnimation(n);return}var g=o?su({},o,l):l,p=d5(Object.keys(g),i,c);m.start([d,s,ja(ja({},g),{},{transition:p}),i,u])}},{key:"render",value:function(){var n=this.props,s=n.children;n.begin;var i=n.duration;n.attributeName,n.easing;var o=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var l=Ape(n,Cpe),c=b.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||c===0||i<=0)return s;var u=function(h){var f=h.props,m=f.style,g=m===void 0?{}:m,p=f.className,x=b.cloneElement(h,ja(ja({},l),{},{style:ja(ja({},g),d),className:p}));return x};return c===1?u(b.Children.only(s)):z.createElement("div",null,b.Children.map(s,function(h){return u(h)}))}}]),r}(b.PureComponent);Ka.displayName="Animate";Ka.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ka.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(this,arguments)}function Wpe(e,t){return Gpe(e)||Kpe(e,t)||Hpe(e,t)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpe(e,t){if(e){if(typeof e=="string")return g5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g5(e,t)}}function g5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Gpe(e){if(Array.isArray(e))return e}function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){Ype(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ype(e,t,r){return t=Xpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xpe(e){var t=Qpe(e,"string");return jh(t)=="symbol"?t:t+""}function Qpe(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v5=function(e,t,r,n,s){var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],h=0,f=4;h<f;h++)u[h]=s[h]>i?i:s[h];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);d="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},Jpe=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,s=t.x,i=t.y,o=t.width,l=t.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),d=Math.max(s,s+o),u=Math.min(i,i+l),h=Math.max(i,i+l);return r>=c&&r<=d&&n>=u&&n<=h}return!1},Zpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T_=function(e){var t=y5(y5({},Zpe),e),r=b.useRef(),n=b.useState(-1),s=Wpe(n,2),i=s[0],o=s[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&o(j)}catch{}},[]);var l=t.x,c=t.y,d=t.width,u=t.height,h=t.radius,f=t.className,m=t.animationEasing,g=t.animationDuration,p=t.animationBegin,x=t.isAnimationActive,y=t.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var v=Ze("recharts-rectangle",f);return y?z.createElement(Ka,{canBegin:i>0,from:{width:d,height:u,x:l,y:c},to:{width:d,height:u,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(j){var w=j.width,k=j.height,N=j.x,S=j.y;return z.createElement(Ka,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:x,easing:m},z.createElement("path",Ip({},Be(t,!0),{className:v,d:v5(N,S,w,k,h),ref:r})))}):z.createElement("path",Ip({},Be(t,!0),{className:v,d:v5(l,c,d,u,h)}))},ege=["points","className","baseLinePoints","connectNulls"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function tge(e,t){if(e==null)return{};var r=rge(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b5(e){return ige(e)||sge(e)||age(e)||nge()}function nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function age(e,t){if(e){if(typeof e=="string")return dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dw(e,t)}}function sge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ige(e){if(Array.isArray(e))return dw(e)}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w5=function(e){return e&&e.x===+e.x&&e.y===+e.y},oge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(r){w5(r)?t[t.length-1].push(r):t[t.length-1].length>0&&t.push([])}),w5(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},ku=function(e,t){var r=oge(e);t&&(r=[r.reduce(function(s,i){return[].concat(b5(s),b5(i))},[])]);var n=r.map(function(s){return s.reduce(function(i,o,l){return"".concat(i).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(n,"Z"):n},lge=function(e,t,r){var n=ku(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(ku(t.reverse(),r).slice(1))},cge=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,s=e.connectNulls,i=tge(e,ege);if(!t||!t.length)return null;var o=Ze("recharts-polygon",r);if(n&&n.length){var l=i.stroke&&i.stroke!=="none",c=lge(t,n,s);return z.createElement("g",{className:o},z.createElement("path",Yl({},Be(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),l?z.createElement("path",Yl({},Be(i,!0),{fill:"none",d:ku(t,s)})):null,l?z.createElement("path",Yl({},Be(i,!0),{fill:"none",d:ku(n,s)})):null)}var d=ku(t,s);return z.createElement("path",Yl({},Be(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:o,d}))};function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}var rf=function(e){var t=e.cx,r=e.cy,n=e.r,s=e.className,i=Ze("recharts-dot",s);return t===+t&&r===+r&&n===+n?b.createElement("circle",uw({},Be(e,!1),rp(e),{className:i,cx:t,cy:r,r:n})):null};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}var dge=["x","y","top","left","width","height","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(this,arguments)}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){hge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hge(e,t,r){return t=fge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fge(e){var t=mge(e,"string");return _h(t)=="symbol"?t:t+""}function mge(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pge(e,t){if(e==null)return{};var r=gge(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xge=function(e,t,r,n,s,i){return"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},yge=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,s=n===void 0?0:n,i=e.top,o=i===void 0?0:i,l=e.left,c=l===void 0?0:l,d=e.width,u=d===void 0?0:d,h=e.height,f=h===void 0?0:h,m=e.className,g=pge(e,dge),p=uge({x:r,y:s,top:o,left:c,width:u,height:f},g);return!ye(r)||!ye(s)||!ye(u)||!ye(f)||!ye(o)||!ye(c)?null:z.createElement("path",hw({},Be(p,!0),{className:Ze("recharts-cross",m),d:xge(r,s,u,f,o,c)}))},vge=C0,bge=a9,wge=js;function jge(e,t){return e&&e.length?vge(e,wge(t),bge):void 0}var _ge=jge;const Nge=kt(_ge);var kge=C0,Sge=js,Oge=s9;function Pge(e,t){return e&&e.length?kge(e,Sge(t),Oge):void 0}var Ege=Pge;const Cge=kt(Ege);var Age=["cx","cy","angle","ticks","axisLine"],Tge=["ticks","tick","angle","tickFormatter","stroke"];function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}function _5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(r),!0).forEach(function(n){M0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N5(e,t){if(e==null)return{};var r=Dge(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G9(n.key),n)}}function zge(e,t,r){return t&&k5(e.prototype,t),r&&k5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ige(e,t,r){return t=Rp(t),Rge(e,K9()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function Rge(e,t){if(t&&($c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lge(e)}function Lge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K9=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rp(e)}function $ge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fw(e,t)}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fw(e,t)}function M0(e,t,r){return t=G9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=Fge(e,"string");return $c(t)=="symbol"?t:t+""}function Fge(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z0=function(e){function t(){return Mge(this,t),Ige(this,t,arguments)}return $ge(t,e),zge(t,[{key:"getTickValueCoord",value:function(r){var n=r.coordinate,s=this.props,i=s.angle,o=s.cx,l=s.cy;return Wt(o,l,n,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,n;switch(r){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var r=this.props,n=r.cx,s=r.cy,i=r.angle,o=r.ticks,l=Nge(o,function(d){return d.coordinate||0}),c=Cge(o,function(d){return d.coordinate||0});return{cx:n,cy:s,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,s=r.cy,i=r.angle,o=r.ticks,l=r.axisLine,c=N5(r,Age),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),u=Wt(n,s,d[0],i),h=Wt(n,s,d[1],i),f=co(co(co({},Be(c,!1)),{},{fill:"none"},Be(l,!1)),{},{x1:u.x,y1:u.y,x2:h.x,y2:h.y});return z.createElement("line",Su({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var r=this,n=this.props,s=n.ticks,i=n.tick,o=n.angle,l=n.tickFormatter,c=n.stroke,d=N5(n,Tge),u=this.getTickTextAnchor(),h=Be(d,!1),f=Be(i,!1),m=s.map(function(g,p){var x=r.getTickValueCoord(g),y=co(co(co(co({textAnchor:u,transform:"rotate(".concat(90-o,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:c},f),{},{index:p},x),{},{payload:g});return z.createElement(ht,Su({className:Ze("recharts-polar-radius-axis-tick",D9(i)),key:"tick-".concat(g.coordinate)},Jo(r.props,g,p)),t.renderTickItem(i,y,l?l(g.value,p):g.value))});return z.createElement(ht,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,n=r.ticks,s=r.axisLine,i=r.tick;return!n||!n.length?null:z.createElement(ht,{className:Ze("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Mr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,n,s){var i;return z.isValidElement(r)?i=z.cloneElement(r,n):He(r)?i=r(n):i=z.createElement(Zo,Su({},n,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(b.PureComponent);M0(z0,"displayName","PolarRadiusAxis");M0(z0,"axisType","radiusAxis");M0(z0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(this,arguments)}function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){I0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X9(n.key),n)}}function Bge(e,t,r){return t&&O5(e.prototype,t),r&&O5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uge(e,t,r){return t=Lp(t),Wge(e,Y9()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function Wge(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vge(e)}function Vge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y9=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lp(e)}function Hge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mw(e,t)}function mw(e,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mw(e,t)}function I0(e,t,r){return t=X9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X9(e){var t=Kge(e,"string");return Fc(t)=="symbol"?t:t+""}function Kge(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gge=Math.PI/180,P5=1e-5,R0=function(e){function t(){return qge(this,t),Uge(this,t,arguments)}return Hge(t,e),Bge(t,[{key:"getTickLineCoord",value:function(r){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.orientation,c=n.tickSize,d=c||8,u=Wt(s,i,o,r.coordinate),h=Wt(s,i,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:u.x,y1:u.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var n=this.props.orientation,s=Math.cos(-r.coordinate*Gge),i;return s>P5?i=n==="outer"?"start":"end":s<-P5?i=n==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,s=r.cy,i=r.radius,o=r.axisLine,l=r.axisLineType,c=uo(uo({},Be(this.props,!1)),{},{fill:"none"},Be(o,!1));if(l==="circle")return z.createElement(rf,bo({className:"recharts-polar-angle-axis-line"},c,{cx:n,cy:s,r:i}));var d=this.props.ticks,u=d.map(function(h){return Wt(n,s,i,h.coordinate)});return z.createElement(cge,bo({className:"recharts-polar-angle-axis-line"},c,{points:u}))}},{key:"renderTicks",value:function(){var r=this,n=this.props,s=n.ticks,i=n.tick,o=n.tickLine,l=n.tickFormatter,c=n.stroke,d=Be(this.props,!1),u=Be(i,!1),h=uo(uo({},d),{},{fill:"none"},Be(o,!1)),f=s.map(function(m,g){var p=r.getTickLineCoord(m),x=r.getTickTextAnchor(m),y=uo(uo(uo({textAnchor:x},d),{},{stroke:"none",fill:c},u),{},{index:g,payload:m,x:p.x2,y:p.y2});return z.createElement(ht,bo({className:Ze("recharts-polar-angle-axis-tick",D9(i)),key:"tick-".concat(m.coordinate)},Jo(r.props,m,g)),o&&z.createElement("line",bo({className:"recharts-polar-angle-axis-tick-line"},h,p)),i&&t.renderTickItem(i,y,l?l(m.value,g):m.value))});return z.createElement(ht,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var r=this.props,n=r.ticks,s=r.radius,i=r.axisLine;return s<=0||!n||!n.length?null:z.createElement(ht,{className:Ze("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,n,s){var i;return z.isValidElement(r)?i=z.cloneElement(r,n):He(r)?i=r(n):i=z.createElement(Zo,bo({},n,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(b.PureComponent);I0(R0,"displayName","PolarAngleAxis");I0(R0,"axisType","angleAxis");I0(R0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Yge=eT,Xge=Yge(Object.getPrototypeOf,Object),Qge=Xge,Jge=ni,Zge=Qge,e0e=ai,t0e="[object Object]",r0e=Function.prototype,n0e=Object.prototype,Q9=r0e.toString,a0e=n0e.hasOwnProperty,s0e=Q9.call(Object);function i0e(e){if(!e0e(e)||Jge(e)!=t0e)return!1;var t=Zge(e);if(t===null)return!0;var r=a0e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Q9.call(r)==s0e}var o0e=i0e;const l0e=kt(o0e);var c0e=ni,d0e=ai,u0e="[object Boolean]";function h0e(e){return e===!0||e===!1||d0e(e)&&c0e(e)==u0e}var f0e=h0e;const m0e=kt(f0e);function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function p0e(e,t){return v0e(e)||y0e(e,t)||x0e(e,t)||g0e()}function g0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x0e(e,t){if(e){if(typeof e=="string")return E5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E5(e,t)}}function E5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function v0e(e){if(Array.isArray(e))return e}function C5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function A5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(r),!0).forEach(function(n){b0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b0e(e,t,r){return t=w0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0e(e){var t=j0e(e,"string");return Nh(t)=="symbol"?t:t+""}function j0e(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T5=function(e,t,r,n,s){var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},_0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N0e=function(e){var t=A5(A5({},_0e),e),r=b.useRef(),n=b.useState(-1),s=p0e(n,2),i=s[0],o=s[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&o(v)}catch{}},[]);var l=t.x,c=t.y,d=t.upperWidth,u=t.lowerWidth,h=t.height,f=t.className,m=t.animationEasing,g=t.animationDuration,p=t.animationBegin,x=t.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||h!==+h||d===0&&u===0||h===0)return null;var y=Ze("recharts-trapezoid",f);return x?z.createElement(Ka,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:u,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(v){var j=v.upperWidth,w=v.lowerWidth,k=v.height,N=v.x,S=v.y;return z.createElement(Ka,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:m},z.createElement("path",$p({},Be(t,!0),{className:y,d:T5(N,S,j,w,k),ref:r})))}):z.createElement("g",null,z.createElement("path",$p({},Be(t,!0),{className:y,d:T5(l,c,d,u,h)})))},k0e=["option","shapeType","propTransformer","activeClassName","isActive"];function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function S0e(e,t){if(e==null)return{};var r=O0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(r),!0).forEach(function(n){P0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0e(e,t,r){return t=E0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0e(e){var t=C0e(e,"string");return kh(t)=="symbol"?t:t+""}function C0e(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0e(e,t){return Fp(Fp({},t),e)}function T0e(e,t){return e==="symbols"}function M5(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(T_,r);case"trapezoid":return z.createElement(N0e,r);case"sector":return z.createElement(I9,r);case"symbols":if(T0e(t))return z.createElement(Q1,r);break;default:return null}}function D0e(e){return b.isValidElement(e)?e.props:e}function J9(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?A0e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=S0e(e,k0e),d;if(b.isValidElement(t))d=b.cloneElement(t,Fp(Fp({},c),D0e(t)));else if(He(t))d=t(c);else if(l0e(t)&&!m0e(t)){var u=s(t,c);d=z.createElement(M5,{shapeType:r,elementProps:u})}else{var h=c;d=z.createElement(M5,{shapeType:r,elementProps:h})}return l?z.createElement(ht,{className:o},d):d}function L0(e,t){return t!=null&&"trapezoids"in e.props}function $0(e,t){return t!=null&&"sectors"in e.props}function Sh(e,t){return t!=null&&"points"in e.props}function M0e(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function z0e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function I0e(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function R0e(e,t){var r;return L0(e,t)?r=M0e:$0(e,t)?r=z0e:Sh(e,t)&&(r=I0e),r}function L0e(e,t){var r;return L0(e,t)?r="trapezoids":$0(e,t)?r="sectors":Sh(e,t)&&(r="points"),r}function $0e(e,t){if(L0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if($0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sh(e,t)?t.payload:{}}function F0e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=L0e(r,t),i=$0e(r,t),o=n.filter(function(c,d){var u=el(i,c),h=r.props[s].filter(function(g){var p=R0e(r,t);return p(g,t)}),f=r.props[s].indexOf(h[h.length-1]),m=d===f;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var pm;function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e7(n.key),n)}}function B0e(e,t,r){return t&&I5(e.prototype,t),r&&I5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U0e(e,t,r){return t=qp(t),W0e(e,Z9()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function W0e(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V0e(e)}function V0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z9=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qp(e)}function H0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pw(e,t)}function pw(e,t){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pw(e,t)}function oa(e,t,r){return t=e7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=K0e(e,"string");return qc(t)=="symbol"?t:t+""}function K0e(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _s=function(e){function t(r){var n;return q0e(this,t),n=U0e(this,t,[r]),oa(n,"pieRef",null),oa(n,"sectorRefs",[]),oa(n,"id",cl("recharts-pie-")),oa(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),He(s)&&s()}),oa(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),He(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return H0e(t,e),B0e(t,[{key:"isActiveIndex",value:function(r){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(r)!==-1:r===n}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,d=Be(this.props,!1),u=Be(i,!1),h=Be(o,!1),f=i&&i.offsetRadius||20,m=r.map(function(g,p){var x=(g.startAngle+g.endAngle)/2,y=Wt(g.cx,g.cy,g.outerRadius+f,x),v=Bt(Bt(Bt(Bt({},d),g),{},{stroke:"none"},u),{},{index:p,textAnchor:t.getTextAnchor(y.x,g.cx)},y),j=Bt(Bt(Bt(Bt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:p,points:[Wt(g.cx,g.cy,g.outerRadius,x),y]}),w=l;return et(l)&&et(c)?w="value":et(l)&&(w=c),z.createElement(ht,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},o&&t.renderLabelLineItem(o,j,"line"),t.renderLabelItem(i,v,fr(g,w)))});return z.createElement(ht,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var n=this,s=this.props,i=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,d){if(c?.startAngle===0&&c?.endAngle===0&&r.length!==1)return null;var u=n.isActiveIndex(d),h=l&&n.hasActiveIndex()?l:null,f=u?i:h,m=Bt(Bt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return z.createElement(ht,Xl({ref:function(g){g&&!n.sectorRefs.includes(g)&&n.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Jo(n.props,c,d),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(d)}),z.createElement(J9,Xl({option:f,isActive:u,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,n=this.props,s=n.sectors,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,d=n.animationId,u=this.state,h=u.prevSectors,f=u.prevIsAnimationActive;return z.createElement(Ka,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,p=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(v,j){var w=h&&h[j],k=j>0?Gn(v,"paddingAngle",0):0;if(w){var N=Or(w.endAngle-w.startAngle,v.endAngle-v.startAngle),S=Bt(Bt({},v),{},{startAngle:y+k,endAngle:y+N(g)+k});p.push(S),y=S.endAngle}else{var O=v.endAngle,P=v.startAngle,$=Or(0,O-P),T=$(g),I=Bt(Bt({},v),{},{startAngle:y+k,endAngle:y+T+k});p.push(I),y=I.endAngle}}),z.createElement(ht,null,r.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(r){var n=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[i].focus(),n.setState({sectorToFocus:i});break}case"ArrowRight":{var o=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,n=r.sectors,s=r.isAnimationActive,i=this.state.prevSectors;return s&&n&&n.length&&(!i||!el(i,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,n=this.props,s=n.hide,i=n.sectors,o=n.className,l=n.label,c=n.cx,d=n.cy,u=n.innerRadius,h=n.outerRadius,f=n.isAnimationActive,m=this.state.isAnimationFinished;if(s||!i||!i.length||!ye(c)||!ye(d)||!ye(u)||!ye(h))return null;var g=Ze("recharts-pie",o);return z.createElement(ht,{tabIndex:this.props.rootTabIndex,className:g,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(i),Mr.renderCallByParent(this.props,null,!1),(!f||m)&&ms.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return n.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:r.sectors!==n.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,n){return r>n?"start":r<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,n,s){if(z.isValidElement(r))return z.cloneElement(r,n);if(He(r))return r(n);var i=Ze("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(Mo,Xl({},n,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,n,s){if(z.isValidElement(r))return z.cloneElement(r,n);var i=s;if(He(r)&&(i=r(n),z.isValidElement(i)))return i;var o=Ze("recharts-pie-label-text",typeof r!="boolean"&&!He(r)?r.className:"");return z.createElement(Zo,Xl({},n,{alignmentBaseline:"middle",className:o}),i)}}])}(b.PureComponent);pm=_s;oa(_s,"displayName","Pie");oa(_s,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ji.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});oa(_s,"parseDeltaAngle",function(e,t){var r=cn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});oa(_s,"getRealPieData",function(e){var t=e.data,r=e.children,n=Be(e,!1),s=Yn(r,Xh);return t&&t.length?t.map(function(i,o){return Bt(Bt(Bt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Bt(Bt({},n),i.props)}):[]});oa(_s,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=T9(s,i),l=n+dn(e.cx,s,s/2),c=r+dn(e.cy,i,i/2),d=dn(e.innerRadius,o,0),u=dn(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});oa(_s,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Bt(Bt({},t.type.defaultProps),t.props):t.props,s=pm.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,h=n.valueKey,f=n.tooltipType,m=Math.abs(n.minAngle),g=pm.parseCoordinateOfPie(n,r),p=pm.parseDeltaAngle(o,l),x=Math.abs(p),y=d;et(d)&&et(h)?(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):et(d)&&(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var v=s.filter(function(O){return fr(O,y,0)!==0}).length,j=(x>=360?v:v-1)*c,w=x-v*m-j,k=s.reduce(function(O,P){var $=fr(P,y,0);return O+(ye($)?$:0)},0),N;if(k>0){var S;N=s.map(function(O,P){var $=fr(O,y,0),T=fr(O,u,P),I=(ye($)?$:0)/k,D;P?D=S.endAngle+cn(p)*c*($!==0?1:0):D=o;var E=D+cn(p)*(($!==0?m:0)+I*w),q=(D+E)/2,F=(g.innerRadius+g.outerRadius)/2,V=[{name:T,value:$,payload:O,dataKey:y,type:f}],L=Wt(g.cx,g.cy,F,q);return S=Bt(Bt(Bt({percent:I,cornerRadius:i,name:T,tooltipPayload:V,midAngle:q,middleRadius:F,tooltipPosition:L},O),g),{},{value:fr(O,y),startAngle:D,endAngle:E,payload:O,paddingAngle:cn(p)*c}),S})}return Bt(Bt({},g),{},{sectors:N,data:s})});var G0e=Math.ceil,Y0e=Math.max;function X0e(e,t,r,n){for(var s=-1,i=Y0e(G0e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var Q0e=X0e,J0e=vT,R5=1/0,Z0e=17976931348623157e292;function exe(e){if(!e)return e===0?e:0;if(e=J0e(e),e===R5||e===-R5){var t=e<0?-1:1;return t*Z0e}return e===e?e:0}var t7=exe,txe=Q0e,rxe=_0,wy=t7;function nxe(e){return function(t,r,n){return n&&typeof n!="number"&&rxe(t,r,n)&&(r=n=void 0),t=wy(t),r===void 0?(r=t,t=0):r=wy(r),n=n===void 0?t<r?1:-1:wy(n),txe(t,r,n,e)}}var axe=nxe,sxe=axe,ixe=sxe(),oxe=ixe;const Bp=kt(oxe);function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(r),!0).forEach(function(n){r7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7(e,t,r){return t=lxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lxe(e){var t=cxe(e,"string");return Oh(t)=="symbol"?t:t+""}function cxe(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dxe=["Webkit","Moz","O","ms"],uxe=function(e,t){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),n=dxe.reduce(function(s,i){return $5($5({},s),{},r7({},i+r,t))},{});return n[e]=t,n};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){Mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a7(n.key),n)}}function fxe(e,t,r){return t&&q5(e.prototype,t),r&&q5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mxe(e,t,r){return t=Wp(t),pxe(e,n7()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function pxe(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gxe(e)}function gxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n7=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wp(e)}function xxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}function gw(e,t){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},gw(e,t)}function Mn(e,t,r){return t=a7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a7(e){var t=yxe(e,"string");return Bc(t)=="symbol"?t:t+""}function yxe(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vxe=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,s=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,c=_u().domain(Bp(0,l)).range([s,s+i-o]),d=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:d}},B5=function(e){return e.changedTouches&&!!e.changedTouches.length},Uc=function(e){function t(r){var n;return hxe(this,t),n=mxe(this,t,[r]),Mn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Mn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Mn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Mn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mn(n,"handleSlideDragStart",function(s){var i=B5(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xxe(t,e),fxe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,s=r.endX,i=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,u=Math.min(n,s),h=Math.max(n,s),f=t.getIndexInRange(i,u),m=t.getIndexInRange(i,h);return{startIndex:f-f%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(r){var n=this.props,s=n.data,i=n.tickFormatter,o=n.dataKey,l=fr(s[r],o,r);return He(i)?i(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,s=n.slideMoveStartX,i=n.startX,o=n.endX,l=this.props,c=l.x,d=l.width,u=l.travellerWidth,h=l.startIndex,f=l.endIndex,m=l.onChange,g=r.pageX-s;g>0?g=Math.min(g,c+d-u-o,c+d-u-i):g<0&&(g=Math.max(g,c-i,c-o));var p=this.getIndex({startX:i+g,endX:o+g});(p.startIndex!==h||p.endIndex!==f)&&m&&m(p),this.setState({startX:i+g,endX:o+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var s=B5(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,s=n.brushMoveStartX,i=n.movingTravellerId,o=n.endX,l=n.startX,c=this.state[i],d=this.props,u=d.x,h=d.width,f=d.travellerWidth,m=d.onChange,g=d.gap,p=d.data,x={startX:this.state.startX,endX:this.state.endX},y=r.pageX-s;y>0?y=Math.min(y,u+h-f-c):y<0&&(y=Math.max(y,u-c)),x[i]=c+y;var v=this.getIndex(x),j=v.startIndex,w=v.endIndex,k=function(){var N=p.length-1;return i==="startX"&&(o>l?j%g===0:w%g===0)||o<l&&w===N||i==="endX"&&(o>l?w%g===0:j%g===0)||o>l&&w===N};this.setState(Mn(Mn({},i,c+y),"brushMoveStartX",r.pageX),function(){m&&k()&&m(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var s=this,i=this.state,o=i.scaleValues,l=i.startX,c=i.endX,d=this.state[n],u=o.indexOf(d);if(u!==-1){var h=u+r;if(!(h===-1||h>=o.length)){var f=o[h];n==="startX"&&f>=c||n==="endX"&&f<=l||this.setState(Mn({},n,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,s=r.y,i=r.width,o=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:n,y:s,width:i,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,s=r.y,i=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,u=b.Children.only(c);return u?z.cloneElement(u,{x:n,y:s,width:i,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,n){var s,i,o=this,l=this.props,c=l.y,d=l.travellerWidth,u=l.height,h=l.traveller,f=l.ariaLabel,m=l.data,g=l.startIndex,p=l.endIndex,x=Math.max(r,this.props.x),y=jy(jy({},Be(this.props,!1)),{},{x,y:c,width:d,height:u}),v=f||"Min value: ".concat((s=m[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=m[p])===null||i===void 0?void 0:i.name);return z.createElement(ht,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),o.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(r,n){var s=this.props,i=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,n)+c,u=Math.max(Math.abs(n-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:i,width:u,height:o})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,s=r.endIndex,i=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,u=d.startX,h=d.endX,f=5,m={pointerEvents:"none",fill:c};return z.createElement(ht,{className:"recharts-brush-texts"},z.createElement(Zo,Up({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,h)-f,y:i+o/2},m),this.getTextOfTick(n)),z.createElement(Zo,Up({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,h)+l+f,y:i+o/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,n=r.data,s=r.className,i=r.children,o=r.x,l=r.y,c=r.width,d=r.height,u=r.alwaysShowText,h=this.state,f=h.startX,m=h.endX,g=h.isTextActive,p=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!n||!n.length||!ye(o)||!ye(l)||!ye(c)||!ye(d)||c<=0||d<=0)return null;var v=Ze("recharts-brush",s),j=z.Children.count(i)===1,w=uxe("userSelect","none");return z.createElement(ht,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(g||p||x||y||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,s=r.y,i=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:n,y:s,width:i,height:o,fill:l,stroke:"none"}),z.createElement("line",{x1:n+1,y1:c,x2:n+i-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:n+1,y1:c+2,x2:n+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var s;return z.isValidElement(r)?s=z.cloneElement(r,n):He(r)?s=r(n):s=t.renderDefaultTraveller(n),s}},{key:"getDerivedStateFromProps",value:function(r,n){var s=r.data,i=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,u=r.endIndex;if(s!==n.prevData||c!==n.prevUpdateId)return jy({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:i},s&&s.length?vxe({data:s,width:i,x:o,travellerWidth:l,startIndex:d,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(i!==n.prevWidth||o!==n.prevX||l!==n.prevTravellerWidth)){n.scale.range([o,o+i-l]);var h=n.scale.domain().map(function(f){return n.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:i,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,n){for(var s=r.length,i=0,o=s-1;o-i>1;){var l=Math.floor((i+o)/2);r[l]>n?o=l:i=l}return n>=r[o]?o:i}}])}(b.PureComponent);Mn(Uc,"displayName","Brush");Mn(Uc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bxe=a_;function wxe(e,t){var r;return bxe(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var jxe=wxe,_xe=HA,Nxe=js,kxe=jxe,Sxe=An,Oxe=_0;function Pxe(e,t,r){var n=Sxe(e)?_xe:kxe;return r&&Oxe(e,t,r)&&(t=void 0),n(e,Nxe(t))}var Exe=Pxe;const Cxe=kt(Exe);var ps=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},U5=mT;function Axe(e,t,r){t=="__proto__"&&U5?U5(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Txe=Axe,Dxe=Txe,Mxe=hT,zxe=js;function Ixe(e,t){var r={};return t=zxe(t),Mxe(e,function(n,s,i){Dxe(r,s,t(n,s,i))}),r}var Rxe=Ixe;const Lxe=kt(Rxe);function $xe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Fxe=$xe,qxe=a_;function Bxe(e,t){var r=!0;return qxe(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var Uxe=Bxe,Wxe=Fxe,Vxe=Uxe,Hxe=js,Kxe=An,Gxe=_0;function Yxe(e,t,r){var n=Kxe(e)?Wxe:Vxe;return r&&Gxe(e,t,r)&&(t=void 0),n(e,Hxe(t))}var Xxe=Yxe;const s7=kt(Xxe);var Qxe=["x","y"];function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(this,arguments)}function W5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(r),!0).forEach(function(n){Jxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jxe(e,t,r){return t=Zxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zxe(e){var t=eye(e,"string");return Ph(t)=="symbol"?t:t+""}function eye(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tye(e,t){if(e==null)return{};var r=rye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nye(e,t){var r=e.x,n=e.y,s=tye(e,Qxe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),h="".concat(t.width||s.width),f=parseInt(h,10);return Jd(Jd(Jd(Jd(Jd({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function V5(e){return z.createElement(J9,xw({shapeType:"rectangle",propTransformer:nye,activeClassName:"recharts-active-bar"},e))}var aye=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var s=ye(r)||EQ(r);return s?e(r,n):(s||rl(),t)}},sye=["value","background"],i7;function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function iye(e,t){if(e==null)return{};var r=oye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(this,arguments)}function H5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(r),!0).forEach(function(n){Pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l7(n.key),n)}}function cye(e,t,r){return t&&K5(e.prototype,t),r&&K5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dye(e,t,r){return t=Hp(t),uye(e,o7()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function uye(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hye(e)}function hye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o7=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hp(e)}function fye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yw(e,t)}function yw(e,t){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},yw(e,t)}function Pi(e,t,r){return t=l7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7(e){var t=mye(e,"string");return Wc(t)=="symbol"?t:t+""}function mye(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ti=function(e){function t(){var r;lye(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=dye(this,t,[].concat(s)),Pi(r,"state",{isAnimationFinished:!1}),Pi(r,"id",cl("recharts-bar-")),Pi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Pi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return fye(t,e),cye(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,s=this.props,i=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,d=Be(this.props,!1);return r&&r.map(function(u,h){var f=h===l,m=f?c:i,g=pr(pr(pr({},d),u),{},{isActive:f,option:m,index:h,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return z.createElement(ht,Vp({className:"recharts-bar-rectangle"},Jo(n.props,u,h),{key:"rectangle-".concat(u?.x,"-").concat(u?.y,"-").concat(u?.value,"-").concat(h)}),z.createElement(V5,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,s=n.data,i=n.layout,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,h=this.state.prevData;return z.createElement(Ka,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,g=s.map(function(p,x){var y=h&&h[x];if(y){var v=Or(y.x,p.x),j=Or(y.y,p.y),w=Or(y.width,p.width),k=Or(y.height,p.height);return pr(pr({},p),{},{x:v(m),y:j(m),width:w(m),height:k(m)})}if(i==="horizontal"){var N=Or(0,p.height),S=N(m);return pr(pr({},p),{},{y:p.y+p.height-S,height:S})}var O=Or(0,p.width),P=O(m);return pr(pr({},p),{},{width:P})});return z.createElement(ht,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,s=r.isAnimationActive,i=this.state.prevData;return s&&n&&n.length&&(!i||!el(i,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,s=n.data,i=n.dataKey,o=n.activeIndex,l=Be(this.props.background,!1);return s.map(function(c,d){c.value;var u=c.background,h=iye(c,sye);if(!u)return null;var f=pr(pr(pr(pr(pr({},h),{},{fill:"#eee"},u),l),Jo(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(V5,Vp({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},f))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,u=Yn(d,tf);if(!u)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,f=function(g,p){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:fr(g,p)}},m={clipPath:r?"url(#clipPath-".concat(n,")"):null};return z.createElement(ht,m,u.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(n,"-").concat(g.props.dataKey),data:i,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,s=r.data,i=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,u=r.width,h=r.height,f=r.isAnimationActive,m=r.background,g=r.id;if(n||!s||!s.length)return null;var p=this.state.isAnimationFinished,x=Ze("recharts-bar",i),y=o&&o.allowDataOverflow,v=l&&l.allowDataOverflow,j=y||v,w=et(g)?this.id:g;return z.createElement(ht,{className:x},y||v?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(w)},z.createElement("rect",{x:y?c:c-u/2,y:v?d:d-h/2,width:y?u:u*2,height:v?h:h*2}))):null,z.createElement(ht,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!f||p)&&ms.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(b.PureComponent);i7=ti;Pi(ti,"displayName","Bar");Pi(ti,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ji.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pi(ti,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,m=Ghe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?pr(pr({},p),r.props):r.props,y=x.dataKey,v=x.children,j=x.minPointSize,w=g==="horizontal"?o:i,k=d?w.scale.domain():null,N=tfe({numericAxis:w}),S=Yn(v,Xh),O=h.map(function(P,$){var T,I,D,E,q,F;d?T=Yhe(d[u+$],k):(T=fr(P,y),Array.isArray(T)||(T=[N,T]));var V=aye(j,i7.defaultProps.minPointSize)(T[1],$);if(g==="horizontal"){var L,G=[o.scale(T[0]),o.scale(T[1])],ee=G[0],ne=G[1];I=I4({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:P,index:$}),D=(L=ne??ee)!==null&&L!==void 0?L:void 0,E=m.size;var R=ee-ne;if(q=Number.isNaN(R)?0:R,F={x:I,y:o.y,width:E,height:o.height},Math.abs(V)>0&&Math.abs(q)<Math.abs(V)){var Y=cn(q||V)*(Math.abs(V)-Math.abs(q));D-=Y,q+=Y}}else{var se=[i.scale(T[0]),i.scale(T[1])],oe=se[0],K=se[1];if(I=oe,D=I4({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:P,index:$}),E=K-oe,q=m.size,F={x:i.x,y:D,width:i.width,height:q},Math.abs(V)>0&&Math.abs(E)<Math.abs(V)){var U=cn(E||V)*(Math.abs(V)-Math.abs(E));E+=U}}return pr(pr(pr({},P),{},{x:I,y:D,width:E,height:q,value:d?T:T[1],payload:P,background:F},S&&S[$]&&S[$].props),{},{tooltipPayload:[C9(r,P)],tooltipPosition:{x:I+E/2,y:D+q/2}})});return pr({data:O,layout:g},f)});function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function pye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c7(n.key),n)}}function gye(e,t,r){return t&&G5(e.prototype,t),r&&G5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y5(Object(r),!0).forEach(function(n){F0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0(e,t,r){return t=c7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c7(e){var t=xye(e,"string");return Eh(t)=="symbol"?t:t+""}function xye(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D_=function(e,t,r,n,s){var i=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!In(c,ti);return d.reduce(function(f,m){var g=t[m],p=g.orientation,x=g.domain,y=g.padding,v=y===void 0?{}:y,j=g.mirror,w=g.reversed,k="".concat(p).concat(j?"Mirror":""),N,S,O,P,$;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=x[1]-x[0],I=1/0,D=g.categoricalDomain.sort(TQ);if(D.forEach(function(Y,se){se>0&&(I=Math.min((Y||0)-(D[se-1]||0),I))}),Number.isFinite(I)){var E=I/T,q=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(N=E*q/2),g.padding==="no-gap"){var F=dn(e.barCategoryGap,E*q),V=E*q/2;N=V-F-(V-F)/q*F}}}n==="xAxis"?S=[r.left+(v.left||0)+(N||0),r.left+r.width-(v.right||0)-(N||0)]:n==="yAxis"?S=l==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(N||0),r.top+r.height-(v.bottom||0)-(N||0)]:S=g.range,w&&(S=[S[1],S[0]]);var L=S9(g,s,h),G=L.scale,ee=L.realScaleType;G.domain(x).range(S),O9(G);var ne=P9(G,Ea(Ea({},g),{},{realScaleType:ee}));n==="xAxis"?($=p==="top"&&!j||p==="bottom"&&j,O=r.left,P=u[k]-$*g.height):n==="yAxis"&&($=p==="left"&&!j||p==="right"&&j,O=u[k]-$*g.width,P=r.top);var R=Ea(Ea(Ea({},g),ne),{},{realScaleType:ee,x:O,y:P,scale:G,width:n==="xAxis"?r.width:g.width,height:n==="yAxis"?r.height:g.height});return R.bandSize=Cp(R,ne),!g.hide&&n==="xAxis"?u[k]+=($?-1:1)*R.height:g.hide||(u[k]+=($?-1:1)*R.width),Ea(Ea({},f),{},F0({},m,R))},{})},d7=function(e,t){var r=e.x,n=e.y,s=t.x,i=t.y;return{x:Math.min(r,s),y:Math.min(n,i),width:Math.abs(s-r),height:Math.abs(i-n)}},yye=function(e){var t=e.x1,r=e.y1,n=e.x2,s=e.y2;return d7({x:t,y:r},{x:n,y:s})},u7=function(){function e(t){pye(this,e),this.scale=t}return gye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,s=r.position;if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();F0(u7,"EPS",1e-4);var M_=function(e){var t=Object.keys(e).reduce(function(r,n){return Ea(Ea({},r),{},F0({},n,u7.create(e[n])))},{});return Ea(Ea({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;return Lxe(r,function(o,l){return t[l].apply(o,{bandAware:s,position:i})})},isInRange:function(r){return s7(r,function(n,s){return t[s].isInRange(n)})}})};function vye(e){return(e%180+180)%180}var bye=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=vye(n),i=s*Math.PI/180,o=Math.atan(r/t),l=i>o&&i<Math.PI-o?r/Math.sin(i):t/Math.cos(i);return Math.abs(l)},wye=js,jye=Yh,_ye=w0;function Nye(e){return function(t,r,n){var s=Object(t);if(!jye(t)){var i=wye(r);t=_ye(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var kye=Nye,Sye=t7;function Oye(e){var t=Sye(e),r=t%1;return t===t?r?t-r:t:0}var Pye=Oye,Eye=iT,Cye=js,Aye=Pye,Tye=Math.max;function Dye(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Aye(r);return s<0&&(s=Tye(n+s,0)),Eye(e,Cye(t),s)}var Mye=Dye,zye=kye,Iye=Mye,Rye=zye(Iye),Lye=Rye;const $ye=kt(Lye);var Fye=zX(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),z_=b.createContext(void 0),I_=b.createContext(void 0),h7=b.createContext(void 0),f7=b.createContext({}),m7=b.createContext(void 0),p7=b.createContext(0),g7=b.createContext(0),X5=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,s=t.offset,i=e.clipPathId,o=e.children,l=e.width,c=e.height,d=Fye(s);return z.createElement(z_.Provider,{value:r},z.createElement(I_.Provider,{value:n},z.createElement(f7.Provider,{value:s},z.createElement(h7.Provider,{value:d},z.createElement(m7.Provider,{value:i},z.createElement(p7.Provider,{value:c},z.createElement(g7.Provider,{value:l},o)))))))},qye=function(){return b.useContext(m7)},x7=function(e){var t=b.useContext(z_);t==null&&rl();var r=t[e];return r==null&&rl(),r},Bye=function(){var e=b.useContext(z_);return _i(e)},Uye=function(){var e=b.useContext(I_),t=$ye(e,function(r){return s7(r.domain,Number.isFinite)});return t||_i(e)},y7=function(e){var t=b.useContext(I_);t==null&&rl();var r=t[e];return r==null&&rl(),r},Wye=function(){var e=b.useContext(h7);return e},Vye=function(){return b.useContext(f7)},R_=function(){return b.useContext(g7)},L_=function(){return b.useContext(p7)};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Hye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b7(n.key),n)}}function Gye(e,t,r){return t&&Kye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yye(e,t,r){return t=Kp(t),Xye(e,v7()?Reflect.construct(t,r||[],Kp(e).constructor):t.apply(e,r))}function Xye(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(e)}function Qye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v7=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kp(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vw(e,t)}function vw(e,t){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vw(e,t)}function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(n){$_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $_(e,t,r){return t=b7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7(e){var t=Zye(e,"string");return Vc(t)=="symbol"?t:t+""}function Zye(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eve(e,t){return ave(e)||nve(e,t)||rve(e,t)||tve()}function tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rve(e,t){if(e){if(typeof e=="string")return Z5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(e,t)}}function Z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ave(e){if(Array.isArray(e))return e}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bw.apply(this,arguments)}var sve=function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):He(e)?r=e(t):r=z.createElement("line",bw({},t,{className:"recharts-reference-line-line"})),r},ive=function(e,t,r,n,s,i,o,l,c){var d=s.x,u=s.y,h=s.width,f=s.height;if(r){var m=c.y,g=e.y.apply(m,{position:i});if(ps(c,"discard")&&!e.y.isInRange(g))return null;var p=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?p.reverse():p}if(t){var x=c.x,y=e.x.apply(x,{position:i});if(ps(c,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+f},{x:y,y:u}];return o==="top"?v.reverse():v}if(n){var j=c.segment,w=j.map(function(k){return e.apply(k,{position:i})});return ps(c,"discard")&&Cxe(w,function(k){return!e.isInRange(k)})?null:w}return null};function ove(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=qye(),u=x7(s),h=y7(i),f=Wye();if(!d||!f)return null;La(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=M_({x:u.scale,y:h.scale}),g=Cr(t),p=Cr(r),x=n&&n.length===2,y=ive(m,g,p,x,f,e.position,u.orientation,h.orientation,e);if(!y)return null;var v=eve(y,2),j=v[0],w=j.x,k=j.y,N=v[1],S=N.x,O=N.y,P=ps(e,"hidden")?"url(#".concat(d,")"):void 0,$=J5(J5({clipPath:P},Be(e,!0)),{},{x1:w,y1:k,x2:S,y2:O});return z.createElement(ht,{className:Ze("recharts-reference-line",l)},sve(o,$),Mr.renderCallByParent(e,yye({x1:w,y1:k,x2:S,y2:O})))}var F_=function(e){function t(){return Hye(this,t),Yye(this,t,arguments)}return Jye(t,e),Gye(t,[{key:"render",value:function(){return z.createElement(ove,this.props)}}])}(z.Component);$_(F_,"displayName","ReferenceLine");$_(F_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(this,arguments)}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j7(n.key),n)}}function dve(e,t,r){return t&&cve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uve(e,t,r){return t=Gp(t),hve(e,w7()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}function hve(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fve(e)}function fve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gp(e)}function mve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jw(e,t)}function q0(e,t,r){return t=j7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e){var t=pve(e,"string");return Hc(t)=="symbol"?t:t+""}function pve(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gve=function(e){var t=e.x,r=e.y,n=e.xAxis,s=e.yAxis,i=M_({x:n.scale,y:s.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return ps(e,"discard")&&!i.isInRange(o)?null:o},B0=function(e){function t(){return lve(this,t),uve(this,t,arguments)}return mve(t,e),dve(t,[{key:"render",value:function(){var r=this.props,n=r.x,s=r.y,i=r.r,o=r.alwaysShow,l=r.clipPathId,c=Cr(n),d=Cr(s);if(La(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var u=gve(this.props);if(!u)return null;var h=u.x,f=u.y,m=this.props,g=m.shape,p=m.className,x=ps(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=t3(t3({clipPath:x},Be(this.props,!0)),{},{cx:h,cy:f});return z.createElement(ht,{className:Ze("recharts-reference-dot",p)},t.renderDot(g,y),Mr.renderCallByParent(this.props,{x:h-i,y:f-i,width:2*i,height:2*i}))}}])}(z.Component);q0(B0,"displayName","ReferenceDot");q0(B0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});q0(B0,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):He(e)?r=e(t):r=z.createElement(rf,ww({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){U0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N7(n.key),n)}}function vve(e,t,r){return t&&yve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bve(e,t,r){return t=Yp(t),wve(e,_7()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function wve(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jve(e)}function jve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yp(e)}function _ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nw(e,t)}function Nw(e,t){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Nw(e,t)}function U0(e,t,r){return t=N7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=Nve(e,"string");return Kc(t)=="symbol"?t:t+""}function Nve(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kve=function(e,t,r,n,s){var i=s.x1,o=s.x2,l=s.y1,c=s.y2,d=s.xAxis,u=s.yAxis;if(!d||!u)return null;var h=M_({x:d.scale,y:u.scale}),f={x:e?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:t?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:n?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ps(s,"discard")&&(!h.isInRange(f)||!h.isInRange(m))?null:d7(f,m)},W0=function(e){function t(){return xve(this,t),bve(this,t,arguments)}return _ve(t,e),vve(t,[{key:"render",value:function(){var r=this.props,n=r.x1,s=r.x2,i=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;La(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Cr(n),h=Cr(s),f=Cr(i),m=Cr(o),g=this.props.shape;if(!u&&!h&&!f&&!m&&!g)return null;var p=kve(u,h,f,m,this.props);if(!p&&!g)return null;var x=ps(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(ht,{className:Ze("recharts-reference-area",l)},t.renderRect(g,n3(n3({clipPath:x},Be(this.props,!0)),p)),Mr.renderCallByParent(this.props,p))}}])}(z.Component);U0(W0,"displayName","ReferenceArea");U0(W0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});U0(W0,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):He(e)?r=e(t):r=z.createElement(T_,_w({},t,{className:"recharts-reference-area-rect"})),r});function k7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Sve(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return bye(n,r)}function Ove(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Xp(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Pve(e,t){return k7(e,t+1)}function Eve(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var m=n?.[c];if(m===void 0)return{v:k7(n,d)};var g=c,p,x=function(){return p===void 0&&(p=r(m,g)),p},y=m.coordinate,v=c===0||Xp(e,y,x,u,l);v||(c=0,u=o,d+=1),v&&(u=y+e*(x()/2+s),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){Cve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cve(e,t,r){return t=Ave(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ave(e){var t=Tve(e,"string");return Ch(t)=="symbol"?t:t+""}function Tve(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dve(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(h){var f=i[h],m,g=function(){return m===void 0&&(m=r(f,h)),m};if(h===o-1){var p=e*(f.coordinate+e*g()/2-c);i[h]=f=Vr(Vr({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate})}else i[h]=f=Vr(Vr({},f),{},{tickCoord:f.coordinate});var x=Xp(e,f.tickCoord,g,l,c);x&&(c=f.tickCoord-e*(g()/2+s),i[h]=Vr(Vr({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Mve(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=n[l-1],h=r(u,l-1),f=e*(u.coordinate+e*h/2-d);o[l-1]=u=Vr(Vr({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var m=Xp(e,u.tickCoord,function(){return h},c,d);m&&(d=u.tickCoord-e*(h/2+s),o[l-1]=Vr(Vr({},u),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var v=o[y],j,w=function(){return j===void 0&&(j=r(v,y)),j};if(y===0){var k=e*(v.coordinate-e*w()/2-c);o[y]=v=Vr(Vr({},v),{},{tickCoord:k<0?v.coordinate-k*e:v.coordinate})}else o[y]=v=Vr(Vr({},v),{},{tickCoord:v.coordinate});var N=Xp(e,v.tickCoord,w,c,d);N&&(c=v.tickCoord+e*(w()/2+s),o[y]=Vr(Vr({},v),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function q_(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!s||!s.length||!n)return[];if(ye(c)||Ji.isSsr)return Pve(s,typeof c=="number"&&ye(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=u&&m==="width"?ju(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(v,j){var w=He(d)?d(v.value,j):v.value;return m==="width"?Sve(ju(w,{fontSize:t,letterSpacing:r}),g,h):ju(w,{fontSize:t,letterSpacing:r})[m]},x=s.length>=2?cn(s[1].coordinate-s[0].coordinate):1,y=Ove(i,x,m);return c==="equidistantPreserveStart"?Eve(x,y,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=Mve(x,y,p,s,o,c==="preserveStartEnd"):f=Dve(x,y,p,s,o),f.filter(function(v){return v.isShow}))}var zve=["viewBox"],Ive=["viewBox"],Rve=["ticks"];function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(r),!0).forEach(function(n){B_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _y(e,t){if(e==null)return{};var r=Lve(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O7(n.key),n)}}function Fve(e,t,r){return t&&i3(e.prototype,t),r&&i3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qve(e,t,r){return t=Qp(t),Bve(e,S7()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function Bve(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uve(e)}function Uve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qp(e)}function Wve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},kw(e,t)}function B_(e,t,r){return t=O7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O7(e){var t=Vve(e,"string");return Gc(t)=="symbol"?t:t+""}function Vve(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Od=function(e){function t(r){var n;return $ve(this,t),n=qve(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Wve(t,e),Fve(t,[{key:"shouldComponentUpdate",value:function(r,n){var s=r.viewBox,i=_y(r,zve),o=this.props,l=o.viewBox,c=_y(o,Ive);return!hc(s,l)||!hc(i,c)||!hc(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.tickSize,u=n.mirror,h=n.tickMargin,f,m,g,p,x,y,v=u?-1:1,j=r.tickSize||d,w=ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":f=m=r.coordinate,p=i+ +!u*l,g=p-v*j,y=g-v*h,x=w;break;case"left":g=p=r.coordinate,m=s+ +!u*o,f=m-v*j,x=f-v*h,y=w;break;case"right":g=p=r.coordinate,m=s+ +u*o,f=m+v*j,x=f+v*h,y=w;break;default:f=m=r.coordinate,p=i+ +u*l,g=p+v*j,y=g+v*h,x=w;break}return{line:{x1:f,y1:g,x2:m,y2:p},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,s=r.mirror,i;switch(n){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,s=r.mirror,i="end";switch(n){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,s=r.y,i=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,u=jr(jr(jr({},Be(this.props,!1)),Be(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);u=jr(jr({},u),{},{x1:n,y1:s+h*o,x2:n+i,y2:s+h*o})}else{var f=+(l==="left"&&!c||l==="right"&&c);u=jr(jr({},u),{},{x1:n+f*i,y1:s,x2:n+f*i,y2:s+o})}return z.createElement("line",Ql({},u,{className:Ze("recharts-cartesian-axis-line",Gn(d,"className"))}))}},{key:"renderTicks",value:function(r,n,s){var i=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,u=o.tickFormatter,h=o.unit,f=q_(jr(jr({},this.props),{},{ticks:r}),n,s),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=Be(this.props,!1),x=Be(d,!1),y=jr(jr({},p),{},{fill:"none"},Be(l,!1)),v=f.map(function(j,w){var k=i.getTickLineCoord(j),N=k.line,S=k.tick,O=jr(jr(jr(jr({textAnchor:m,verticalAnchor:g},p),{},{stroke:"none",fill:c},x),S),{},{index:w,payload:j,visibleTicksCount:f.length,tickFormatter:u});return z.createElement(ht,Ql({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Jo(i.props,j,w)),l&&z.createElement("line",Ql({},y,N,{className:Ze("recharts-cartesian-axis-tick-line",Gn(l,"className"))})),d&&t.renderTickItem(d,O,"".concat(He(u)?u(j.value,w):j.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,n=this.props,s=n.axisLine,i=n.width,o=n.height,l=n.ticksGenerator,c=n.className,d=n.hide;if(d)return null;var u=this.props,h=u.ticks,f=_y(u,Rve),m=h;return He(l)&&(m=h&&h.length>0?l(this.props):l(f)),i<=0||o<=0||!m||!m.length?null:z.createElement(ht,{className:Ze("recharts-cartesian-axis",c),ref:function(g){r.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Mr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,s){var i,o=Ze(n.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?i=z.cloneElement(r,jr(jr({},n),{},{className:o})):He(r)?i=r(jr(jr({},n),{},{className:o})):i=z.createElement(Zo,Ql({},n,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(b.Component);B_(Od,"displayName","CartesianAxis");B_(Od,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hve=["x1","y1","x2","y2","key"],Kve=["offset"];function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){Gve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gve(e,t,r){return t=Yve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yve(e){var t=Xve(e,"string");return nl(t)=="symbol"?t:t+""}function Xve(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function l3(e,t){if(e==null)return{};var r=Qve(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jve=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.ry;return z.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function P7(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(He(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=l3(t,Hve),d=Be(c,!1);d.offset;var u=l3(d,Kve);r=z.createElement("line",Po({},u,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Zve(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Kr(Kr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return P7(s,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ebe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Kr(Kr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return P7(s,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tbe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==u[0]&&u.unshift(0);var h=u.map(function(f,m){var g=!u[m+1],p=g?s+o-f:u[m+1]-f;if(p<=0)return null;var x=m%t.length;return z.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function rbe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==u[0]&&u.unshift(0);var h=u.map(function(f,m){var g=!u[m+1],p=g?i+l-f:u[m+1]-f;if(p<=0)return null;var x=m%n.length;return z.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var nbe=function(e,t){var r=e.xAxis,n=e.width,s=e.height,i=e.offset;return k9(q_(Kr(Kr(Kr({},Od.defaultProps),r),{},{ticks:$s(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},abe=function(e,t){var r=e.yAxis,n=e.width,s=e.height,i=e.offset;return k9(q_(Kr(Kr(Kr({},Od.defaultProps),r),{},{ticks:$s(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Ol={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jl(e){var t,r,n,s,i,o,l=R_(),c=L_(),d=Vye(),u=Kr(Kr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ol.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ol.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ol.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ol.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ol.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ol.verticalFill,x:ye(e.x)?e.x:d.left,y:ye(e.y)?e.y:d.top,width:ye(e.width)?e.width:d.width,height:ye(e.height)?e.height:d.height}),h=u.x,f=u.y,m=u.width,g=u.height,p=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,v=Bye(),j=Uye();if(!ye(m)||m<=0||!ye(g)||g<=0||!ye(h)||h!==+h||!ye(f)||f!==+f)return null;var w=u.verticalCoordinatesGenerator||nbe,k=u.horizontalCoordinatesGenerator||abe,N=u.horizontalPoints,S=u.verticalPoints;if((!N||!N.length)&&He(k)){var O=x&&x.length,P=k({yAxis:j?Kr(Kr({},j),{},{ticks:O?x:j.ticks}):void 0,width:l,height:c,offset:d},O?!0:p);La(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nl(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&He(w)){var $=y&&y.length,T=w({xAxis:v?Kr(Kr({},v),{},{ticks:$?y:v.ticks}):void 0,width:l,height:c,offset:d},$?!0:p);La(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nl(T),"]")),Array.isArray(T)&&(S=T)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Jve,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(Zve,Po({},u,{offset:d,horizontalPoints:N,xAxis:v,yAxis:j})),z.createElement(ebe,Po({},u,{offset:d,verticalPoints:S,xAxis:v,yAxis:j})),z.createElement(tbe,Po({},u,{horizontalPoints:N})),z.createElement(rbe,Po({},u,{verticalPoints:S})))}Jl.displayName="CartesianGrid";var sbe=["type","layout","connectNulls","ref"],ibe=["key"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function c3(e,t){if(e==null)return{};var r=obe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function obe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(this,arguments)}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){Ca(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pl(e){return ube(e)||dbe(e)||cbe(e)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(e,t){if(e){if(typeof e=="string")return Sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sw(e,t)}}function dbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ube(e){if(Array.isArray(e))return Sw(e)}function Sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C7(n.key),n)}}function fbe(e,t,r){return t&&u3(e.prototype,t),r&&u3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mbe(e,t,r){return t=Jp(t),pbe(e,E7()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function pbe(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(e)}function gbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jp(e)}function xbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ow(e,t)}function Ca(e,t,r){return t=C7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7(e){var t=ybe(e,"string");return Yc(t)=="symbol"?t:t+""}function ybe(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pd=function(e){function t(){var r;hbe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=mbe(this,t,[].concat(s)),Ca(r,"state",{isAnimationFinished:!0,totalLength:0}),Ca(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ca(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(y,v){return y+v});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,f=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>h){m=[].concat(Pl(c.slice(0,g)),[h-p]);break}var x=m.length%2===0?[0,f]:[f];return[].concat(Pl(t.repeat(c,u)),Pl(m),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Ca(r,"id",cl("recharts-line-")),Ca(r,"pathRef",function(o){r.mainCurve=o}),Ca(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ca(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return xbe(t,e),fbe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,u=Yn(d,tf);if(!u)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:fr(m.payload,g)}},f={clipPath:r?"url(#clipPath-".concat(n,")"):null};return z.createElement(ht,f,u.map(function(m){return z.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,n,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,u=Be(this.props,!1),h=Be(l,!0),f=c.map(function(g,p){var x=Dn(Dn(Dn({key:"dot-".concat(p),r:3},u),h),{},{index:p,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:c});return t.renderDotItem(l,x)}),m={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(s,")"):null};return z.createElement(ht,Ou({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(r,n,s,i){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var u=c3(o,sbe),h=Dn(Dn(Dn({},Be(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(s,")"):null,points:r},i),{},{type:l,layout:c,connectNulls:d});return z.createElement(Mo,Ou({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,n){var s=this,i=this.props,o=i.points,l=i.strokeDasharray,c=i.isAnimationActive,d=i.animationBegin,u=i.animationDuration,h=i.animationEasing,f=i.animationId,m=i.animateNewValues,g=i.width,p=i.height,x=this.state,y=x.prevPoints,v=x.totalLength;return z.createElement(Ka,{begin:d,duration:u,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(y){var k=y.length/o.length,N=o.map(function(T,I){var D=Math.floor(I*k);if(y[D]){var E=y[D],q=Or(E.x,T.x),F=Or(E.y,T.y);return Dn(Dn({},T),{},{x:q(w),y:F(w)})}if(m){var V=Or(g*2,T.x),L=Or(p/2,T.y);return Dn(Dn({},T),{},{x:V(w),y:L(w)})}return Dn(Dn({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(N,r,n)}var S=Or(0,v),O=S(w),P;if(l){var $="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});P=s.getStrokeDasharray(O,v,$)}else P=s.generateSimpleStrokeDasharray(v,O);return s.renderCurveStatically(o,r,n,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,n){var s=this.props,i=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&i&&i.length&&(!c&&d>0||!el(c,i))?this.renderCurveWithAnimation(r,n):this.renderCurveStatically(i,r,n)}},{key:"render",value:function(){var r,n=this.props,s=n.hide,i=n.dot,o=n.points,l=n.className,c=n.xAxis,d=n.yAxis,u=n.top,h=n.left,f=n.width,m=n.height,g=n.isAnimationActive,p=n.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,v=Ze("recharts-line",l),j=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,k=j||w,N=et(p)?this.id:p,S=(r=Be(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=S.r,P=O===void 0?3:O,$=S.strokeWidth,T=$===void 0?2:$,I=xA(i)?i:{},D=I.clipDot,E=D===void 0?!0:D,q=P*2+T;return z.createElement(ht,{className:v},j||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:j?h:h-f/2,y:w?u:u-m/2,width:j?f:f*2,height:w?m:m*2})),!E&&z.createElement("clipPath",{id:"clipPath-dots-".concat(N)},z.createElement("rect",{x:h-q/2,y:u-q/2,width:f+q,height:m+q}))):null,!y&&this.renderCurve(k,N),this.renderErrorBar(k,N),(y||i)&&this.renderDots(k,E,N),(!g||x)&&ms.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,n){for(var s=r.length%2!==0?[].concat(Pl(r),[0]):r,i=[],o=0;o<n;++o)i=[].concat(Pl(i),Pl(s));return i}},{key:"renderDotItem",value:function(r,n){var s;if(z.isValidElement(r))s=z.cloneElement(r,n);else if(He(r))s=r(n);else{var i=n.key,o=c3(n,ibe),l=Ze("recharts-line-dot",typeof r!="boolean"?r.className:"");s=z.createElement(rf,Ou({key:i},o,{className:l}))}return s}}])}(b.PureComponent);Ca(Pd,"displayName","Line");Ca(Pd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ji.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ca(Pd,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,h=c.map(function(f,m){var g=fr(f,o);return u==="horizontal"?{x:Ep({axis:r,ticks:s,bandSize:l,entry:f,index:m}),y:et(g)?null:n.scale(g),value:g,payload:f}:{x:et(g)?null:r.scale(g),y:Ep({axis:n,ticks:i,bandSize:l,entry:f,index:m}),value:g,payload:f}});return Dn({points:h,layout:u},d)});var vbe=["layout","type","stroke","connectNulls","isRange","ref"],bbe=["key"],A7;function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function T7(e,t){if(e==null)return{};var r=wbe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eo.apply(this,arguments)}function h3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M7(n.key),n)}}function _be(e,t,r){return t&&f3(e.prototype,t),r&&f3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nbe(e,t,r){return t=Zp(t),kbe(e,D7()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function kbe(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sbe(e)}function Sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zp(e)}function Obe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pw(e,t)}function ss(e,t,r){return t=M7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=Pbe(e,"string");return Xc(t)=="symbol"?t:t+""}function Pbe(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ii=function(e){function t(){var r;jbe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Nbe(this,t,[].concat(s)),ss(r,"state",{isAnimationFinished:!0}),ss(r,"id",cl("recharts-area-")),ss(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),He(o)&&o()}),ss(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),He(o)&&o()}),r}return Obe(t,e),_be(t,[{key:"renderDots",value:function(r,n,s){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Be(this.props,!1),f=Be(c,!0),m=d.map(function(p,x){var y=gi(gi(gi({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:p.x,cy:p.y,dataKey:u,value:p.value,payload:p.payload,points:d});return t.renderDotItem(c,y)}),g={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(s,")"):null};return z.createElement(ht,Eo({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var n=this.props,s=n.baseLine,i=n.points,o=n.strokeWidth,l=i[0].x,c=i[i.length-1].x,d=r*Math.abs(l-c),u=Oi(i.map(function(h){return h.y||0}));return ye(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(Oi(s.map(function(h){return h.y||0})),u)),ye(u)?z.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var n=this.props,s=n.baseLine,i=n.points,o=n.strokeWidth,l=i[0].y,c=i[i.length-1].y,d=r*Math.abs(l-c),u=Oi(i.map(function(h){return h.x||0}));return ye(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(Oi(s.map(function(h){return h.x||0})),u)),ye(u)?z.createElement("rect",{x:0,y:l<c?l:l-d,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,n,s,i){var o=this.props,l=o.layout,c=o.type,d=o.stroke,u=o.connectNulls,h=o.isRange;o.ref;var f=T7(o,vbe);return z.createElement(ht,{clipPath:s?"url(#clipPath-".concat(i,")"):null},z.createElement(Mo,Eo({},Be(f,!0),{points:r,connectNulls:u,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&z.createElement(Mo,Eo({},Be(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r})),d!=="none"&&h&&z.createElement(Mo,Eo({},Be(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(r,n){var s=this,i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=i.animationBegin,u=i.animationDuration,h=i.animationEasing,f=i.animationId,m=this.state,g=m.prevPoints,p=m.prevBaseLine;return z.createElement(Ka,{begin:d,duration:u,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(g){var v=g.length/o.length,j=o.map(function(S,O){var P=Math.floor(O*v);if(g[P]){var $=g[P],T=Or($.x,S.x),I=Or($.y,S.y);return gi(gi({},S),{},{x:T(y),y:I(y)})}return S}),w;if(ye(l)&&typeof l=="number"){var k=Or(p,l);w=k(y)}else if(et(l)||bd(l)){var N=Or(p,0);w=N(y)}else w=l.map(function(S,O){var P=Math.floor(O*v);if(p[P]){var $=p[P],T=Or($.x,S.x),I=Or($.y,S.y);return gi(gi({},S),{},{x:T(y),y:I(y)})}return S});return s.renderAreaStatically(j,w,r,n)}return z.createElement(ht,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(n)},s.renderClipRect(y))),z.createElement(ht,{clipPath:"url(#animationClipPath-".concat(n,")")},s.renderAreaStatically(o,l,r,n)))})}},{key:"renderArea",value:function(r,n){var s=this.props,i=s.points,o=s.baseLine,l=s.isAnimationActive,c=this.state,d=c.prevPoints,u=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!d&&h>0||!el(d,i)||!el(u,o))?this.renderAreaWithAnimation(r,n):this.renderAreaStatically(i,o,r,n)}},{key:"render",value:function(){var r,n=this.props,s=n.hide,i=n.dot,o=n.points,l=n.className,c=n.top,d=n.left,u=n.xAxis,h=n.yAxis,f=n.width,m=n.height,g=n.isAnimationActive,p=n.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,v=Ze("recharts-area",l),j=u&&u.allowDataOverflow,w=h&&h.allowDataOverflow,k=j||w,N=et(p)?this.id:p,S=(r=Be(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=S.r,P=O===void 0?3:O,$=S.strokeWidth,T=$===void 0?2:$,I=xA(i)?i:{},D=I.clipDot,E=D===void 0?!0:D,q=P*2+T;return z.createElement(ht,{className:v},j||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:j?d:d-f/2,y:w?c:c-m/2,width:j?f:f*2,height:w?m:m*2})),!E&&z.createElement("clipPath",{id:"clipPath-dots-".concat(N)},z.createElement("rect",{x:d-q/2,y:c-q/2,width:f+q,height:m+q}))):null,y?null:this.renderArea(k,N),(i||y)&&this.renderDots(k,E,N),(!g||x)&&ms.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:r.points!==n.curPoints||r.baseLine!==n.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);A7=ii;ss(ii,"displayName","Area");ss(ii,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ji.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ss(ii,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(ye(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});ss(ii,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,m=t.layout,g=d&&d.length,p=A7.getBaseValue(t,r,n,s),x=m==="horizontal",y=!1,v=h.map(function(w,k){var N;g?N=d[u+k]:(N=fr(w,c),Array.isArray(N)?y=!0:N=[p,N]);var S=N[1]==null||g&&fr(w,c)==null;return x?{x:Ep({axis:n,ticks:i,bandSize:l,entry:w,index:k}),y:S?null:s.scale(N[1]),value:N,payload:w}:{x:S?null:n.scale(N[1]),y:Ep({axis:s,ticks:o,bandSize:l,entry:w,index:k}),value:N,payload:w}}),j;return g||y?j=v.map(function(w){var k=Array.isArray(w.value)?w.value[0]:null;return x?{x:w.x,y:k!=null&&w.y!=null?s.scale(k):null}:{x:k!=null?n.scale(k):null,y:w.y}}):j=x?s.scale(p):n.scale(p),gi({points:v,baseLine:j,layout:m,isRange:y},f)});ss(ii,"renderDotItem",function(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(He(e))r=e(t);else{var n=Ze("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=T7(t,bbe);r=z.createElement(rf,Eo({},i,{key:s,className:n}))}return r});function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R7(n.key),n)}}function Abe(e,t,r){return t&&Cbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tbe(e,t,r){return t=eg(t),Dbe(e,z7()?Reflect.construct(t,r||[],eg(e).constructor):t.apply(e,r))}function Dbe(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mbe(e)}function Mbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!e})()}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eg(e)}function zbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}function Ew(e,t){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ew(e,t)}function I7(e,t,r){return t=R7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R7(e){var t=Ibe(e,"string");return Qc(t)=="symbol"?t:t+""}function Ibe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(this,arguments)}function Rbe(e){var t=e.xAxisId,r=R_(),n=L_(),s=x7(t);return s==null?null:b.createElement(Od,Cw({},s,{className:Ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return $s(i,!0)}}))}var is=function(e){function t(){return Ebe(this,t),Tbe(this,t,arguments)}return zbe(t,e),Abe(t,[{key:"render",value:function(){return b.createElement(Rbe,this.props)}}])}(b.Component);I7(is,"displayName","XAxis");I7(is,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F7(n.key),n)}}function Fbe(e,t,r){return t&&$be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qbe(e,t,r){return t=tg(t),Bbe(e,L7()?Reflect.construct(t,r||[],tg(e).constructor):t.apply(e,r))}function Bbe(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ube(e)}function Ube(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!e})()}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tg(e)}function Wbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Aw(e,t)}function $7(e,t,r){return t=F7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e){var t=Vbe(e,"string");return Jc(t)=="symbol"?t:t+""}function Vbe(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}var Hbe=function(e){var t=e.yAxisId,r=R_(),n=L_(),s=y7(t);return s==null?null:b.createElement(Od,Tw({},s,{className:Ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return $s(i,!0)}}))},os=function(e){function t(){return Lbe(this,t),qbe(this,t,arguments)}return Wbe(t,e),Fbe(t,[{key:"render",value:function(){return b.createElement(Hbe,this.props)}}])}(b.Component);$7(os,"displayName","YAxis");$7(os,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function m3(e){return Xbe(e)||Ybe(e)||Gbe(e)||Kbe()}function Kbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gbe(e,t){if(e){if(typeof e=="string")return Dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(e,t)}}function Ybe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xbe(e){if(Array.isArray(e))return Dw(e)}function Dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mw=function(e,t,r,n,s){var i=Yn(e,F_),o=Yn(e,B0),l=[].concat(m3(i),m3(o)),c=Yn(e,W0),d="".concat(n,"Id"),u=n[0],h=t;if(l.length&&(h=l.reduce(function(g,p){if(p.props[d]===r&&ps(p.props,"extendDomain")&&ye(p.props[u])){var x=p.props[u];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),c.length){var f="".concat(u,"1"),m="".concat(u,"2");h=c.reduce(function(g,p){if(p.props[d]===r&&ps(p.props,"extendDomain")&&ye(p.props[f])&&ye(p.props[m])){var x=p.props[f],y=p.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,p){return ye(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},h)),h},q7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,h||c,f),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,f=u.length,m=new Array(f);h<f;h++)m[h]=u[h].fn;return m},l.prototype.listenerCount=function(c){var d=r?r+c:c,u=this._events[d];return u?u.fn?1:u.length:0},l.prototype.emit=function(c,d,u,h,f,m){var g=r?r+c:c;if(!this._events[g])return!1;var p=this._events[g],x=arguments.length,y,v;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),x){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,u),!0;case 4:return p.fn.call(p.context,d,u,h),!0;case 5:return p.fn.call(p.context,d,u,h,f),!0;case 6:return p.fn.call(p.context,d,u,h,f,m),!0}for(v=1,y=new Array(x-1);v<x;v++)y[v-1]=arguments[v];p.fn.apply(p.context,y)}else{var j=p.length,w;for(v=0;v<j;v++)switch(p[v].once&&this.removeListener(c,p[v].fn,void 0,!0),x){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,d);break;case 3:p[v].fn.call(p[v].context,d,u);break;case 4:p[v].fn.call(p[v].context,d,u,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];p[v].fn.apply(p[v].context,y)}}return!0},l.prototype.on=function(c,d,u){return i(this,c,d,u,!1)},l.prototype.once=function(c,d,u){return i(this,c,d,u,!0)},l.prototype.removeListener=function(c,d,u,h){var f=r?r+c:c;if(!this._events[f])return this;if(!d)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===d&&(!h||m.once)&&(!u||m.context===u)&&o(this,f);else{for(var g=0,p=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||u&&m[g].context!==u)&&p.push(m[g]);p.length?this._events[f]=p.length===1?p[0]:p:o(this,f)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(q7);var Qbe=q7.exports;const Jbe=kt(Qbe);var Ny=new Jbe,ky="recharts.syncMouseEvents";function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function Zbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ewe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B7(n.key),n)}}function twe(e,t,r){return t&&ewe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sy(e,t,r){return t=B7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=rwe(e,"string");return Ah(t)=="symbol"?t:t+""}function rwe(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nwe=function(){function e(){Zbe(this,e),Sy(this,"activeIndex",0),Sy(this,"coordinateList",[]),Sy(this,"layout","horizontal")}return twe(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,s=n===void 0?null:n,i=t.container,o=i===void 0?null:i,l=t.layout,c=l===void 0?null:l,d=t.offset,u=d===void 0?null:d,h=t.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),s=n.x,i=n.y,o=n.height,l=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=s+l+c,h=i+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:u,pageY:h})}}}])}();function awe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&ye(n)&&ye(s))return!0}return!1}function swe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function U7(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Wt(t,r,n,s),l=Wt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function iwe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,f=Wt(l,c,d,h),m=Wt(l,c,u,h);n=f.x,s=f.y,i=m.x,o=m.y}else return U7(t);return[{x:n,y:s},{x:i,y:o}]}function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){owe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function owe(e,t,r){return t=lwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lwe(e){var t=cwe(e,"string");return Th(t)=="symbol"?t:t+""}function cwe(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dwe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var g,p=Mo;if(f==="ScatterChart")g=o,p=yge;else if(f==="BarChart")g=swe(h,o,c,u),p=T_;else if(h==="radial"){var x=U7(o),y=x.cx,v=x.cy,j=x.radius,w=x.startAngle,k=x.endAngle;g={cx:y,cy:v,startAngle:w,endAngle:k,innerRadius:j,outerRadius:j},p=I9}else g={points:iwe(h,o,c)},p=Mo;var N=Kf(Kf(Kf(Kf({stroke:"#ccc",pointerEvents:"none"},c),g),Be(m,!1)),{},{payload:l,payloadIndex:d,className:Ze("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,N):b.createElement(p,N)}var uwe=["item"],hwe=["children","className","width","height","style","compact","title","desc"];function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function g3(e,t){return pwe(e)||mwe(e,t)||V7(e,t)||fwe()}function fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function pwe(e){if(Array.isArray(e))return e}function x3(e,t){if(e==null)return{};var r=gwe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ywe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H7(n.key),n)}}function vwe(e,t,r){return t&&ywe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bwe(e,t,r){return t=rg(t),wwe(e,W7()?Reflect.construct(t,r||[],rg(e).constructor):t.apply(e,r))}function wwe(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(e)}function jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!e})()}function rg(e){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rg(e)}function _we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zw(e,t)}function ed(e){return Swe(e)||kwe(e)||V7(e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(e,t){if(e){if(typeof e=="string")return Iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(e,t)}}function kwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Swe(e){if(Array.isArray(e))return Iw(e)}function Iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(r),!0).forEach(function(n){Ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ve(e,t,r){return t=H7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=Owe(e,"string");return Zc(t)=="symbol"?t:t+""}function Owe(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pwe={xAxis:["bottom","top"],yAxis:["left","right"]},Ewe={width:"100%",height:"100%"},K7={x:0,y:0};function Gf(e){return e}var Cwe=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},Awe=function(e,t,r,n){var s=t.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,o=n.radius;return ie(ie(ie({},n),Wt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,c=n.angle;return ie(ie(ie({},n),Wt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return K7},V0=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,s=t.dataEndIndex,i=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(ed(o),ed(c)):o},[]);return i.length>0?i:e&&e.length&&ye(n)&&ye(s)?e.slice(n,s+1):[]};function G7(e){return e==="number"?[0,"auto"]:void 0}var Rw=function(e,t,r,n){var s=e.graphicalItems,i=e.tooltipAxis,o=V0(t,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var d,u=(d=c.props.data)!==null&&d!==void 0?d:t;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var f=u===void 0?o:u;h=tp(f,i.dataKey,n)}else h=u&&u[r]||o[r];return h?[].concat(ed(l),[C9(c,h)]):l},[])},v3=function(e,t,r,n){var s=n||{x:e.chartX,y:e.chartY},i=Cwe(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=Bhe(i,o,c,l);if(d>=0&&c){var u=c[d]&&c[d].value,h=Rw(e,t,d,u),f=Awe(r,o,d,s);return{activeTooltipIndex:d,activeLabel:u,activePayload:h,activeCoordinate:f}}return null},Twe=function(e,t){var r=t.axes,n=t.graphicalItems,s=t.axisType,i=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,d=e.layout,u=e.children,h=e.stackOffset,f=N9(d,s);return r.reduce(function(m,g){var p,x=g.type.defaultProps!==void 0?ie(ie({},g.type.defaultProps),g.props):g.props,y=x.type,v=x.dataKey,j=x.allowDataOverflow,w=x.allowDuplicatedCategory,k=x.scale,N=x.ticks,S=x.includeHidden,O=x[i];if(m[O])return m;var P=V0(e.data,{graphicalItems:n.filter(function(ne){var R,Y=i in ne.props?ne.props[i]:(R=ne.type.defaultProps)===null||R===void 0?void 0:R[i];return Y===O}),dataStartIndex:l,dataEndIndex:c}),$=P.length,T,I,D;awe(x.domain,j,y)&&(T=Xb(x.domain,null,j),f&&(y==="number"||k!=="auto")&&(D=mm(P,v,"category")));var E=G7(y);if(!T||T.length===0){var q,F=(q=x.domain)!==null&&q!==void 0?q:E;if(v){if(T=mm(P,v,y),y==="category"&&f){var V=AQ(T);w&&V?(I=T,T=Bp(0,$)):w||(T=$4(F,T,g).reduce(function(ne,R){return ne.indexOf(R)>=0?ne:[].concat(ed(ne),[R])},[]))}else if(y==="category")w?T=T.filter(function(ne){return ne!==""&&!et(ne)}):T=$4(F,T,g).reduce(function(ne,R){return ne.indexOf(R)>=0||R===""||et(R)?ne:[].concat(ed(ne),[R])},[]);else if(y==="number"){var L=Khe(P,n.filter(function(ne){var R,Y,se=i in ne.props?ne.props[i]:(R=ne.type.defaultProps)===null||R===void 0?void 0:R[i],oe="hide"in ne.props?ne.props.hide:(Y=ne.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return se===O&&(S||!oe)}),v,s,d);L&&(T=L)}f&&(y==="number"||k!=="auto")&&(D=mm(P,v,"category"))}else f?T=Bp(0,$):o&&o[O]&&o[O].hasStack&&y==="number"?T=h==="expand"?[0,1]:E9(o[O].stackGroups,l,c):T=_9(P,n.filter(function(ne){var R=i in ne.props?ne.props[i]:ne.type.defaultProps[i],Y="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return R===O&&(S||!Y)}),y,d,!0);if(y==="number")T=Mw(u,T,O,s,N),F&&(T=Xb(F,T,j));else if(y==="category"&&F){var G=F,ee=T.every(function(ne){return G.indexOf(ne)>=0});ee&&(T=G)}}return ie(ie({},m),{},Ve({},O,ie(ie({},x),{},{axisType:s,domain:T,categoricalDomain:D,duplicateDomain:I,originalDomain:(p=x.domain)!==null&&p!==void 0?p:E,isCategorical:f,layout:d})))},{})},Dwe=function(e,t){var r=t.graphicalItems,n=t.Axis,s=t.axisType,i=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,d=e.layout,u=e.children,h=V0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),f=h.length,m=N9(d,s),g=-1;return r.reduce(function(p,x){var y=x.type.defaultProps!==void 0?ie(ie({},x.type.defaultProps),x.props):x.props,v=y[i],j=G7("number");if(!p[v]){g++;var w;return m?w=Bp(0,f):o&&o[v]&&o[v].hasStack?(w=E9(o[v].stackGroups,l,c),w=Mw(u,w,v,s)):(w=Xb(j,_9(h,r.filter(function(k){var N,S,O=i in k.props?k.props[i]:(N=k.type.defaultProps)===null||N===void 0?void 0:N[i],P="hide"in k.props?k.props.hide:(S=k.type.defaultProps)===null||S===void 0?void 0:S.hide;return O===v&&!P}),"number",d),n.defaultProps.allowDataOverflow),w=Mw(u,w,v,s)),ie(ie({},p),{},Ve({},v,ie(ie({axisType:s},n.defaultProps),{},{hide:!0,orientation:Gn(Pwe,"".concat(s,".").concat(g%2),null),domain:w,originalDomain:j,isCategorical:m,layout:d})))}return p},{})},Mwe=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,s=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,d=e.children,u="".concat(n,"Id"),h=Yn(d,s),f={};return h&&h.length?f=Twe(e,{axes:h,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(f=Dwe(e,{Axis:s,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),f},zwe=function(e){var t=_i(e),r=$s(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:s_(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Cp(t,r)}},b3=function(e){var t=e.children,r=e.defaultShowTooltip,n=In(t,Uc),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(s=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!r}},Iwe=function(e){return!e||!e.length?!1:e.some(function(t){var r=Bs(t&&t.type);return r&&r.indexOf("Bar")>=0})},w3=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rwe=function(e,t){var r=e.props,n=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,u=r.children,h=r.margin||{},f=In(u,Uc),m=In(u,Li),g=Object.keys(l).reduce(function(w,k){var N=l[k],S=N.orientation;return!N.mirror&&!N.hide?ie(ie({},w),{},Ve({},S,w[S]+N.width)):w},{left:h.left||0,right:h.right||0}),p=Object.keys(i).reduce(function(w,k){var N=i[k],S=N.orientation;return!N.mirror&&!N.hide?ie(ie({},w),{},Ve({},S,Gn(w,"".concat(S))+N.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=ie(ie({},p),g),y=x.bottom;f&&(x.bottom+=f.props.height||Uc.defaultProps.height),m&&t&&(x=Vhe(x,n,r,t));var v=c-x.left-x.right,j=d-x.top-x.bottom;return ie(ie({brushBottom:y},x),{},{width:Math.max(v,0),height:Math.max(j,0)})},Lwe=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},H0=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,s=n===void 0?"axis":n,i=e.validateTooltipEventTypes,o=i===void 0?["axis"]:i,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,h=function(p,x){var y=x.graphicalItems,v=x.stackGroups,j=x.offset,w=x.updateId,k=x.dataStartIndex,N=x.dataEndIndex,S=p.barSize,O=p.layout,P=p.barGap,$=p.barCategoryGap,T=p.maxBarSize,I=w3(O),D=I.numericAxisName,E=I.cateAxisName,q=Iwe(y),F=[];return y.forEach(function(V,L){var G=V0(p.data,{graphicalItems:[V],dataStartIndex:k,dataEndIndex:N}),ee=V.type.defaultProps!==void 0?ie(ie({},V.type.defaultProps),V.props):V.props,ne=ee.dataKey,R=ee.maxBarSize,Y=ee["".concat(D,"Id")],se=ee["".concat(E,"Id")],oe={},K=l.reduce(function(Ue,er){var J=x["".concat(er.axisType,"Map")],be=ee["".concat(er.axisType,"Id")];J&&J[be]||er.axisType==="zAxis"||rl();var We=J[be];return ie(ie({},Ue),{},Ve(Ve({},er.axisType,We),"".concat(er.axisType,"Ticks"),$s(We)))},oe),U=K[E],B=K["".concat(E,"Ticks")],W=v&&v[Y]&&v[Y].hasStack&&rfe(V,v[Y].stackGroups),H=Bs(V.type).indexOf("Bar")>=0,X=Cp(U,B),A=[],ce=q&&Uhe({barSize:S,stackGroups:v,totalSize:Lwe(K,E)});if(H){var we,Ee,Se=et(R)?T:R,Te=(we=(Ee=Cp(U,B,!0))!==null&&Ee!==void 0?Ee:Se)!==null&&we!==void 0?we:0;A=Whe({barGap:P,barCategoryGap:$,bandSize:Te!==X?Te:X,sizeList:ce[se],maxBarSize:Se}),Te!==X&&(A=A.map(function(Ue){return ie(ie({},Ue),{},{position:ie(ie({},Ue.position),{},{offset:Ue.position.offset-Te/2})})}))}var Ie=V&&V.type&&V.type.getComposedData;Ie&&F.push({props:ie(ie({},Ie(ie(ie({},K),{},{displayedData:G,props:p,dataKey:ne,item:V,bandSize:X,barPosition:A,offset:j,stackedData:W,layout:O,dataStartIndex:k,dataEndIndex:N}))),{},Ve(Ve(Ve({key:V.key||"item-".concat(L)},D,K[D]),E,K[E]),"animationId",w)),childIndex:WQ(V,p.children),item:V})}),F},f=function(p,x){var y=p.props,v=p.dataStartIndex,j=p.dataEndIndex,w=p.updateId;if(!Dk({props:y}))return null;var k=y.children,N=y.layout,S=y.stackOffset,O=y.data,P=y.reverseStackOrder,$=w3(N),T=$.numericAxisName,I=$.cateAxisName,D=Yn(k,r),E=efe(O,D,"".concat(T,"Id"),"".concat(I,"Id"),S,P),q=l.reduce(function(ee,ne){var R="".concat(ne.axisType,"Map");return ie(ie({},ee),{},Ve({},R,Mwe(y,ie(ie({},ne),{},{graphicalItems:D,stackGroups:ne.axisType===T&&E,dataStartIndex:v,dataEndIndex:j}))))},{}),F=Rwe(ie(ie({},q),{},{props:y,graphicalItems:D}),x?.legendBBox);Object.keys(q).forEach(function(ee){q[ee]=d(y,q[ee],F,ee.replace("Map",""),t)});var V=q["".concat(I,"Map")],L=zwe(V),G=h(y,ie(ie({},q),{},{dataStartIndex:v,dataEndIndex:j,updateId:w,graphicalItems:D,stackGroups:E,offset:F}));return ie(ie({formattedGraphicalItems:G,graphicalItems:D,offset:F,stackGroups:E},L),q)},m=function(p){function x(y){var v,j,w;return xwe(this,x),w=bwe(this,x,[y]),Ve(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(w,"accessibilityManager",new nwe),Ve(w,"handleLegendBBoxUpdate",function(k){if(k){var N=w.state,S=N.dataStartIndex,O=N.dataEndIndex,P=N.updateId;w.setState(ie({legendBBox:k},f({props:w.props,dataStartIndex:S,dataEndIndex:O,updateId:P},ie(ie({},w.state),{},{legendBBox:k}))))}}),Ve(w,"handleReceiveSyncEvent",function(k,N,S){if(w.props.syncId===k){if(S===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(N)}}),Ve(w,"handleBrushChange",function(k){var N=k.startIndex,S=k.endIndex;if(N!==w.state.dataStartIndex||S!==w.state.dataEndIndex){var O=w.state.updateId;w.setState(function(){return ie({dataStartIndex:N,dataEndIndex:S},f({props:w.props,dataStartIndex:N,dataEndIndex:S,updateId:O},w.state))}),w.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),Ve(w,"handleMouseEnter",function(k){var N=w.getMouseInfo(k);if(N){var S=ie(ie({},N),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var O=w.props.onMouseEnter;He(O)&&O(S,k)}}),Ve(w,"triggeredAfterMouseMove",function(k){var N=w.getMouseInfo(k),S=N?ie(ie({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var O=w.props.onMouseMove;He(O)&&O(S,k)}),Ve(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ve(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ve(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),Ve(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var S=w.props.onMouseLeave;He(S)&&S(N,k)}),Ve(w,"handleOuterEvent",function(k){var N=UQ(k),S=Gn(w.props,"".concat(N));if(N&&He(S)){var O,P;/.*touch.*/i.test(N)?P=w.getMouseInfo(k.changedTouches[0]):P=w.getMouseInfo(k),S((O=P)!==null&&O!==void 0?O:{},k)}}),Ve(w,"handleClick",function(k){var N=w.getMouseInfo(k);if(N){var S=ie(ie({},N),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var O=w.props.onClick;He(O)&&O(S,k)}}),Ve(w,"handleMouseDown",function(k){var N=w.props.onMouseDown;if(He(N)){var S=w.getMouseInfo(k);N(S,k)}}),Ve(w,"handleMouseUp",function(k){var N=w.props.onMouseUp;if(He(N)){var S=w.getMouseInfo(k);N(S,k)}}),Ve(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ve(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),Ve(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),Ve(w,"handleDoubleClick",function(k){var N=w.props.onDoubleClick;if(He(N)){var S=w.getMouseInfo(k);N(S,k)}}),Ve(w,"handleContextMenu",function(k){var N=w.props.onContextMenu;if(He(N)){var S=w.getMouseInfo(k);N(S,k)}}),Ve(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&Ny.emit(ky,w.props.syncId,k,w.eventEmitterSymbol)}),Ve(w,"applySyncEvent",function(k){var N=w.props,S=N.layout,O=N.syncMethod,P=w.state.updateId,$=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(ie({dataStartIndex:$,dataEndIndex:T},f({props:w.props,dataStartIndex:$,dataEndIndex:T,updateId:P},w.state)));else if(k.activeTooltipIndex!==void 0){var I=k.chartX,D=k.chartY,E=k.activeTooltipIndex,q=w.state,F=q.offset,V=q.tooltipTicks;if(!F)return;if(typeof O=="function")E=O(V,k);else if(O==="value"){E=-1;for(var L=0;L<V.length;L++)if(V[L].value===k.activeLabel){E=L;break}}var G=ie(ie({},F),{},{x:F.left,y:F.top}),ee=Math.min(I,G.x+G.width),ne=Math.min(D,G.y+G.height),R=V[E]&&V[E].value,Y=Rw(w.state,w.props.data,E),se=V[E]?{x:S==="horizontal"?V[E].coordinate:ee,y:S==="horizontal"?ne:V[E].coordinate}:K7;w.setState(ie(ie({},k),{},{activeLabel:R,activeCoordinate:se,activePayload:Y,activeTooltipIndex:E}))}else w.setState(k)}),Ve(w,"renderCursor",function(k){var N,S=w.state,O=S.isTooltipActive,P=S.activeCoordinate,$=S.activePayload,T=S.offset,I=S.activeTooltipIndex,D=S.tooltipAxisBandSize,E=w.getTooltipEventType(),q=(N=k.props.active)!==null&&N!==void 0?N:O,F=w.props.layout,V=k.key||"_recharts-cursor";return z.createElement(dwe,{key:V,activeCoordinate:P,activePayload:$,activeTooltipIndex:I,chartName:t,element:k,isActive:q,layout:F,offset:T,tooltipAxisBandSize:D,tooltipEventType:E})}),Ve(w,"renderPolarAxis",function(k,N,S){var O=Gn(k,"type.axisType"),P=Gn(w.state,"".concat(O,"Map")),$=k.type.defaultProps,T=$!==void 0?ie(ie({},$),k.props):k.props,I=P&&P[T["".concat(O,"Id")]];return b.cloneElement(k,ie(ie({},I),{},{className:Ze(O,I.className),key:k.key||"".concat(N,"-").concat(S),ticks:$s(I,!0)}))}),Ve(w,"renderPolarGrid",function(k){var N=k.props,S=N.radialLines,O=N.polarAngles,P=N.polarRadius,$=w.state,T=$.radiusAxisMap,I=$.angleAxisMap,D=_i(T),E=_i(I),q=E.cx,F=E.cy,V=E.innerRadius,L=E.outerRadius;return b.cloneElement(k,{polarAngles:Array.isArray(O)?O:$s(E,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:$s(D,!0).map(function(G){return G.coordinate}),cx:q,cy:F,innerRadius:V,outerRadius:L,key:k.key||"polar-grid",radialLines:S})}),Ve(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,N=w.props,S=N.children,O=N.width,P=N.height,$=w.props.margin||{},T=O-($.left||0)-($.right||0),I=w9({children:S,formattedGraphicalItems:k,legendWidth:T,legendContent:c});if(!I)return null;var D=I.item,E=x3(I,uwe);return b.cloneElement(D,ie(ie({},E),{},{chartWidth:O,chartHeight:P,margin:$,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ve(w,"renderTooltip",function(){var k,N=w.props,S=N.children,O=N.accessibilityLayer,P=In(S,an);if(!P)return null;var $=w.state,T=$.isTooltipActive,I=$.activeCoordinate,D=$.activePayload,E=$.activeLabel,q=$.offset,F=(k=P.props.active)!==null&&k!==void 0?k:T;return b.cloneElement(P,{viewBox:ie(ie({},q),{},{x:q.left,y:q.top}),active:F,label:E,payload:F?D:[],coordinate:I,accessibilityLayer:O})}),Ve(w,"renderBrush",function(k){var N=w.props,S=N.margin,O=N.data,P=w.state,$=P.offset,T=P.dataStartIndex,I=P.dataEndIndex,D=P.updateId;return b.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Uf(w.handleBrushChange,k.props.onChange),data:O,x:ye(k.props.x)?k.props.x:$.left,y:ye(k.props.y)?k.props.y:$.top+$.height+$.brushBottom-(S.bottom||0),width:ye(k.props.width)?k.props.width:$.width,startIndex:T,endIndex:I,updateId:"brush-".concat(D)})}),Ve(w,"renderReferenceElement",function(k,N,S){if(!k)return null;var O=w,P=O.clipPathId,$=w.state,T=$.xAxisMap,I=$.yAxisMap,D=$.offset,E=k.type.defaultProps||{},q=k.props,F=q.xAxisId,V=F===void 0?E.xAxisId:F,L=q.yAxisId,G=L===void 0?E.yAxisId:L;return b.cloneElement(k,{key:k.key||"".concat(N,"-").concat(S),xAxis:T[V],yAxis:I[G],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:P})}),Ve(w,"renderActivePoints",function(k){var N=k.item,S=k.activePoint,O=k.basePoint,P=k.childIndex,$=k.isRange,T=[],I=N.props.key,D=N.item.type.defaultProps!==void 0?ie(ie({},N.item.type.defaultProps),N.item.props):N.item.props,E=D.activeDot,q=D.dataKey,F=ie(ie({index:P,dataKey:q,cx:S.x,cy:S.y,r:4,fill:A_(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Be(E,!1)),rp(E));return T.push(x.renderActiveDot(E,F,"".concat(I,"-activePoint-").concat(P))),O?T.push(x.renderActiveDot(E,ie(ie({},F),{},{cx:O.x,cy:O.y}),"".concat(I,"-basePoint-").concat(P))):$&&T.push(null),T}),Ve(w,"renderGraphicChild",function(k,N,S){var O=w.filterFormatItem(k,N,S);if(!O)return null;var P=w.getTooltipEventType(),$=w.state,T=$.isTooltipActive,I=$.tooltipAxis,D=$.activeTooltipIndex,E=$.activeLabel,q=w.props.children,F=In(q,an),V=O.props,L=V.points,G=V.isRange,ee=V.baseLine,ne=O.item.type.defaultProps!==void 0?ie(ie({},O.item.type.defaultProps),O.item.props):O.item.props,R=ne.activeDot,Y=ne.hide,se=ne.activeBar,oe=ne.activeShape,K=!!(!Y&&T&&F&&(R||se||oe)),U={};P!=="axis"&&F&&F.props.trigger==="click"?U={onClick:Uf(w.handleItemMouseEnter,k.props.onClick)}:P!=="axis"&&(U={onMouseLeave:Uf(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Uf(w.handleItemMouseEnter,k.props.onMouseEnter)});var B=b.cloneElement(k,ie(ie({},O.props),U));function W(J){return typeof I.dataKey=="function"?I.dataKey(J.payload):null}if(K)if(D>=0){var H,X;if(I.dataKey&&!I.allowDuplicatedCategory){var A=typeof I.dataKey=="function"?W:"payload.".concat(I.dataKey.toString());H=tp(L,A,E),X=G&&ee&&tp(ee,A,E)}else H=L?.[D],X=G&&ee&&ee[D];if(oe||se){var ce=k.props.activeIndex!==void 0?k.props.activeIndex:D;return[b.cloneElement(k,ie(ie(ie({},O.props),U),{},{activeIndex:ce})),null,null]}if(!et(H))return[B].concat(ed(w.renderActivePoints({item:O,activePoint:H,basePoint:X,childIndex:D,isRange:G})))}else{var we,Ee=(we=w.getItemByXY(w.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:B},Se=Ee.graphicalItem,Te=Se.item,Ie=Te===void 0?k:Te,Ue=Se.childIndex,er=ie(ie(ie({},O.props),U),{},{activeIndex:Ue});return[b.cloneElement(Ie,er),null,null]}return G?[B,null,null]:[B,null]}),Ve(w,"renderCustomized",function(k,N,S){return b.cloneElement(k,ie(ie({key:"recharts-customized-".concat(S)},w.props),w.state))}),Ve(w,"renderMap",{CartesianGrid:{handler:Gf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Gf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Gf},YAxis:{handler:Gf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:cl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=bT(w.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return _we(x,p),vwe(x,[{key:"componentDidMount",value:function(){var y,v;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(v=this.props.margin.top)!==null&&v!==void 0?v:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,v=y.children,j=y.data,w=y.height,k=y.layout,N=In(v,an);if(N){var S=N.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,P=Rw(this.state,j,S,O),$=this.state.tooltipTicks[S].coordinate,T=(this.state.offset.top+w)/2,I=k==="horizontal",D=I?{x:$,y:T}:{y:$,x:T},E=this.state.formattedGraphicalItems.find(function(F){var V=F.item;return V.type.name==="Scatter"});E&&(D=ie(ie({},D),E.props.points[S].tooltipPosition),P=E.props.points[S].tooltipPayload);var q={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:O,activePayload:P,activeCoordinate:D};this.setState(q),this.renderCursor(N),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,v){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==v.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var j,w;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(y){ub([In(y.children,an)],[In(this.props.children,an)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=In(this.props.children,an);if(y&&typeof y.props.shared=="boolean"){var v=y.props.shared?"axis":"item";return o.indexOf(v)>=0?v:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var v=this.container,j=v.getBoundingClientRect(),w=gle(j),k={chartX:Math.round(y.pageX-w.left),chartY:Math.round(y.pageY-w.top)},N=j.width/v.offsetWidth||1,S=this.inRange(k.chartX,k.chartY,N);if(!S)return null;var O=this.state,P=O.xAxisMap,$=O.yAxisMap,T=this.getTooltipEventType(),I=v3(this.state,this.props.data,this.props.layout,S);if(T!=="axis"&&P&&$){var D=_i(P).scale,E=_i($).scale,q=D&&D.invert?D.invert(k.chartX):null,F=E&&E.invert?E.invert(k.chartY):null;return ie(ie({},k),{},{xValue:q,yValue:F},I)}return I?ie(ie({},k),I):null}},{key:"inRange",value:function(y,v){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,k=y/j,N=v/j;if(w==="horizontal"||w==="vertical"){var S=this.state.offset,O=k>=S.left&&k<=S.left+S.width&&N>=S.top&&N<=S.top+S.height;return O?{x:k,y:N}:null}var P=this.state,$=P.angleAxisMap,T=P.radiusAxisMap;if($&&T){var I=_i($);return B4({x:k,y:N},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,v=this.getTooltipEventType(),j=In(y,an),w={};j&&v==="axis"&&(j.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=rp(this.props,this.handleOuterEvent);return ie(ie({},k),w)}},{key:"addListener",value:function(){Ny.on(ky,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ny.removeListener(ky,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,v,j){for(var w=this.state.formattedGraphicalItems,k=0,N=w.length;k<N;k++){var S=w[k];if(S.item===y||S.props.key===y.key||v===Bs(S.item.type)&&j===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,v=this.state.offset,j=v.left,w=v.top,k=v.height,N=v.width;return z.createElement("defs",null,z.createElement("clipPath",{id:y},z.createElement("rect",{x:j,y:w,height:k,width:N})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(v,j){var w=g3(j,2),k=w[0],N=w[1];return ie(ie({},v),{},Ve({},k,N.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(v,j){var w=g3(j,2),k=w[0],N=w[1];return ie(ie({},v),{},Ve({},k,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var v;return(v=this.state.xAxisMap)===null||v===void 0||(v=v[y])===null||v===void 0?void 0:v.scale}},{key:"getYScaleByAxisId",value:function(y){var v;return(v=this.state.yAxisMap)===null||v===void 0||(v=v[y])===null||v===void 0?void 0:v.scale}},{key:"getItemByXY",value:function(y){var v=this.state,j=v.formattedGraphicalItems,w=v.activeItem;if(j&&j.length)for(var k=0,N=j.length;k<N;k++){var S=j[k],O=S.props,P=S.item,$=P.type.defaultProps!==void 0?ie(ie({},P.type.defaultProps),P.props):P.props,T=Bs(P.type);if(T==="Bar"){var I=(O.data||[]).find(function(F){return Jpe(y,F)});if(I)return{graphicalItem:S,payload:I}}else if(T==="RadialBar"){var D=(O.data||[]).find(function(F){return B4(y,F)});if(D)return{graphicalItem:S,payload:D}}else if(L0(S,w)||$0(S,w)||Sh(S,w)){var E=F0e({graphicalItem:S,activeTooltipItem:w,itemData:$.data}),q=$.activeIndex===void 0?E:$.activeIndex;return{graphicalItem:ie(ie({},S),{},{childIndex:q}),payload:Sh(S,w)?$.data[E]:S.props.data[E]}}}return null}},{key:"render",value:function(){var y=this;if(!Dk(this))return null;var v=this.props,j=v.children,w=v.className,k=v.width,N=v.height,S=v.style,O=v.compact,P=v.title,$=v.desc,T=x3(v,hwe),I=Be(T,!1);if(O)return z.createElement(X5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(fb,Zl({},I,{width:k,height:N,title:P,desc:$}),this.renderClipPath(),zk(j,this.renderMap)));if(this.props.accessibilityLayer){var D,E;I.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,I.role=(E=this.props.role)!==null&&E!==void 0?E:"application",I.onKeyDown=function(F){y.accessibilityManager.keyboardEvent(F)},I.onFocus=function(){y.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return z.createElement(X5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Zl({className:Ze("recharts-wrapper",w),style:ie({position:"relative",cursor:"default",width:k,height:N},S)},q,{ref:function(F){y.container=F}}),z.createElement(fb,Zl({},I,{width:k,height:N,title:P,desc:$,style:Ewe}),this.renderClipPath(),zk(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ve(m,"displayName",t),Ve(m,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Ve(m,"getDerivedStateFromProps",function(p,x){var y=p.dataKey,v=p.data,j=p.children,w=p.width,k=p.height,N=p.layout,S=p.stackOffset,O=p.margin,P=x.dataStartIndex,$=x.dataEndIndex;if(x.updateId===void 0){var T=b3(p);return ie(ie(ie({},T),{},{updateId:0},f(ie(ie({props:p},T),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:v,prevWidth:w,prevHeight:k,prevLayout:N,prevStackOffset:S,prevMargin:O,prevChildren:j})}if(y!==x.prevDataKey||v!==x.prevData||w!==x.prevWidth||k!==x.prevHeight||N!==x.prevLayout||S!==x.prevStackOffset||!hc(O,x.prevMargin)){var I=b3(p),D={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},E=ie(ie({},v3(x,v,N)),{},{updateId:x.updateId+1}),q=ie(ie(ie({},I),D),E);return ie(ie(ie({},q),f(ie({props:p},q),x)),{},{prevDataKey:y,prevData:v,prevWidth:w,prevHeight:k,prevLayout:N,prevStackOffset:S,prevMargin:O,prevChildren:j})}if(!ub(j,x.prevChildren)){var F,V,L,G,ee=In(j,Uc),ne=ee&&(F=(V=ee.props)===null||V===void 0?void 0:V.startIndex)!==null&&F!==void 0?F:P,R=ee&&(L=(G=ee.props)===null||G===void 0?void 0:G.endIndex)!==null&&L!==void 0?L:$,Y=ne!==P||R!==$,se=!et(v),oe=se&&!Y?x.updateId:x.updateId+1;return ie(ie({updateId:oe},f(ie(ie({props:p},x),{},{updateId:oe,dataStartIndex:ne,dataEndIndex:R}),x)),{},{prevChildren:j,dataStartIndex:ne,dataEndIndex:R})}return null}),Ve(m,"renderActiveDot",function(p,x,y){var v;return b.isValidElement(p)?v=b.cloneElement(p,x):He(p)?v=p(x):v=z.createElement(rf,x),z.createElement(ht,{className:"recharts-active-dot",key:y},v)});var g=b.forwardRef(function(p,x){return z.createElement(m,Zl({},p,{ref:x}))});return g.displayName=m.displayName,g},Y7=H0({chartName:"LineChart",GraphicalChild:Pd,axisComponents:[{axisType:"xAxis",AxisComp:is},{axisType:"yAxis",AxisComp:os}],formatAxisMap:D_}),Lw=H0({chartName:"BarChart",GraphicalChild:ti,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:is},{axisType:"yAxis",AxisComp:os}],formatAxisMap:D_}),X7=H0({chartName:"PieChart",GraphicalChild:_s,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:R0},{axisType:"radiusAxis",AxisComp:z0}],formatAxisMap:hfe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Q7=H0({chartName:"AreaChart",GraphicalChild:ii,axisComponents:[{axisType:"xAxis",AxisComp:is},{axisType:"yAxis",AxisComp:os}],formatAxisMap:D_});function $we(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var U_="ScrollArea",[J7,$1e]=vs(U_),[Fwe,ba]=J7(U_),Z7=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=b.useState(null),[d,u]=b.useState(null),[h,f]=b.useState(null),[m,g]=b.useState(null),[p,x]=b.useState(null),[y,v]=b.useState(0),[j,w]=b.useState(0),[k,N]=b.useState(!1),[S,O]=b.useState(!1),P=jt(t,T=>c(T)),$=Ug(s);return a.jsx(Fwe,{scope:r,type:n,dir:$,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:k,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:S,onScrollbarYEnabledChange:O,onCornerWidthChange:v,onCornerHeightChange:w,children:a.jsx(tt.div,{dir:$,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});Z7.displayName=U_;var eD="ScrollAreaViewport",tD=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=ba(eD,r),l=b.useRef(null),c=jt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(tt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});tD.displayName=eD;var Ns="ScrollAreaScrollbar",W_=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=ba(Ns,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(qwe,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(Bwe,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(rD,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(V_,{...n,ref:t}):null});W_.displayName=Ns;var qwe=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=ba(Ns,e.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(xa,{present:r||i,children:a.jsx(rD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Bwe=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=ba(Ns,e.__scopeScrollArea),i=e.orientation==="horizontal",o=G0(()=>c("SCROLL_END"),100),[l,c]=$we("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),b.useEffect(()=>{const d=s.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const m=d[u];h!==m&&(c("SCROLL"),o()),h=m};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),a.jsx(xa,{present:r||l!=="hidden",children:a.jsx(V_,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Xe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Xe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),rD=b.forwardRef((e,t)=>{const r=ba(Ns,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=b.useState(!1),l=e.orientation==="horizontal",c=G0(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return td(r.viewport,c),td(r.content,c),a.jsx(xa,{present:n||i,children:a.jsx(V_,{"data-state":i?"visible":"hidden",...s,ref:t})})}),V_=b.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=ba(Ns,e.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=iD(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return Gwe(f,o.current,l,m)}return r==="horizontal"?a.jsx(Uwe,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=j3(f,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?a.jsx(Wwe,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=j3(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Uwe=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=ba(Ns,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=jt(t,c,i.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(aD,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":K0(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),lD(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ag(o.paddingLeft),paddingEnd:ag(o.paddingRight)}})}})}),Wwe=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=ba(Ns,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=jt(t,c,i.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(aD,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":K0(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),lD(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ag(o.paddingTop),paddingEnd:ag(o.paddingBottom)}})}})}),[Vwe,nD]=J7(Ns),aD=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,m=ba(Ns,r),[g,p]=b.useState(null),x=jt(t,P=>p(P)),y=b.useRef(null),v=b.useRef(""),j=m.viewport,w=n.content-n.viewport,k=Gr(u),N=Gr(c),S=G0(h,10);function O(P){if(y.current){const $=P.clientX-y.current.left,T=P.clientY-y.current.top;d({x:$,y:T})}}return b.useEffect(()=>{const P=$=>{const T=$.target;g?.contains(T)&&k($,w)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[j,g,w,k]),b.useEffect(N,[n,N]),td(g,S),td(m.content,S),a.jsx(Vwe,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Gr(i),onThumbPointerUp:Gr(o),onThumbPositionChange:N,onThumbPointerDown:Gr(l),children:a.jsx(tt.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:Xe(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),y.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:Xe(e.onPointerMove,O),onPointerUp:Xe(e.onPointerUp,P=>{const $=P.target;$.hasPointerCapture(P.pointerId)&&$.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),ng="ScrollAreaThumb",H_=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=nD(ng,e.__scopeScrollArea);return a.jsx(xa,{present:r||s.hasThumb,children:a.jsx(Hwe,{ref:t,...n})})}),Hwe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=ba(ng,r),o=nD(ng,r),{onThumbPositionChange:l}=o,c=jt(t,h=>o.onThumbChange(h)),d=b.useRef(void 0),u=G0(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const m=Ywe(h,l);d.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),a.jsx(tt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Xe(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),m=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:Xe(e.onPointerUp,o.onThumbPointerUp)})});H_.displayName=ng;var K_="ScrollAreaCorner",sD=b.forwardRef((e,t)=>{const r=ba(K_,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Kwe,{...e,ref:t}):null});sD.displayName=K_;var Kwe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=ba(K_,r),[i,o]=b.useState(0),[l,c]=b.useState(0),d=!!(i&&l);return td(s.scrollbarX,()=>{const u=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(u),c(u)}),td(s.scrollbarY,()=>{const u=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(u),o(u)}),d?a.jsx(tt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ag(e){return e?parseInt(e,10):0}function iD(e,t){const r=e/t;return isNaN(r)?0:r}function K0(e){const t=iD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Gwe(e,t,r,n="ltr"){const s=K0(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return oD([c,d],h)(e)}function j3(e,t,r="ltr"){const n=K0(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=Qv(e,c);return oD([0,o],[0,l])(d)}function oD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function lD(e,t){return e>0&&e<t}var Ywe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function G0(e,t){const r=Gr(e),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function td(e,t){const r=Gr(t);yr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var cD=Z7,dD=tD,uD=sD;const Oy=Object.freeze(Object.defineProperty({__proto__:null,$:_n,A:Bn,B:gu,C:zg,D:or,E:cP,F:tE,G:uP,H:Ba,I:wt,J:kE,K:FE,L:Pv,M:mP,N:z,O:Mg,P:Yj,Q:WO,R:Kj,S:Rj,T:Gj,U:Un,get V(){return Ij},W:Nn,X:Ys,Y:Je,Z:Og,_:Bm,a:jg,a$:Jl,a0:rr,a1:Sg,a2:Tt,a3:Pr,a4:on,a5:Xr,a6:ds,a7:Vn,a8:gP,a9:Ng,aA:No,aB:b1,aC:w1,aD:us,aE:Cl,aF:iP,aG:$j,aH:_g,aI:_c,aJ:Ov,aK:lm,aL:xu,aM:Tv,aN:oP,aO:w8,aP:j8,aQ:_8,aR:N8,aS:W8,aT:lP,aU:tA,aV:rA,aW:nA,aX:aA,aY:da,aZ:Ml,a_:Q7,aa:cc,ab:qj,ac:qC,ad:BC,ae:WC,af:qa,ag:UC,ah:VC,ai:HC,aj:KC,ak:GC,al:XC,am:Bo,an:YC,ao:QC,ap:jc,aq:JC,ar:HP,as:yu,at:fn,au:Hn,av:Gs,aw:Wo,ax:Uo,ay:Ia,az:kg,b:Qj,b0:is,b1:os,b2:an,b3:ii,b4:X7,b5:_s,b6:Xh,b7:Lw,b8:Li,b9:ti,ba:Y7,bb:Pd,bc:cD,bd:dD,be:uD,bf:W_,bg:H_,bh:Lh,bi:Um,bj:Si,bk:dP,bl:Cv,bm:xP,bn:yP,bo:Dv,bp:pP,bq:fP,br:Ev,bs:hP,bt:UB,c:Ze,d:Xj,e:eE,f:qg,g:fe,h:l1,i:nt,j:a,k:Fr,l:cd,m:fa,n:Kl,o:ln,p:Ra,q:ca,r:b,s:cm,t:nP,u:It,v:Av,w:$E,x:sP,y:Jt,z:Fj},Symbol.toStringTag,{value:"Module"})),Xwe="modulepreload",Qwe=function(e){return"/fish-management/"+e},_3={},mr=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");n=Promise.allSettled(t.map(l=>{if(l=Qwe(l),l in _3)return;_3[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Xwe,c||(u.as="script"),u.crossOrigin="",u.href=l,o&&u.setAttribute("nonce",o),document.head.appendChild(u),c)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Qe(...e){return nP(Ze(e))}const $w=jg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),te=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Rj:"button";return a.jsx(o,{"data-slot":"button",className:Qe($w({variant:t,size:r,className:e})),ref:i,...s})});te.displayName="Button";function Jwe({...e}){return a.jsx(Kj,{"data-slot":"sheet",...e})}function Zwe({...e}){return a.jsx(Gj,{"data-slot":"sheet-trigger",...e})}function eje({...e}){return a.jsx(Yj,{"data-slot":"sheet-portal",...e})}const hD=b.forwardRef(({className:e,...t},r)=>a.jsx(Mg,{ref:r,"data-slot":"sheet-overlay",className:Qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));hD.displayName=Mg.displayName;const fD=b.forwardRef(({className:e,children:t,side:r="right",...n},s)=>a.jsxs(eje,{children:[a.jsx(hD,{}),a.jsxs(zg,{ref:s,"data-slot":"sheet-content",className:Qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,a.jsxs(Qj,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(Ys,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fD.displayName=zg.displayName;function tje({className:e,...t}){return a.jsx(Xj,{"data-slot":"sheet-title",className:Qe("text-foreground font-semibold",e),...t})}function N3({className:e,...t}){return a.jsx(eE,{"data-slot":"avatar",className:Qe("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function k3({className:e,...t}){return a.jsx(tE,{"data-slot":"avatar-fallback",className:Qe("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const rje=jg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pe({className:e,variant:t,asChild:r=!1,...n}){const s=r?Rj:"span";return a.jsx(s,{"data-slot":"badge",className:Qe(rje({variant:t}),e),...n})}const G_="https://pgpazwlejhysxabtkifz.supabase.co",mD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBncGF6d2xlamh5c3hhYnRraWZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NjE0ODksImV4cCI6MjA2OTQzNzQ4OX0.VZjBmh5647fzGgfW8ttNMUirKRXIg1hj0X8pG0dhjD0";console.log("Supabase URL:",G_);console.log("Supabase Key present:",!0);const Q=qg(G_,mD,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1},realtime:{params:{eventsPerSecond:10}}}),nje=e=>qg(G_,mD,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1},global:{headers:{"X-User-ID":e,"X-Auth-Type":"custom"}}}),Py=e=>e?nje(e):Q,$e=(e,t)=>{if(console.error(`Supabase ${t} error:`,e),e&&typeof e=="object"){if(e.code==="PGRST116")return"No data found";if(e.code==="23505")return"This record already exists";if(e.code==="23503")return"Referenced record not found";if(e.message&&typeof e.message=="string"&&e.message.includes("JWT"))return"Authentication error. Please log in again.";if(e.message&&typeof e.message=="string")return e.message}return"An unexpected error occurred"},_e=async(e,t=3,r=1e3)=>{let n;for(let s=1;s<=t;s++)try{return await e()}catch(i){if(n=i,s===t)throw i;if(i?.message?.includes("fetch")||i?.status>=500||i?.code==="NETWORK_ERROR")console.warn(`Attempt ${s} failed, retrying in ${r}ms...`),await new Promise(o=>setTimeout(o,r)),r*=2;else throw i}throw n},aje={async getProfile(e){try{const{data:t,error:r}=await _e(async()=>await Q.from("profiles").select("*").eq("id",e).single());if(r)throw r;return t}catch(t){throw new Error($e(t,"fetching user profile"))}},async createProfile(e){try{const{data:t,error:r}=await _e(async()=>await Q.from("profiles").insert([e]).select().single());if(r)throw r;return t}catch(t){throw new Error($e(t,"creating user profile"))}},async updateProfile(e,t){try{const{data:r,error:n}=await _e(async()=>await Q.from("profiles").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single());if(n)throw n;return r}catch(r){throw new Error($e(r,"updating user profile"))}},async updateLastLogin(e){try{const{data:t,error:r}=await _e(async()=>await Q.from("profiles").update({last_login:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e).select().single());if(r)throw r;return t}catch(t){throw new Error($e(t,"updating last login"))}},async getAllProfiles(){try{const{data:e,error:t}=await _e(async()=>await Q.from("profiles").select("*").order("created_at",{ascending:!1}));if(t)throw t;return e||[]}catch(e){throw new Error($e(e,"fetching all profiles"))}}},sje={async getOutlets(){try{const{data:e,error:t}=await _e(async()=>await Q.from("outlets").select("*").order("created_at",{ascending:!1}));if(t)throw t;return e||[]}catch(e){throw new Error($e(e,"fetching outlets"))}},async createOutlet(e){try{const{data:t,error:r}=await _e(async()=>await Q.from("outlets").insert([e]).select().single());if(r)throw r;return t}catch(t){throw new Error($e(t,"creating outlet"))}},async updateOutlet(e,t){try{const{data:r,error:n}=await _e(async()=>await Q.from("outlets").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single());if(n)throw n;return r}catch(r){throw new Error($e(r,"updating outlet"))}}},S3={async getOutletOrders(){try{const{data:e,error:t}=await _e(async()=>await Q.from("outlet_orders").select(`
            *,
            outlet:outlets(name, location, phone, manager_name, status)
          `).order("order_date",{ascending:!1}));if(t)throw t;return e||[]}catch(e){throw new Error($e(e,"fetching outlet orders"))}},async createOutletOrder(e){try{const{data:t,error:r}=await _e(async()=>await Q.from("outlet_orders").insert([e]).select().single());if(r)throw r;return t}catch(t){throw new Error($e(t,"creating outlet order"))}},async updateOutletOrder(e,t){try{const{data:r,error:n}=await _e(async()=>await Q.from("outlet_orders").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single());if(n)throw n;return r}catch(r){throw new Error($e(r,"updating outlet order"))}}},ije={async getDashboardStats(){try{const{count:e}=await Q.from("warehouse_entries").select("*",{count:"exact",head:!0}),{count:t}=await Q.from("processing_records").select("*",{count:"exact",head:!0}),{data:r}=await Q.from("processing_records").select("ready_for_dispatch_count").not("ready_for_dispatch_count","is",null),n=r?.reduce((m,g)=>m+(g.ready_for_dispatch_count||0),0)||0,{data:s}=await Q.from("fish_inventory").select("weight"),i=s?.reduce((m,g)=>m+(g.weight||0),0)||0,{count:o}=await Q.from("outlet_orders").select("*",{count:"exact",head:!0}),{count:l}=await Q.from("dispatch_records").select("*",{count:"exact",head:!0}).in("status",["scheduled","pending"]),{data:c}=await Q.from("warehouse_entries").select("total_weight"),d=c?.reduce((m,g)=>m+(g.total_weight||0),0)||0,{data:u}=await Q.from("warehouse_entries").select("temperature").not("temperature","is",null);console.log("Temperature data found:",u?.length||0,"records");const h=u&&u.length>0?u.reduce((m,g)=>m+(g.temperature||0),0)/u.length:22,f=i>0?d/i:.5;return{warehouseEntries:e||0,processingQueue:t||0,readyForDispatch:n,totalStock:i,outletOrders:o||0,pendingDispatches:l||0,totalWeight:d,avgTemperature:Number(h.toFixed(2)),avgFishSize:Number(f.toFixed(2))}}catch(e){return console.error("Dashboard service error:",e),{warehouseEntries:0,processingQueue:0,readyForDispatch:0,totalStock:0,outletOrders:0,pendingDispatches:0,totalWeight:0,avgTemperature:22,avgFishSize:.5}}},async getEnhancedDashboardStats(){try{const[e,t,r,n,s,i,o,l]=await Promise.all([this.getWarehouseStats(),this.getProcessingStats(),this.getInventoryStats(),this.getOrderStats(),this.getDispatchStats(),this.getFarmerStats(),this.getOutletStats(),this.getRecentActivity()]);return{...e,...t,...r,...n,...s,...i,...o,recentActivity:l}}catch(e){throw console.error("Enhanced dashboard service error:",e),new Error($e(e,"fetching enhanced dashboard stats"))}},async getWarehouseStats(){try{const{data:e}=await Q.from("warehouse_entries").select("total_weight, temperature, entry_date").order("entry_date",{ascending:!1});console.log("Warehouse entries fetched:",e?.length||0,"records");const t=e?.reduce((o,l)=>o+(l.total_weight||0),0)||0,r=e?.filter(o=>o.temperature!==null&&o.temperature!==void 0)||[];console.log("Entries with temperature data:",r.length);const n=r.length>0?r.reduce((o,l)=>o+l.temperature,0)/r.length:22,s=new Date;s.setDate(s.getDate()-7);const i=e?.filter(o=>new Date(o.entry_date)>=s)||[];return{totalWarehouseEntries:e?.length||0,totalWeight:t,avgTemperature:Number(n.toFixed(2)),recentEntriesCount:i.length,recentWeight:i.reduce((o,l)=>o+(l.total_weight||0),0)}}catch(e){return console.error("Warehouse stats error:",e),{totalWarehouseEntries:0,totalWeight:0,avgTemperature:22,recentEntriesCount:0,recentWeight:0}}},async getProcessingStats(){try{const{data:e}=await Q.from("processing_records").select("ready_for_dispatch_count, processing_date, post_processing_weight").order("processing_date",{ascending:!1}),t=e?.reduce((i,o)=>i+(o.post_processing_weight||0),0)||0,r=e?.reduce((i,o)=>i+(o.post_processing_weight||0),0)||0,n=new Date;n.setDate(n.getDate()-7);const s=e?.filter(i=>new Date(i.processing_date)>=n)||[];return{totalProcessingRecords:e?.length||0,totalReadyForDispatch:Math.round(t),totalProcessedWeight:r,recentProcessingCount:s.length,recentProcessedWeight:s.reduce((i,o)=>i+(o.post_processing_weight||0),0)}}catch(e){return console.error("Processing stats error:",e),{totalProcessingRecords:0,totalReadyForDispatch:0,totalProcessedWeight:0,recentProcessingCount:0,recentProcessedWeight:0}}},async getInventoryStats(){try{console.log("Fetching inventory stats from sorting_results table (same as inventory components)...");const{data:e,error:t}=await Q.from("sorting_results").select(`
          id,
          size_class,
          total_pieces,
          total_weight_grams,
          storage_location_id,
          sorting_batch_id,
          sorting_batch:sorting_batches(
            id,
            batch_number,
            status,
            created_at
          )
        `).eq("sorting_batch.status","completed").not("storage_location_id","is",null);if(t)throw console.error("Error fetching inventory:",t),t;console.log("Inventory data fetched from sorting_results:",e?.length||0,"records"),console.log("Sample inventory record:",e?.[0]);const r=e?.reduce((l,c)=>l+(c.total_pieces||0),0)||0,n=e?.reduce((l,c)=>l+(c.total_weight_grams||0),0)/1e3||0,s=e?.length||0,i=r>0?n/r:.5;console.log("Inventory stats calculated:",{totalInventoryWeight:n,totalInventoryPieces:r,totalInventoryItems:s,avgFishSize:i});const o=e?.reduce((l,c)=>{const d=`Size ${c.size_class}`,u=(c.total_weight_grams||0)/1e3;return l[d]=(l[d]||0)+u,l},{})||{};return{totalInventoryWeight:n,totalInventoryItems:Math.round(n),avgFishSize:Number(i.toFixed(2)),gradeDistribution:o}}catch(e){return console.error("Inventory stats error:",e),{totalInventoryWeight:0,totalInventoryItems:0,avgFishSize:.5,gradeDistribution:{}}}},async getOrderStats(){try{const{data:e}=await Q.from("outlet_orders").select("total_value, status, order_date, requested_quantity").order("order_date",{ascending:!1}),t=e?.reduce((u,h)=>u+(h.total_value||0),0)||0,r=e?.length||0,n=e?.reduce((u,h)=>u+(h.requested_quantity||0),0)||0,s=e?.filter(u=>u.status==="pending").length||0,i=e?.filter(u=>u.status==="confirmed").length||0,o=e?.filter(u=>u.status==="dispatched").length||0,l={pending:s,confirmed:i,dispatched:o},c=new Date;c.setDate(c.getDate()-7);const d=e?.filter(u=>new Date(u.order_date)>=c)||[];return console.log("Order stats calculated (same as OrderManagement component):",{totalOrders:r,pendingOrders:s,confirmedOrders:i,dispatchedOrders:o,totalOrderValue:t,totalQuantity:n}),{totalOrders:r,totalOrderValue:t,statusDistribution:l,recentOrdersCount:d.length,recentOrderValue:d.reduce((u,h)=>u+(h.total_value||0),0)}}catch(e){return console.error("Order stats error:",e),{totalOrders:0,totalOrderValue:0,statusDistribution:{},recentOrdersCount:0,recentOrderValue:0}}},async getDispatchStats(){try{const{data:e}=await Q.from("outlet_orders").select("id, status, total_value, order_date").eq("status","confirmed").order("order_date",{ascending:!1}),{data:t}=await Q.from("outlet_orders").select("id, status, total_value, dispatch_date").eq("status","dispatched").order("dispatch_date",{ascending:!1}),{data:r}=await Q.from("dispatch_records").select("total_weight, status").order("dispatch_date",{ascending:!1}),n=(t?.length||0)+(r?.length||0),s=r?.reduce((o,l)=>o+(l.total_weight||0),0)||0,i=e?.length||0;return console.log("Dispatch stats calculated:",{confirmedOrders:e?.length||0,dispatchedOrders:t?.length||0,dispatchRecords:r?.length||0,pendingDispatchesCount:i,totalDispatchedWeight:s}),{totalDispatches:n,totalDispatchedWeight:s,pendingDispatchesCount:i}}catch(e){return console.error("Dispatch stats error:",e),{totalDispatches:0,totalDispatchedWeight:0,pendingDispatchesCount:0}}},async getFarmerStats(){try{const{data:e}=await Q.from("farmers").select("id, name, location"),{data:t}=await Q.from("warehouse_entries").select("farmer_id, total_weight, entry_date").order("entry_date",{ascending:!1}),r=e?.length||0,n=t?.reduce((i,o)=>i+(o.total_weight||0),0)||0,s=t?.reduce((i,o)=>{const l=o.farmer_id;return i[l]||(i[l]={weight:0,entries:0}),i[l].weight+=o.total_weight||0,i[l].entries+=1,i},{})||{};return{totalFarmers:r,totalFarmerWeight:n,farmerPerformance:s}}catch(e){return console.error("Farmer stats error:",e),{totalFarmers:0,totalFarmerWeight:0,farmerPerformance:{}}}},async getOutletStats(){try{const{data:e}=await Q.from("outlets").select("id, name, location, status"),{data:t}=await Q.from("outlet_orders").select("outlet_id, total_value, order_date").order("order_date",{ascending:!1}),r=e?.length||0,n=t?.reduce((i,o)=>i+(o.total_value||0),0)||0,s=e?.filter(i=>i.status==="active")||[];return{totalOutlets:r,totalOutletValue:n,activeOutletsCount:s.length}}catch(e){return console.error("Outlet stats error:",e),{totalOutlets:0,totalOutletValue:0,activeOutletsCount:0}}},async getRecentActivity(){try{const{data:e}=await Q.from("warehouse_entries").select("id, entry_date, total_weight, created_at").order("created_at",{ascending:!1}).limit(10),{data:t}=await Q.from("processing_records").select("id, processing_date, ready_for_dispatch_count, created_at").order("created_at",{ascending:!1}).limit(10),{data:r}=await Q.from("outlet_orders").select("id, order_date, status, total_value, created_at").order("created_at",{ascending:!1}).limit(10),n=[];return e&&e.forEach(s=>{n.push({id:s.id,type:"entry",action:`New warehouse entry: ${s.total_weight}kg`,details:`Entry date: ${s.entry_date}`,created_at:s.created_at})}),t&&t.forEach(s=>{n.push({id:s.id,type:"processing",action:`Processing completed: ${s.ready_for_dispatch_count} fish ready`,details:`Processing date: ${s.processing_date}`,created_at:s.created_at})}),r&&r.forEach(s=>{n.push({id:s.id,type:"order",action:`New outlet order: KES ${s.total_value}`,details:`Status: ${s.status}`,created_at:s.created_at})}),n.sort((s,i)=>new Date(i.created_at).getTime()-new Date(s.created_at).getTime()).slice(0,15)}catch(e){return console.error("Error fetching recent activity:",e),[]}}},pD=b.createContext(void 0),oi=()=>{const e=b.useContext(pD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},oje=({children:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,o]=b.useState(null),[l,c]=b.useState(!0),[d,u]=b.useState(!1),h=async(k,N)=>(N?.toLowerCase(),{id:k,email:N||"",first_name:"User",last_name:"Name",role:"viewer",phone:"",is_active:!0,last_login:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),f=async(k,N)=>{try{c(!0);const{data:S,error:O}=await Q.from("profiles").select("*").eq("email",k.toLowerCase().trim()).eq("is_active",!0).single();if(O||!S)return c(!1),O&&O.code==="PGRST116"?{success:!1,error:"Email address not found. Please check your email or contact your administrator."}:{success:!1,error:"Email address not found. Please check your email or contact your administrator."};if(!await l1.compare(N,S.password_hash))return c(!1),{success:!1,error:"Incorrect password. Please try again or contact your administrator to reset your password."};const P={id:S.id,email:S.email,first_name:S.first_name,last_name:S.last_name,role:S.role,phone:S.phone,is_active:S.is_active,last_login:S.last_login,created_at:S.created_at,updated_at:S.updated_at};r(P),sessionStorage.setItem("currentUser",JSON.stringify(P));const $={id:P.id,email:P.email,user_metadata:{first_name:P.first_name,last_name:P.last_name,role:P.role,phone:P.phone}};s($);const T={access_token:"demo-token-"+P.id,refresh_token:"demo-refresh-"+P.id,expires_in:3600,token_type:"bearer",user:$};o(T);try{const{error:I}=await Q.from("audit_logs").insert([{user_id:P.id,action:"LOGIN",table_name:"auth",record_id:P.id,old_values:null,new_values:JSON.stringify({login_time:new Date().toISOString()}),ip_address:null,user_agent:navigator.userAgent,created_at:new Date().toISOString()}]);I&&console.warn("Failed to log login audit event:",I)}catch(I){console.warn("Failed to log login audit event:",I)}return fe.success(`Welcome back, ${P.first_name}!`),c(!1),{success:!0}}catch(S){return c(!1),{success:!1,error:S.message||"An unexpected error occurred"}}},m=async()=>{try{if(t)try{const{error:k}=await Q.from("audit_logs").insert([{user_id:t.id,action:"LOGOUT",table_name:"auth",record_id:t.id,old_values:null,new_values:JSON.stringify({logout_time:new Date().toISOString()}),ip_address:null,user_agent:navigator.userAgent,created_at:new Date().toISOString()}]);k&&console.warn("Failed to log logout audit event:",k)}catch(k){console.warn("Failed to log logout audit event:",k)}sessionStorage.removeItem("currentUser"),r(null),s(null),o(null),fe.success("Signed out successfully")}catch(k){console.error("Sign out error:",k)}},g=async()=>{if(n){const k=await h(n.id,n.email||void 0);r(k)}},p=async k=>{try{if(!t)return{success:!1,error:"No user logged in"};const N=await aje.updateProfile(t.id,k);return r({...t,...k,updated_at:new Date().toISOString()}),fe.success("Profile updated successfully"),{success:!0}}catch(N){return fe.error("Failed to update profile"),{success:!1,error:N.message||"Failed to update profile"}}},x=k=>t?.role===k,y=k=>t?k.includes(t.role):!1,v=()=>t?.role==="admin",j=(k,N="read")=>{if(!t||!t.is_active)return!1;const S=t.role;if(S==="admin")return!0;const O={users:{read:["admin"],create:["admin"],update:["admin"],delete:["admin"]},audit_logs:{read:["admin","processor"]},processing_records:{read:["admin","processor","warehouse_manager"],create:["admin","processor"],update:["admin","processor"],delete:["admin"]},outlet_orders:{read:["admin","outlet_manager","processor"],create:["admin","outlet_manager"],update:["admin","outlet_manager"],delete:["admin"]},warehouse_entries:{read:["admin","warehouse_manager","processor"],create:["admin","warehouse_manager"],update:["admin","warehouse_manager"],delete:["admin"]},dispatch_records:{read:["admin","processor","outlet_manager","warehouse_manager","viewer"],create:["admin","processor","warehouse_manager"],update:["admin","processor","warehouse_manager"],delete:["admin"]},fish_inventory:{read:["admin","processor","outlet_manager","warehouse_manager","viewer"],create:["admin","processor","warehouse_manager"],update:["admin","processor","warehouse_manager"],delete:["admin"]}}[k];if(!O)return!1;const P=O[N];return P?P.includes(S):!1};b.useEffect(()=>{c(!1)},[]);const w={user:t,supabaseUser:n,session:i,loading:l,signIn:f,signOut:m,hasRole:x,hasAnyRole:y,isAdmin:v,canAccess:j,refreshUser:g,updateUserProfile:p};return a.jsx(pD.Provider,{value:w,children:e})},Ey=e=>["read:basic"];function Y0(){const{user:e,loading:t}=oi(),[r,n]=b.useState(null),[s,i]=b.useState([]),[o,l]=b.useState(!0);b.useEffect(()=>{if(e){const p=Ey(e.role);i(p),c(e.role)}else n(null),i([]),l(!1)},[e]),b.useEffect(()=>{const p=setTimeout(()=>{if(o&&(console.warn("Permissions loading timeout, using default permissions"),l(!1),e?.role)){const x=Ey(e.role);i(x)}},5e3);return()=>clearTimeout(p)},[o,e]);const c=async p=>{try{const{data:x,error:y}=await Q.from("user_roles").select("*").eq("name",p).eq("is_active",!0).single();if(y){console.warn("Error fetching user role, using default permissions:",y);const j=Ey(p);n({id:"default",name:p,display_name:p.charAt(0).toUpperCase()+p.slice(1),description:`Default ${p} role`,permissions:j,icon:"user",color:"blue",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),i(j),l(!1);return}n(x);let v=[];try{Array.isArray(x.permissions)?v=x.permissions:typeof x.permissions=="string"?v=JSON.parse(x.permissions):v=[]}catch(j){console.warn("Error parsing permissions, using empty array:",j),v=[]}i(v),l(!1)}catch(x){console.error("Error in fetchUserRole:",x),n(null),i([]),l(!1)}},d=p=>{if(!s.length)return!1;if(s.includes("*")||s.includes("admin:*")||s.includes(p))return!0;const[x,y]=p.split(":");return!!(x&&y&&(s.includes(`${x}:*`)||s.includes(`*:${y}`)))},u=p=>p.some(x=>d(x)),h=p=>p.every(x=>d(x)),f=p=>{if(o)return p==="dashboard";if(g())return!0;const x={dashboard:["read:basic"],"warehouse-entry":["write:inventory"],processing:["write:processing"],sorting:["write:processing"],inventory:["read:inventory"],"outlet-orders":["read:sales"],dispatch:["write:logistics"],"outlet-receiving":["read:sales"],reports:["read:basic"],"user-management":["admin:*","write:users"]}[p]||[];return u(x)},m=(p,x)=>{const y=`${p}:${x}`;return d(y)},g=()=>s.includes("*")||s.includes("admin:*")||s.includes("admin_access");return{user:e,userProfile:e,userRole:r,permissions:s,loading:o||t,hasPermission:d,hasAnyPermission:u,hasAllPermissions:h,canAccess:f,canPerform:m,isAdmin:g,isManager:()=>s.includes("*")||s.includes("admin:*")||s.includes("manage_users")||s.includes("manage_roles")||s.includes("system_settings"),canManageUsers:()=>g()||d("write:users"),canManageRoles:()=>g()||d("write:roles"),canViewAuditLogs:()=>g()||d("read:audit"),canExportData:()=>g()||d("export:data"),canModifySystemSettings:()=>g()||d("write:system")}}class Zr extends b.Component{state={hasError:!1};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"The application encountered an error. Please refresh the page."}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Refresh Page"})}),this.state.error&&a.jsxs("details",{className:"mt-4 text-left",children:[a.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer",children:"Error Details"}),a.jsx("pre",{className:"mt-2 text-xs text-gray-500 bg-gray-100 p-2 rounded overflow-auto",children:this.state.error.toString()})]})]})]})}):this.props.children}}function lje({currentSection:e,onNavigate:t,onLogout:r}){const[n,s]=b.useState(!1),{userProfile:i,canAccess:o,isAdmin:l,loading:c,permissions:d}=Y0(),u=g=>({Home:Ba,Warehouse:Nn,Scissors:ca,Package:nt,ShoppingCart:Ra,Truck:ln,CheckSquare:Kl,BarChart3:fa,Users:Un,Filter:cd,Trash2:Fr,ArrowRight:Bn})[g]||Ba,h=[{title:"Overview",items:[{id:"dashboard",label:"Dashboard",icon:"Home",permissions:["read:basic"]}]},{title:"Warehouse Operations",items:[{id:"warehouse-entry",label:"Fish Entry",icon:"Warehouse",permissions:["write:inventory"]},{id:"processing",label:"Processing",icon:"Scissors",permissions:["write:processing"]},{id:"sorting",label:"Sorting",icon:"Filter",permissions:["write:processing"]},{id:"inventory",label:"Inventory",icon:"Package",permissions:["read:inventory"]},{id:"transfers",label:"Transfers",icon:"ArrowRight",permissions:["read:inventory"]},{id:"disposal",label:"Disposal",icon:"Trash2",permissions:["write:disposal"]}]},{title:"Outlet Sales",items:[{id:"outlet-orders",label:"Outlet Orders",icon:"ShoppingCart",permissions:["read:sales"]},{id:"dispatch",label:"Dispatch",icon:"Truck",permissions:["write:logistics"]},{id:"outlet-receiving",label:"Outlet Receiving",icon:"CheckSquare",permissions:["read:sales"]}]},{title:"Analytics",items:[{id:"reports",label:"Reports & Analytics",icon:"BarChart3",permissions:["read:basic"]}]},{title:"System Administration",items:[{id:"user-management",label:"User Management",icon:"Users",permissions:["admin:*","write:users"]}]}],f=()=>{try{if(c&&i?.role==="admin")return a.jsx("div",{className:"flex flex-col h-full overflow-y-auto overflow-x-hidden",children:a.jsx("nav",{className:"space-y-4 flex-1",children:h.map((p,x)=>a.jsxs("div",{children:[a.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-2",children:p.title}),a.jsx("div",{className:"space-y-0.5",children:p.items.map(y=>{const v=u(y.icon),j=e===y.id;return a.jsxs(te,{variant:j?"default":"ghost",className:`w-full justify-start gap-3 h-10 text-left font-medium mx-2 text-sm px-3 overflow-hidden ${j?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,onClick:()=>{t(y.id),s(!1)},children:[a.jsx(v,{className:"w-4 h-4"}),a.jsx("span",{className:"flex-1",children:y.label}),y.badge&&a.jsx(pe,{variant:"secondary",className:`text-xs h-4 px-1.5 rounded-full ${j?"bg-primary-foreground/20 text-primary-foreground":""}`,children:y.badge})]},y.id)})})]},x))})});const g=h.map(p=>({...p,items:p.items.filter(x=>c?x.id==="dashboard":!x.permissions||l()?!0:o(x.id))})).filter(p=>p.items.length>0);return a.jsxs("div",{className:"flex flex-col h-full overflow-y-auto overflow-x-hidden",children:[a.jsx("nav",{className:"space-y-4 flex-1",children:g.map((p,x)=>a.jsxs("div",{children:[a.jsx("h3",{className:"px-3 text-xs font-semibold text-blue-700 uppercase tracking-wide mb-2",children:p.title}),a.jsx("div",{className:"space-y-0.5",children:p.items.map(y=>{const v=u(y.icon),j=e===y.id;return a.jsxs(te,{variant:j?"default":"ghost",className:`w-full justify-start gap-3 h-10 text-left font-medium mx-2 text-sm px-3 overflow-hidden ${j?"bg-blue-600 text-white shadow-md":"text-blue-800 hover:text-blue-900 hover:bg-blue-200"}`,onClick:()=>{t(y.id),s(!1)},children:[a.jsx(v,{className:"w-4 h-4"}),a.jsx("span",{className:"flex-1",children:y.label}),y.badge&&a.jsx(pe,{variant:"secondary",className:`text-xs h-4 px-1.5 rounded-full ${j?"bg-primary-foreground/20 text-primary-foreground":""}`,children:y.badge})]},y.id)})})]},x))}),a.jsxs("div",{className:"border-t border-blue-200 pt-3 space-y-2 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-100 rounded-lg mx-1",children:[a.jsx(N3,{className:"w-8 h-8",children:a.jsx(k3,{className:"bg-blue-600 text-white font-semibold text-xs",children:i?.first_name&&i?.last_name?`${i.first_name.charAt(0)}${i.last_name.charAt(0)}`:"RF"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-xs truncate text-blue-900",children:i?.first_name&&i?.last_name?`${i.first_name} ${i.last_name}`:"User"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-blue-600 truncate",children:i?.role?i.role.replace("_"," ").toUpperCase():"Rio Fish Farm"}),d&&d.length>0&&a.jsx(pe,{variant:"outline",className:"text-xs bg-white text-blue-600 border-blue-200",children:d.includes("*")?"All":d.length})]})]})]}),a.jsxs(te,{variant:"ghost",className:"w-full justify-start gap-2 h-8 text-left font-medium text-red-600 hover:text-red-700 hover:bg-red-50 mx-1 text-sm",onClick:()=>{r(),s(!1)},children:[a.jsx(Pv,{className:"w-4 h-4"}),"Logout"]})]})]})}catch(g){return console.error("Navigation error:",g),a.jsx(m,{})}},m=()=>a.jsxs("div",{className:"flex flex-col h-full overflow-y-auto overflow-x-hidden",children:[a.jsx("nav",{className:"space-y-4 flex-1",children:h.map((g,p)=>a.jsxs("div",{children:[a.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-1.5 lg:mb-2",children:g.title}),a.jsx("div",{className:"space-y-0.5",children:g.items.map(x=>{const y=e===x.id;return renderNavItem(x,y)})})]},p))}),a.jsxs("div",{className:"border-t pt-3 space-y-2 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg mx-1",children:[a.jsx(N3,{className:"w-8 h-8",children:a.jsx(k3,{className:"bg-primary text-primary-foreground font-semibold text-xs",children:"RF"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-xs truncate",children:"User"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Rio Fish Farm"})]})]}),a.jsxs(te,{variant:"ghost",className:"w-full justify-start gap-2 h-8 text-left font-medium text-destructive hover:text-destructive hover:bg-destructive/10 mx-1 text-sm",onClick:()=>{r(),s(!1)},children:[a.jsx(Pv,{className:"w-4 h-4"}),"Logout"]})]})]});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden md:flex md:w-72 bg-card border-r flex-col fixed left-0 top-0 h-screen z-50 overflow-x-hidden",children:[a.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-slate-50 to-gray-50 flex-shrink-0",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-52 h-20",children:a.jsx("img",{src:"/fish-management/build/riofish-logo.png",alt:"Rio Fish Logo",className:"w-full h-full object-contain drop-shadow-sm",style:{imageRendering:"crisp-edges"},onError:g=>{console.log("Logo failed to load, trying fallback");const p=g.target;p.src="https://riofish.co.ke/wp-content/uploads/2024/01/riofish_logo_copy-removed-background-white.png"}})})})}),a.jsx("div",{className:"p-3 flex-1 flex flex-col overflow-hidden overflow-x-hidden bg-gradient-to-b from-blue-50 to-blue-100",children:c?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsx(Zr,{children:a.jsx(f,{})})})]}),a.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-card border-b",children:a.jsxs("div",{className:"flex items-center justify-between p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-primary rounded-lg",children:a.jsx(nt,{className:"w-4 h-4 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-sm",children:"RIO FISH FARM"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Kenya Operations"})]})]}),a.jsxs(Jwe,{open:n,onOpenChange:s,children:[a.jsx(Zwe,{asChild:!0,children:a.jsx(te,{variant:"outline",size:"sm",children:a.jsx(mP,{className:"w-4 h-4"})})}),a.jsxs(fD,{side:"left",className:"w-72 p-0 overflow-x-hidden",children:[a.jsx(tje,{className:"sr-only",children:"Navigation Menu"}),a.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-slate-50 to-gray-50 flex-shrink-0",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-52 h-20",children:a.jsx("img",{src:"/fish-management/build/riofish-logo.png",alt:"Rio Fish Logo",className:"w-full h-full object-contain drop-shadow-sm",style:{imageRendering:"crisp-edges"},onError:g=>{console.log("Logo failed to load, trying fallback");const p=g.target;p.src="https://riofish.co.ke/wp-content/uploads/2024/01/riofish_logo_copy-removed-background-white.png"}})})})}),a.jsx("div",{className:"p-3 h-[calc(100vh-100px)] overflow-hidden bg-gradient-to-b from-blue-50 to-blue-100",children:a.jsx(f,{})})]})]})]})})]})}function le({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:Qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Ke({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:Qe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ye({className:e,...t}){return a.jsx("h4",{"data-slot":"card-title",className:Qe("leading-none",e),...t})}function he({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:Qe("px-6 [&:last-child]:pb-6",e),...t})}const cje="/fish-management/build/papo1.jpg";function gn(e){const[t,r]=b.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:o,className:l,...c}=e;return t?a.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:a.jsx("img",{src:cje,alt:"Error loading image",...c,"data-original-url":s})})}):a.jsx("img",{src:s,alt:i,className:l,style:o,...c,onError:n})}const rd=({size:e="md",showText:t=!0,className:r=""})=>{const n={sm:"w-20 h-12",md:"w-28 h-16",lg:"w-40 h-24",xl:"w-48 h-32"},s={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return a.jsxs("div",{className:`flex items-center gap-3 ${r}`,children:[a.jsx("div",{className:`${n[e]} flex-shrink-0`,children:a.jsx("img",{src:"/fish-management/build/riofish-logo.png",alt:"Rio Fish Logo",className:"w-full h-full object-contain",style:{imageRendering:"crisp-edges"},onError:i=>{console.log("Logo failed to load, trying fallback");const o=i.target;o.src="https://riofish.co.ke/wp-content/uploads/2024/01/riofish_logo_copy-removed-background-white.png"}})}),t&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:`${s[e]} font-bold bg-gradient-to-r from-blue-900 to-blue-700 bg-clip-text text-transparent`,children:"RIO FISH FARM"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Kenya Operations"})]})]})};function dje({onGetStarted:e}){const[t,r]=b.useState(0),[n,s]=b.useState(0),[i,o]=b.useState(0),[l,c]=b.useState(0),[d,u]=b.useState(!1),h=["/fish-management/build/login-image.jpeg","/fish-management/build/fishpic.jpg","/fish-management/build/papo1.jpg","/fish-management/build/papo2.jpg","/fish-management/build/papo4.png"],f={womenFarmers:500,womenTraders:500,totalFarmers:2e3};b.useEffect(()=>{const x=setInterval(()=>{r(y=>y===h.length-1?0:y+1)},5e3);return()=>clearInterval(x)},[h.length]),b.useEffect(()=>{const x=(j,w,k,N)=>{const S=performance.now(),O=P=>{const $=P-S,T=Math.min($/k,1),I=1-Math.pow(1-T,4),D=Math.floor(j+(w-j)*I);N(D),T<1&&requestAnimationFrame(O)};requestAnimationFrame(O)},y=new IntersectionObserver(j=>{j.forEach(w=>{w.isIntersecting&&!d&&(u(!0),setTimeout(()=>x(0,f.womenFarmers,2e3,s),500),setTimeout(()=>x(0,f.womenTraders,2e3,o),1e3),setTimeout(()=>x(0,f.totalFarmers,2e3,c),1500))})},{threshold:.3}),v=document.getElementById("impact-section");return v&&y.observe(v),()=>{v&&y.unobserve(v)}},[d,f]);const m=[{icon:It,title:"Sustainable Aquaculture",description:"Promoting sustainable fish farming practices that protect Lake Victoria's ecosystem while ensuring food security."},{icon:Un,title:"Women Empowerment",description:"Empowering women fish farmers and traders with economic opportunities and breaking down gender barriers in aquaculture."},{icon:Av,title:"Market Access",description:"Connecting smallholder farmers directly to markets through our innovative digital platform and aggregation system."},{icon:Og,title:"Technology Innovation",description:"Leveraging cutting-edge technology to optimize supply chains and implement smart farming tools for better yields."}],g=[{icon:Av,title:"No Poverty (SDG 1)",description:"Creating sustainable livelihoods and economic opportunities for women in the fishing industry."},{icon:cm,title:"Zero Hunger (SDG 2)",description:"Promoting sustainable fishing practices to ensure food security and improved nutrition."},{icon:Un,title:"Gender Equality (SDG 5)",description:"Empowering women in aquaculture through leadership opportunities and economic independence."},{icon:uP,title:"Climate Action (SDG 13)",description:"Implementing climate-resilient practices that protect marine ecosystems and reduce carbon emissions."}],p=[{name:"Tilapia",description:"Mild, sweet flavor with lean, white flesh. Perfect for grilling, baking, or frying.",image:"/fish-management/build/tilapia.jpg"},{name:"Nile Perch",description:"Succulent and tender meat with rich taste and firm texture for gourmet meals.",image:"/fish-management/build/papo2.jpg"},{name:"Smoked Fish",description:"Traditional smoking process that enhances flavor while preserving nutritional value.",image:"/fish-management/build/papo4.png"},{name:"Fish Sausages",description:"Artisan fish sausages crafted with locally sourced fish and perfectly seasoned pastry.",image:"/fish-management/build/saus.jpeg"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[a.jsxs("div",{className:"relative overflow-hidden h-screen",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx(gn,{src:h[t],alt:"Fish farmers on Lake Victoria with traditional fishing boats",className:"w-full h-full object-cover opacity-30 transition-opacity duration-1000"}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3",children:h.map((x,y)=>a.jsx("button",{onClick:()=>r(y),className:`w-3 h-3 rounded-full transition-all duration-300 ${y===t?"bg-white shadow-lg":"bg-white/60 hover:bg-white/80"}`},y))})]}),a.jsx("div",{className:"relative container mx-auto px-4 py-12 md:py-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx(rd,{size:"xl",showText:!0,className:"justify-center"})}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-white/20",children:[a.jsx("p",{className:"text-2xl md:text-3xl font-bold text-white mb-4 drop-shadow-2xl",children:"Nourishing Communities and Empowering Economies through Fish"}),a.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-6 max-w-3xl mx-auto drop-shadow-lg leading-relaxed",children:"We are dedicated to driving positive change at the intersection of innovation and sustainability. At Rio Fish, we are more than a company  we are a community of changemakers committed to shaping a brighter, more equitable future for all."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(te,{size:"lg",onClick:e,className:"gap-2 bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white shadow-lg hover:shadow-xl transition-all duration-300 font-semibold",children:["Get Started",a.jsx(Bn,{className:"w-4 h-4"})]}),a.jsxs(te,{size:"lg",variant:"outline",className:"gap-2 border-white/60 text-white hover:bg-white/20 hover:border-white/80 bg-white/10 backdrop-blur-sm font-semibold",onClick:()=>window.open("https://riofish.co.ke","_blank","noopener,noreferrer"),children:[a.jsx(gu,{className:"w-4 h-4"}),"Learn More"]})]})]})})]}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Partners"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Working together with leading organizations to transform Kenya's aquaculture sector"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 items-center justify-items-center",children:[a.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-all duration-300 w-full max-w-40 hover:scale-105",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"Y"})}),a.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Ygap"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Accelerator"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-all duration-300 w-full max-w-40 hover:scale-105",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-green-600",children:"HB"})}),a.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Homa Bay"}),a.jsx("div",{className:"text-xs text-gray-500",children:"County"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-all duration-300 w-full max-w-40 hover:scale-105",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-purple-100 to-purple-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-purple-600",children:"K"})}),a.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:"KMFRI"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Research"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-all duration-300 w-full max-w-40 hover:scale-105",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-orange-100 to-orange-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-orange-600",children:"O"})}),a.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:"OPES"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Development"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-all duration-300 w-full max-w-40 hover:scale-105",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-red-600",children:"A"})}),a.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:"AECF"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Foundation"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md hover:shadow-lg transition-all duration-300 w-full max-w-40 hover:scale-105",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-indigo-600",children:"U"})}),a.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:"USAID"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Kenya"})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-gray-600 text-sm",children:"And many more organizations committed to sustainable aquaculture development"})})]})}),a.jsx("div",{id:"impact-section",className:"py-16 bg-gradient-to-r from-blue-600 to-blue-800 relative overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4 drop-shadow-lg",children:"Our Impact"}),a.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto drop-shadow-md",children:"Rio Fish delivers measurable impact, advancing food and nutrition security across Kenya"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[a.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-xl p-8 border border-white/20 shadow-2xl hover:bg-white/25 transition-all duration-300",children:[a.jsxs("div",{className:"text-5xl font-bold text-white mb-3 drop-shadow-lg",children:[n.toLocaleString(),"+"]}),a.jsx("div",{className:"text-blue-100 text-lg font-medium drop-shadow-md",children:"Women farmers recruited"})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-xl p-8 border border-white/20 shadow-2xl hover:bg-white/25 transition-all duration-300",children:[a.jsxs("div",{className:"text-5xl font-bold text-white mb-3 drop-shadow-lg",children:[i.toLocaleString(),"+"]}),a.jsx("div",{className:"text-blue-100 text-lg font-medium drop-shadow-md",children:"Women Traders Supplied"})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-xl p-8 border border-white/20 shadow-2xl hover:bg-white/25 transition-all duration-300",children:[a.jsxs("div",{className:"text-5xl font-bold text-white mb-3 drop-shadow-lg",children:[l.toLocaleString(),"+"]}),a.jsx("div",{className:"text-blue-100 text-lg font-medium drop-shadow-md",children:"Total farmers aggregated"})]})]})]})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"The Challenge We Address"}),a.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Kenya faces a critical fish supply gap, with domestic production meeting only 30% of the nation's demand. This shortfall stems from multiple challenges: depleted water bodies due to overfishing, environmental degradation, climate change impacts, and inadequate aquaculture standards."}),a.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-4",children:[a.jsx(cm,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Combatting 'Jaboya' and HIV/AIDS Impact"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Our work actively combats 'jaboya'  a predatory practice where male fishermen sexually exploit women traders in exchange for access to scarce fish. Through our sustainable supply chain and direct market access, Rio Fish empowers women traders to operate independently and safely."})]}),a.jsxs("div",{className:"relative",children:[a.jsx(gn,{src:"https://images.unsplash.com/photo-1606844842584-4fb9bb2ec649?w=600&h=400&fit=crop&crop=center",alt:"Fresh fish processing facility",className:"rounded-lg shadow-xl w-full"}),a.jsx("div",{className:"absolute -bottom-6 -right-6 w-32 h-32 hidden md:block",children:a.jsx(gn,{src:"/fish-management/build/fishpic.jpg",alt:"Fish warehouse storage",className:"rounded-lg shadow-lg w-full h-full object-cover"})})]})]})})}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Strategies"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"A unique end-to-end model leveraging an integrated digital platform to transform Kenya's aquaculture sector."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((x,y)=>{const v=x.icon;return a.jsx(le,{className:"text-center p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-0 bg-white/90 backdrop-blur-sm",children:a.jsxs(he,{className:"space-y-4",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center shadow-md",children:a.jsx(v,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900",children:x.title}),a.jsx("p",{className:"text-gray-600 text-sm",children:x.description})]})},y)})})]})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Sustainable Development Goals"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Our commitment to advancing the United Nations Sustainable Development Goals through sustainable aquaculture."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((x,y)=>{const v=x.icon;return a.jsx(le,{className:"text-center p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-0 bg-gradient-to-br from-green-50 to-blue-50",children:a.jsxs(he,{className:"space-y-4",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gradient-to-br from-green-100 to-green-200 rounded-lg flex items-center justify-center shadow-md",children:a.jsx(v,{className:"w-6 h-6 text-green-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900",children:x.title}),a.jsx("p",{className:"text-gray-600 text-sm",children:x.description})]})},y)})})]})}),a.jsx("div",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Discover the Finest Freshwater Fish"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Pure, Local, Exceptional. We specialize in premium freshwater fish sourced from the region's pristine lakes and ponds."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((x,y)=>a.jsxs(le,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-0 bg-white",children:[a.jsx("div",{className:"aspect-square overflow-hidden",children:a.jsx(gn,{src:x.image,alt:x.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),a.jsxs(he,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:x.description})]})]},y))})]})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Our Processing Operations"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(gn,{src:"/fish-management/5.jpg",alt:"Fish processing warehouse",className:"rounded-lg shadow-md w-full h-64 object-cover"}),a.jsx(gn,{src:"/fish-management/1.jpg",alt:"Fresh fish processing",className:"rounded-lg shadow-md w-full h-48 object-cover"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(gn,{src:"/fish-management/2.jpg",alt:"Cold storage facility",className:"rounded-lg shadow-md w-full h-48 object-cover"}),a.jsx(gn,{src:"/fish-management/3.jpeg",alt:"Quality control process",className:"rounded-lg shadow-md w-full h-64 object-cover"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(gn,{src:"/fish-management/process4.jpg",alt:"Fish warehouse operations",className:"rounded-lg shadow-md w-full h-64 object-cover"}),a.jsx(gn,{src:"/fish-management/build/fishpic.jpg",alt:"Fish distribution center",className:"rounded-lg shadow-md w-full h-48 object-cover"})]})]})]})}),a.jsx("div",{className:"py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Let's Talk Fish"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"At Rio Fish, we are passionate about connecting with our customers, partners, and fish enthusiasts. Whether you have questions about our freshwater fish, want to discuss a potential collaboration, or simply wish to learn more about our offerings, our team is ready to listen."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(gu,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Phone"}),a.jsx("p",{className:"text-gray-600",children:"+254700938040"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(cm,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:"info@riofish.co.ke"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Join Our Team"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We are always on the lookout for talented individuals who are passionate about our mission. We actively recruit from the communities we serve, building a diverse and inclusive environment."}),a.jsx(te,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>window.open("https://riofish.co.ke/opportunities/","_blank","noopener,noreferrer"),children:"View Opportunities"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(gn,{src:"/fish-management/build/papo1.jpg",alt:"Rio Fish team and operations",className:"rounded-lg shadow-xl w-full"}),a.jsx("div",{className:"absolute -bottom-6 -left-6 w-32 h-32 hidden md:block",children:a.jsx(gn,{src:"/fish-management/build/papo2.jpg",alt:"Fresh fish processing",className:"rounded-lg shadow-lg w-full h-full object-cover"})})]})]})]})}),a.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-600 to-blue-800",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Discover Our World"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Ready to explore the world of premium freshwater fish? Visit our depots and immerse yourself in the Rio Fish experience. Our passionate team is eager to guide you through our selection."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(te,{size:"lg",variant:"secondary",onClick:e,className:"gap-2 bg-white text-blue-600 hover:bg-blue-50 shadow-lg hover:shadow-xl transition-all duration-300",children:["Start Your Journey",a.jsx(Bn,{className:"w-4 h-4"})]}),a.jsxs(te,{size:"lg",variant:"outline",className:"gap-2 border-white text-white hover:bg-white/10",onClick:()=>window.open("https://riofish.co.ke/gallery/","_blank","noopener,noreferrer"),children:[a.jsx(gu,{className:"w-4 h-4"}),"View Gallery"]})]})]})})]})}function qe({className:e,type:t,...r}){return a.jsx("input",{type:t,"data-slot":"input",className:Qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function de({className:e,...t}){return a.jsx($E,{"data-slot":"label",className:Qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function uje({onLogin:e,onBack:t}){const[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(!1),[u,h]=b.useState(!1),[f,m]=b.useState(null),g=async p=>{p.preventDefault(),h(!0),m(null);try{const x=await e(s,o);x.success||m(x.error||"Login failed. Please try again.")}catch(x){m(x.message||"Authentication failed. Please check your connection and try again.")}finally{h(!1)}};return a.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[a.jsxs("div",{className:"lg:hidden relative h-80 w-full",children:[a.jsx(gn,{src:"/fish-management/build/login-image.jpeg",alt:"Fish farmers on Lake Victoria with traditional fishing boats",className:"absolute inset-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),a.jsxs("div",{className:"relative z-10 p-6 text-white flex flex-col justify-center items-center text-center h-full",children:[a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Welcome to RIO FISH FARM"}),a.jsx("p",{className:"text-lg opacity-90",children:"Professional fish processing management"})]})]}),a.jsxs("div",{className:"hidden lg:flex lg:w-3/4 relative",children:[a.jsx(gn,{src:"/fish-management/build/login-image.jpeg",alt:"Fish farmers on Lake Victoria with traditional fishing boats",className:"absolute inset-0 w-full h-full object-cover"}),a.jsxs("div",{className:"relative z-10 p-8 text-white flex flex-col justify-end",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Welcome to RIO FISH FARM"}),a.jsx("p",{className:"text-xl opacity-90 mb-2",children:"Professional fish processing management"}),a.jsx("p",{className:"opacity-75",children:"Streamline your fish processing operations with our management system."})]})]}),a.jsx("div",{className:"w-full lg:w-1/4 flex items-center justify-center p-4 bg-gray-50 lg:min-h-screen",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(te,{variant:"ghost",onClick:t,className:"mb-6 gap-2 text-gray-600 hover:text-gray-900",children:[a.jsx(sP,{className:"w-4 h-4"}),"Back to Home"]}),a.jsxs(le,{className:"shadow-lg border-0",children:[a.jsxs(Ke,{className:"space-y-1 pb-6",children:[a.jsx("div",{className:"hidden lg:flex items-center justify-center mb-4",children:a.jsx(rd,{size:"lg",showText:!1})}),a.jsx(Ye,{className:"text-2xl text-center",children:c?"Create Account":"Welcome Back"}),a.jsx("p",{className:"text-center text-gray-600",children:c?"Start managing your fish operations":"Sign in to your account"})]}),a.jsx(he,{children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"email",children:"Email"}),a.jsx(qe,{id:"email",type:"email",placeholder:"john@example.com",value:s,onChange:p=>i(p.target.value),autoComplete:"email",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{id:"password",type:r?"text":"password",placeholder:"Enter your password",value:o,onChange:p=>l(p.target.value),autoComplete:"current-password",required:!0}),a.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0",onClick:()=>n(!r),children:r?a.jsx(cP,{className:"w-4 h-4"}):a.jsx(Jt,{className:"w-4 h-4"})})]})]}),f&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-sm text-red-600",children:f})}),a.jsx(te,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:u,children:u?"Please wait...":c?"Create Account":"Sign In"}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:[c?"Already have an account?":"Don't have an account?"," ",a.jsx(te,{type:"button",variant:"link",className:"p-0 h-auto text-blue-600",onClick:()=>d(!c),children:c?"Sign in":"Sign up"})]})]})})]})]})})]})}const hje=jg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function tn({className:e,variant:t,...r}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:Qe(hje({variant:t}),e),...r})}function rn({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:Qe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const _a=({children:e,requiredRole:t,requiredRoles:r,requiredPermissions:n=[],requiredAnyPermission:s=[],requiredAllPermissions:i=[],resource:o,action:l="read",section:c,fallback:d,showFallback:u=!0})=>{const{user:h,userProfile:f,loading:m,hasPermission:g,hasAnyPermission:p,hasAllPermissions:x,canAccess:y,canPerform:v,isAdmin:j}=Y0();return m?u?a.jsxs(tn,{className:"border-blue-200 bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),a.jsx(rn,{className:"text-blue-800",children:"Loading permissions..."})]}):null:h?c&&!y(c)?u?d||a.jsxs(tn,{className:"border-amber-200 bg-amber-50",children:[a.jsx(or,{className:"h-4 w-4 text-amber-600"}),a.jsx(rn,{className:"text-amber-800",children:"You don't have permission to access this section."})]}):null:t&&f?.role!==t&&!j()?u?d||a.jsxs(tn,{className:"border-amber-200 bg-amber-50",children:[a.jsx(or,{className:"h-4 w-4 text-amber-600"}),a.jsxs(rn,{className:"text-amber-800",children:["You need ",t," role to access this content."]})]}):null:r&&!r.includes(f?.role||"")&&!j()?u?d||a.jsxs(tn,{className:"border-amber-200 bg-amber-50",children:[a.jsx(or,{className:"h-4 w-4 text-amber-600"}),a.jsxs(rn,{className:"text-amber-800",children:["You need one of these roles to access this content: ",r.join(", ")]})]}):null:n.length>0&&!n.every(w=>g(w))?u?d||a.jsxs(tn,{className:"border-amber-200 bg-amber-50",children:[a.jsx(or,{className:"h-4 w-4 text-amber-600"}),a.jsx(rn,{className:"text-amber-800",children:"You don't have the required permissions to access this content."})]}):null:s.length>0&&!p(s)?u?d||a.jsxs(tn,{className:"border-amber-200 bg-amber-50",children:[a.jsx(or,{className:"h-4 w-4 text-amber-600"}),a.jsx(rn,{className:"text-amber-800",children:"You need at least one of the required permissions to access this content."})]}):null:i.length>0&&!x(i)?u?d||a.jsxs(tn,{className:"border-amber-200 bg-amber-50",children:[a.jsx(or,{className:"h-4 w-4 text-amber-600"}),a.jsx(rn,{className:"text-amber-800",children:"You need all the required permissions to access this content."})]}):null:o&&!v(l,o)?u?d||a.jsxs(tn,{className:"border-amber-200 bg-amber-50",children:[a.jsx(wt,{className:"h-4 w-4 text-amber-600"}),a.jsxs(rn,{className:"text-amber-800",children:["You don't have permission to ",l," ",o,"."]})]}):null:a.jsx(a.Fragment,{children:e}):u?d||a.jsxs(tn,{className:"border-red-200 bg-red-50",children:[a.jsx(Fj,{className:"h-4 w-4 text-red-600"}),a.jsx(rn,{className:"text-red-800",children:"You must be logged in to access this content."})]}):null},gD=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(rd,{size:"xl",showText:!0})})}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce"}),a.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Loading application..."})]})}),O3=b.lazy(()=>mr(()=>Promise.resolve().then(()=>Dje),void 0).then(e=>({default:e.Dashboard})).catch(()=>({default:()=>a.jsx("div",{children:"Dashboard component failed to load"})}))),fje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>$je),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Warehouse Entry component failed to load"})}))),mje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>Vje),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Processing Management component failed to load"})}))),pje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>Xje),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Sorting Management component failed to load"})}))),gje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>Zje),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Inventory Management component failed to load"})}))),xje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>r1e),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Transfer Reports component failed to load"})}))),yje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>a1e),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Disposal Management component failed to load"})}))),vje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>o1e),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Order Management component failed to load"})}))),bje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>c1e),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Dispatch Management component failed to load"})}))),wje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>h1e),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Outlet Receiving component failed to load"})}))),jje=b.lazy(()=>mr(()=>Promise.resolve().then(()=>b1e),void 0).catch(()=>({default:()=>a.jsx("div",{children:"Reports component failed to load"})}))),_je=b.lazy(()=>mr(()=>Promise.resolve().then(()=>S1e),void 0).catch(()=>({default:()=>a.jsx("div",{children:"User Management component failed to load"})}))),xD=b.memo(({currentSection:e,selectedItemId:t,onNavigate:r})=>{const n=()=>a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});return(()=>{switch(e){case"dashboard":return a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(O3,{onNavigate:r})})});case"warehouse-entry":return a.jsx(_a,{section:"warehouse-entry",requiredPermissions:["write:inventory"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(fje,{onNavigate:r})})})});case"processing":return a.jsx(_a,{section:"processing",requiredPermissions:["write:processing"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(mje,{onNavigate:r})})})});case"sorting":return a.jsx(_a,{section:"sorting",requiredPermissions:["write:processing"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(pje,{onNavigate:r})})})});case"inventory":return a.jsx(_a,{section:"inventory",requiredPermissions:["read:inventory"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(gje,{onNavigate:r})})})});case"transfers":return a.jsx(_a,{section:"transfers",requiredPermissions:["read:inventory"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(xje,{onNavigate:r})})})});case"disposal":return a.jsx(_a,{section:"disposal",requiredPermissions:["write:disposal"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(yje,{onNavigate:r})})})});case"outlet-orders":return a.jsx(_a,{section:"outlet-orders",requiredPermissions:["read:sales"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(vje,{onNavigate:r})})})});case"dispatch":return a.jsx(_a,{section:"dispatch",requiredPermissions:["write:logistics"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(bje,{onNavigate:r})})})});case"outlet-receiving":return a.jsx(_a,{section:"outlet-receiving",requiredPermissions:["read:sales"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(wje,{onNavigate:r})})})});case"reports":return a.jsx(_a,{section:"reports",requiredPermissions:["read:basic"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(jje,{onNavigate:r})})})});case"user-management":return a.jsx(_a,{section:"user-management",requiredPermissions:["admin:*","write:users"],children:a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(_je,{onNavigate:r})})})});default:return a.jsx(Zr,{children:a.jsx(b.Suspense,{fallback:a.jsx(n,{}),children:a.jsx(O3,{onNavigate:r})})})}})()});xD.displayName="AppContentRenderer";function Nje(){const{user:e,loading:t,signIn:r,signOut:n}=oi(),[s,i]=b.useState("dashboard"),[o,l]=b.useState(void 0),[c,d]=b.useState("landing");return console.log("AppContent - user:",e?JSON.stringify(e,null,2):"null"),console.log("AppContent - loading:",t),console.log("AppContent - appState:",c),console.log("AppContent - user exists:",!!e),console.log("AppContent - user role:",e?.role),t?a.jsx(gD,{}):c==="landing"?a.jsx(dje,{onGetStarted:()=>d("login")}):c==="login"?a.jsx(uje,{onLogin:async(u,h)=>{const f=await r(u,h);return f.success?(d("app"),{success:!0}):{success:!1,error:f.error}},onBack:()=>d("landing")}):(console.log("AppContent: Rendering main app, user:",e,"appState:",c),a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(lje,{currentSection:s,onNavigate:u=>i(u),onLogout:async()=>{await n(),d("landing")}}),a.jsx("main",{className:"md:ml-72 pt-16 md:pt-0 min-h-screen",children:a.jsx("div",{className:"p-4 md:p-6",children:a.jsx(xD,{currentSection:s,selectedItemId:o,onNavigate:(u,h)=>{i(u),l(h)}})})})]}))}const kje=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rio Fish Farm"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Kenya Operations"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Loading application..."})]})});function Sje(){try{return a.jsx(Zr,{children:a.jsx(Nje,{})})}catch(e){return console.error("App render error:",e),a.jsx(kje,{})}}const Oje=({...e})=>{const t=()=>typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return a.jsx(kE,{theme:t(),className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},Pje=()=>{if("serviceWorker"in navigator){const e=new FE("/sw.js");e.addEventListener("controlling",()=>{console.log("Service worker is now controlling the page")}),e.addEventListener("waiting",()=>{console.log("New service worker is waiting"),confirm("New version available! Reload to update?")&&(e.addEventListener("controlling",()=>{window.location.reload()}),e.messageSkipWaiting())}),e.register().then(t=>{console.log("Service worker registered successfully:",t)}).catch(t=>{console.log("Service worker registration failed:",t)})}},Eje=()=>{let e;window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),e=n,t()}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),r()});const t=()=>{let n=document.getElementById("pwa-install-button");n||(n=document.createElement("button"),n.id="pwa-install-button",n.innerHTML=" Install App",n.className="fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-blue-700 z-50",n.onclick=()=>{e&&(e.prompt(),e.userChoice.then(s=>{s.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),e=null}))},document.body.appendChild(n))},r=()=>{const n=document.getElementById("pwa-install-button");n&&n.remove()}},Cje=()=>{const e=()=>{const t=navigator.onLine,r=document.getElementById("offline-status");if(r)r.textContent=t?"Online":"Offline",r.className=t?"fixed top-4 right-4 bg-green-500 text-white px-3 py-1 rounded text-sm z-50":"fixed top-4 right-4 bg-red-500 text-white px-3 py-1 rounded text-sm z-50";else if(!t){const n=document.createElement("div");n.id="offline-status",n.textContent="Offline",n.className="fixed top-4 right-4 bg-red-500 text-white px-3 py-1 rounded text-sm z-50",document.body.appendChild(n)}};window.addEventListener("online",e),window.addEventListener("offline",e),e()},Aje=()=>{Pje(),Eje(),Cje()};typeof window<"u"&&(window.React=z,window.ReactDOM=WO);Aje();Ij(document.getElementById("root")).render(a.jsx(b.Suspense,{fallback:a.jsx(gD,{}),children:a.jsxs(oje,{children:[a.jsx(Sje,{}),a.jsx(Oje,{})]})}));function sg(){const[e,t]=b.useState([]);return b.useEffect(()=>{t([{id:"1",type:"success",icon:a.jsx(Je,{className:"h-5 w-5"}),text:" Fresh Tilapia Batch Processed - 2,500kg Ready for Distribution",bgColor:"bg-green-100",textColor:"text-green-800"},{id:"2",type:"info",icon:a.jsx(It,{className:"h-5 w-5"}),text:" Daily Production: 1,200kg Nile Perch | 800kg Tilapia | 600kg Catfish",bgColor:"bg-blue-100",textColor:"text-blue-800"},{id:"3",type:"achievement",icon:a.jsx(Bm,{className:"h-5 w-5"}),text:" Quality Excellence: 98.5% Grade A Fish This Month",bgColor:"bg-purple-100",textColor:"text-purple-800"},{id:"4",type:"info",icon:a.jsx(_n,{className:"h-5 w-5"}),text:" Revenue Growth: +15% This Quarter | New Outlets Added",bgColor:"bg-indigo-100",textColor:"text-indigo-800"},{id:"5",type:"warning",icon:a.jsx(rr,{className:"h-5 w-5"}),text:" Temperature Alert: Cold Storage at Optimal 2C",bgColor:"bg-yellow-100",textColor:"text-yellow-800"},{id:"6",type:"success",icon:a.jsx(Sg,{className:"h-5 w-5"}),text:" Customer Satisfaction: 4.9/5 Rating | 50+ Happy Outlets",bgColor:"bg-emerald-100",textColor:"text-emerald-800"},{id:"7",type:"info",icon:a.jsx(Og,{className:"h-5 w-5"}),text:" Processing Speed: 3.2kg/minute | Efficiency Record Broken",bgColor:"bg-orange-100",textColor:"text-orange-800"},{id:"8",type:"achievement",icon:a.jsx(Bm,{className:"h-5 w-5"}),text:" Target Achieved: 15,000kg Monthly Production Goal Met",bgColor:"bg-rose-100",textColor:"text-rose-800"}])},[]),a.jsx("div",{className:"w-full bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200 shadow-sm overflow-hidden relative z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx("div",{className:"relative py-2 overflow-hidden",children:a.jsxs("div",{className:"flex animate-marquee-simple whitespace-nowrap",children:[e.map(r=>a.jsxs("div",{className:`flex items-center gap-3 px-6 py-2 rounded-full ${r.bgColor} ${r.textColor} font-medium text-sm whitespace-nowrap mx-4 shadow-sm border flex-shrink-0`,children:[r.icon,a.jsx("span",{children:r.text})]},r.id)),e.map(r=>a.jsxs("div",{className:`flex items-center gap-3 px-6 py-2 rounded-full ${r.bgColor} ${r.textColor} font-medium text-sm whitespace-nowrap mx-4 shadow-sm border flex-shrink-0`,children:[r.icon,a.jsx("span",{children:r.text})]},`duplicate-${r.id}`))]})})})})}function Tje({onNavigate:e}){const{canAccess:t}=Y0(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(new Date),u=async()=>{try{i(!0),l(null),console.log("Dashboard: Fetching enhanced stats from database...");const g=await ije.getEnhancedDashboardStats();console.log("Dashboard: Enhanced stats fetched from database:",g),g?console.log("Dashboard: Stats breakdown:",{totalWarehouseEntries:g.totalWarehouseEntries,totalWeight:g.totalWeight,totalOrders:g.totalOrders,totalFarmers:g.totalFarmers,recentActivity:g.recentActivity?.length||0}):console.warn("Dashboard: No stats data received from database"),n(g),d(new Date)}catch(g){console.error("Dashboard: Error fetching enhanced stats:",g),l(g instanceof Error?g.message:"Failed to fetch dashboard data")}finally{i(!1)}};b.useEffect(()=>{u()},[]);const h=g=>`KES ${g.toLocaleString()}`,f=(g,p=!0)=>p?a.jsx(_n,{className:"h-4 w-4 text-green-500"}):a.jsx(qj,{className:"h-4 w-4 text-red-500"}),m=g=>{switch(g){case"order":return a.jsx(Ra,{className:"h-4 w-4 text-blue-600"});case"entry":return a.jsx(Nn,{className:"h-4 w-4 text-green-600"});case"processing":return a.jsx(ca,{className:"h-4 w-4 text-purple-600"});case"dispatch":return a.jsx(ln,{className:"h-4 w-4 text-orange-600"});default:return a.jsx(nt,{className:"h-4 w-4"})}};return s&&!r?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[a.jsx(sg,{}),a.jsx("div",{className:"p-4 md:p-8 pt-2",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl shadow-xl",children:a.jsx(It,{className:"h-12 w-12 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-900 to-indigo-800 bg-clip-text text-transparent",children:"RIO FISH FARM"}),a.jsx("p",{className:"text-lg text-slate-600 mt-2",children:"Size-Based Fish Processing Management  Kenya Operations"})]})]}),a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Tt,{className:"h-16 w-16 mx-auto mb-6 animate-spin text-blue-600"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-blue-200"})]}),a.jsx("p",{className:"text-2xl font-semibold text-slate-700 mb-2",children:"Loading Dashboard..."}),a.jsx("p",{className:"text-slate-500 mb-4",children:"Fetching real-time data from your database"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-400",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})]})})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[a.jsx(sg,{}),a.jsx("div",{className:"p-4 md:p-8 pt-2",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center gap-6",children:a.jsx("div",{className:"w-64 h-40 flex-shrink-0",children:a.jsx("img",{src:"/fish-management/build/riofish-logo.png",alt:"Rio Fish Logo",className:"w-full h-full object-contain",style:{imageRendering:"crisp-edges"},onError:g=>{console.log("Logo failed to load, trying fallback");const p=g.target;p.src="https://riofish.co.ke/wp-content/uploads/2024/01/riofish_logo_copy-removed-background-white.png"}})})}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-500",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white/60 px-3 py-2 rounded-full",children:[a.jsx(Pr,{className:"h-4 w-4"}),"Last updated: ",c.toLocaleTimeString()]}),o&&a.jsxs("div",{className:"flex items-center gap-2 bg-red-50 text-red-600 px-3 py-2 rounded-full",children:[a.jsx(rr,{className:"h-4 w-4"}),o]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(te,{onClick:u,disabled:s,variant:"outline",className:"px-6 py-3 rounded-xl font-semibold border-slate-300 hover:bg-slate-50",children:[a.jsx(Tt,{className:`h-5 w-5 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),t("warehouse-entry")&&a.jsxs(te,{variant:"outline",onClick:()=>e("warehouse-entry"),className:"px-6 py-3 rounded-xl font-semibold border-blue-300 hover:bg-blue-50",children:[a.jsx(on,{className:"h-5 w-5 mr-2"}),"New Entry"]}),t("reports")&&a.jsxs(te,{onClick:()=>e("reports"),className:"bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(fa,{className:"h-5 w-5 mr-2"}),"Reports"]})]})]}),o&&a.jsx(le,{className:"border-red-200 bg-red-50 shadow-lg",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-600 rounded-xl",children:a.jsx(rr,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-800 font-semibold text-lg",children:"Error loading dashboard"}),a.jsx("p",{className:"text-red-600 text-sm mt-1",children:o}),a.jsx("p",{className:"text-red-500 text-xs mt-2",children:"Please try refreshing or check your connection"})]}),a.jsxs(te,{onClick:u,variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Retry"]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:shadow-2xl transition-all duration-300 group",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide",children:"Total Weight"}),a.jsx("p",{className:"text-4xl font-bold text-blue-900 mt-2",children:s?"...":r?.totalWeight?.toFixed(1)||"0.0"}),a.jsx("p",{className:"text-sm text-blue-600",children:"kg"}),a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[f(r?.recentWeight||0),a.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["+",r?.recentWeight?.toFixed(1)||0,"kg this week"]})]})]}),a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx(Xr,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-emerald-50 to-emerald-100 hover:shadow-2xl transition-all duration-300 group",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-600 uppercase tracking-wide",children:"Ready for Dispatch"}),a.jsx("p",{className:"text-4xl font-bold text-emerald-900 mt-2",children:s?"...":r?.totalReadyForDispatch||0}),a.jsx("p",{className:"text-sm text-emerald-600",children:"fish"}),a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[f(r?.recentProcessingCount||0),a.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["+",r?.recentProcessingCount||0," processed this week"]})]})]}),a.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-600 to-emerald-800 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx(ln,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-50 to-purple-100 hover:shadow-2xl transition-all duration-300 group",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-purple-600 uppercase tracking-wide",children:"Total Orders"}),a.jsx("p",{className:"text-4xl font-bold text-purple-900 mt-2",children:s?"...":r?.totalOrders||0}),a.jsx("p",{className:"text-sm text-purple-600",children:"orders"}),a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[f(r?.recentOrdersCount||0),a.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["+",r?.recentOrdersCount||0," this week"]})]})]}),a.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-600 to-purple-800 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx(Ra,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-orange-50 to-orange-100 hover:shadow-2xl transition-all duration-300 group",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-orange-600 uppercase tracking-wide",children:"Total Value"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-2",children:s?"...":h(r?.totalOrderValue||0)}),a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[f(r?.recentOrderValue||0),a.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["+",h(r?.recentOrderValue||0)," this week"]})]})]}),a.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-600 to-orange-800 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx(ds,{className:"h-8 w-8 text-white"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[a.jsx(le,{className:"p-4 bg-gradient-to-br from-cyan-50 to-cyan-100 border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:a.jsx(he,{className:"p-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-600 to-cyan-800 rounded-xl w-fit mx-auto mb-2 group-hover:scale-110 transition-transform duration-300",children:a.jsx(Nn,{className:"h-5 w-5 text-white"})}),a.jsx("p",{className:"text-sm font-semibold text-cyan-600",children:"Warehouse Entries"}),a.jsx("p",{className:"text-2xl font-bold text-cyan-900",children:r?.totalWarehouseEntries||0})]})})}),a.jsx(le,{className:"p-4 bg-gradient-to-br from-pink-50 to-pink-100 border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:a.jsx(he,{className:"p-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-pink-600 to-pink-800 rounded-xl w-fit mx-auto mb-2 group-hover:scale-110 transition-transform duration-300",children:a.jsx(ca,{className:"h-5 w-5 text-white"})}),a.jsx("p",{className:"text-sm font-semibold text-pink-600",children:"Processing Records"}),a.jsx("p",{className:"text-2xl font-bold text-pink-900",children:r?.totalProcessingRecords||0})]})})}),a.jsx(le,{className:"p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:a.jsx(he,{className:"p-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl w-fit mx-auto mb-2 group-hover:scale-110 transition-transform duration-300",children:a.jsx(nt,{className:"h-5 w-5 text-white"})}),a.jsx("p",{className:"text-sm font-semibold text-indigo-600",children:"Inventory Items"}),a.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:r?.totalInventoryItems||0})]})})}),a.jsx(le,{className:"p-4 bg-gradient-to-br from-teal-50 to-teal-100 border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:a.jsx(he,{className:"p-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-2 bg-teal-600 rounded-xl w-fit mx-auto mb-2 group-hover:scale-110 transition-transform duration-300",children:a.jsx(Vn,{className:"h-5 w-5 text-white"})}),a.jsx("p",{className:"text-sm font-semibold text-teal-600",children:"Active Outlets"}),a.jsx("p",{className:"text-2xl font-bold text-teal-900",children:r?.activeOutletsCount||0})]})})}),a.jsx(le,{className:"p-4 bg-gradient-to-br from-amber-50 to-amber-100 border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:a.jsx(he,{className:"p-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-2 bg-amber-600 rounded-xl w-fit mx-auto mb-2 group-hover:scale-110 transition-transform duration-300",children:a.jsx(Un,{className:"h-5 w-5 text-white"})}),a.jsx("p",{className:"text-sm font-semibold text-amber-600",children:"Total Farmers"}),a.jsx("p",{className:"text-2xl font-bold text-amber-900",children:r?.totalFarmers||0})]})})}),a.jsx(le,{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:a.jsx(he,{className:"p-0",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-2 bg-red-600 rounded-xl w-fit mx-auto mb-2 group-hover:scale-110 transition-transform duration-300",children:a.jsx(wt,{className:"h-5 w-5 text-white"})}),a.jsx("p",{className:"text-sm font-semibold text-red-600",children:"Pending Dispatches"}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:r?.pendingDispatchesCount||0})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{className:"border-0 shadow-2xl bg-white/90 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-slate-50 to-slate-100 rounded-t-3xl",children:a.jsxs(Ye,{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-600 rounded-xl",children:a.jsx(gP,{className:"h-5 w-5 text-white"})}),"Average Temperature"]})}),a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-red-600 mb-2",children:s?"...":`${r?.avgTemperature||0}C`}),a.jsx("p",{className:"text-sm text-slate-500",children:"Current average temperature"}),a.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-700",children:r?.avgTemperature&&r.avgTemperature>25?" Temperature is high - monitor fish health":" Temperature is within normal range"})})]})})]}),a.jsxs(le,{className:"border-0 shadow-2xl bg-white/90 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-slate-50 to-slate-100 rounded-t-3xl",children:a.jsxs(Ye,{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-600 rounded-xl",children:a.jsx(Ng,{className:"h-5 w-5 text-white"})}),"Fish Size Analysis"]})}),a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:s?"...":`${r?.avgFishSize||0}kg`}),a.jsx("p",{className:"text-sm text-slate-500",children:"Average fish size"}),a.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl",children:a.jsx("p",{className:"text-sm text-blue-700",children:r?.avgFishSize&&r.avgFishSize>2?" Large fish - good for premium markets":" Standard size - suitable for regular processing"})})]})})]})]}),a.jsxs(le,{className:"border-0 shadow-2xl bg-white/90 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-slate-50 to-slate-100 rounded-t-3xl",children:a.jsxs(Ye,{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-600 rounded-xl",children:a.jsx(cc,{className:"h-6 w-6 text-white"})}),"Quick Actions"]})}),a.jsx(he,{className:"p-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t("warehouse-entry")&&a.jsxs(te,{variant:"outline",className:"h-28 flex flex-col items-center justify-center gap-3 hover:bg-blue-50 hover:border-blue-300 transition-all duration-300 group",onClick:()=>e("warehouse-entry"),children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl group-hover:scale-110 transition-transform duration-300",children:a.jsx(Nn,{className:"h-8 w-8 text-white"})}),a.jsx("span",{className:"text-sm font-medium",children:"Fish Entry"})]}),t("processing")&&a.jsxs(te,{variant:"outline",className:"h-28 flex flex-col items-center justify-center gap-3 hover:bg-orange-50 hover:border-orange-300 transition-all duration-300 group",onClick:()=>e("processing"),children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-600 to-orange-800 rounded-xl group-hover:scale-110 transition-transform duration-300",children:a.jsx(ca,{className:"h-8 w-8 text-white"})}),a.jsx("span",{className:"text-sm font-medium",children:"Processing"})]}),t("dispatch")&&a.jsxs(te,{variant:"outline",className:"h-28 flex flex-col items-center justify-center gap-3 hover:bg-green-50 hover:border-green-300 transition-all duration-300 group",onClick:()=>e("dispatch"),children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-800 rounded-xl group-hover:scale-110 transition-transform duration-300",children:a.jsx(ln,{className:"h-8 w-8 text-white"})}),a.jsx("span",{className:"text-sm font-medium",children:"Dispatch"})]}),t("outlet-orders")&&a.jsxs(te,{variant:"outline",className:"h-28 flex flex-col items-center justify-center gap-3 hover:bg-purple-50 hover:border-purple-300 transition-all duration-300 group",onClick:()=>e("outlet-orders"),children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-600 to-purple-800 rounded-xl group-hover:scale-110 transition-transform duration-300",children:a.jsx(Ra,{className:"h-8 w-8 text-white"})}),a.jsx("span",{className:"text-sm font-medium",children:"Orders"})]})]})})]}),a.jsxs(le,{className:"border-0 shadow-2xl bg-white/90 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-slate-50 to-slate-100 rounded-t-3xl",children:a.jsxs(Ye,{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl",children:a.jsx(_n,{className:"h-6 w-6 text-white"})}),"Performance Summary"]})}),a.jsx(he,{className:"p-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-2xl",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-600 to-green-800 rounded-xl w-fit mx-auto mb-4",children:a.jsx(Je,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Processing Efficiency"}),a.jsx("p",{className:"text-3xl font-bold text-green-900 mb-2",children:r?.totalProcessingRecords||0}),a.jsx("p",{className:"text-sm text-green-600",children:"Total processing records"}),a.jsx("div",{className:"mt-3 p-2 bg-green-200 rounded-lg",children:a.jsx("p",{className:"text-xs text-green-800",children:r?.totalReadyForDispatch&&r.totalReadyForDispatch>0?` ${r.totalReadyForDispatch} fish ready for dispatch`:" No fish ready for dispatch"})})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl w-fit mx-auto mb-4",children:a.jsx(nt,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Inventory Health"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-900 mb-2",children:[r?.totalInventoryWeight?.toFixed(1)||"0.0","kg"]}),a.jsx("p",{className:"text-sm text-blue-600",children:"Total inventory weight"}),a.jsx("div",{className:"mt-3 p-2 bg-blue-200 rounded-lg",children:a.jsx("p",{className:"text-xs text-blue-800",children:r?.totalInventoryWeight&&r.totalInventoryWeight>100?" Good inventory levels":" Low inventory - consider restocking"})})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-600 to-purple-800 rounded-xl w-fit mx-auto mb-4",children:a.jsx(ds,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"Business Performance"}),a.jsx("p",{className:"text-3xl font-bold text-purple-900 mb-2",children:r?.totalOrders||0}),a.jsx("p",{className:"text-sm text-purple-600",children:"Total orders"}),a.jsx("div",{className:"mt-3 p-2 bg-purple-200 rounded-lg",children:a.jsx("p",{className:"text-xs text-purple-800",children:r?.totalOrders&&r.totalOrders>0?` KES ${r.totalOrderValue?.toLocaleString()||0} total value`:" No orders yet"})})]})]})})]}),a.jsxs(le,{className:"border-0 shadow-2xl bg-white/90 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-slate-50 to-slate-100 rounded-t-3xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ye,{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-green-600 to-green-800 rounded-xl",children:a.jsx(cc,{className:"h-6 w-6 text-white"})}),"Recent Activity"]}),r?.recentActivity&&r.recentActivity.length>0&&a.jsxs(te,{variant:"outline",className:"px-4 py-2 rounded-xl text-sm",onClick:()=>e("reports"),children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"View All"]})]})}),a.jsxs(he,{className:"p-8",children:[a.jsx("div",{className:"space-y-4",children:r?.recentActivity&&r.recentActivity.length>0?r.recentActivity.slice(0,5).map((g,p)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-2xl hover:shadow-md hover:border-slate-300 transition-all duration-300 bg-white/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-slate-100 rounded-xl",children:m(g?.type||"default")}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:g?.action||"Unknown Action"}),a.jsx("p",{className:"text-sm text-slate-500",children:g?.details||"No details available"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:g?.created_at?new Date(g.created_at).toLocaleDateString():"Unknown date"}),a.jsx("p",{className:"text-xs text-slate-400",children:g?.created_at?new Date(g.created_at).toLocaleTimeString():"Unknown time"})]})]},g?.id||p)):a.jsxs("div",{className:"text-center py-16 text-slate-500",children:[a.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-fit mx-auto mb-6",children:a.jsx(nt,{className:"h-16 w-16 text-slate-400"})}),a.jsx("p",{className:"text-xl font-medium text-slate-700",children:"No recent activity"}),a.jsx("p",{className:"text-sm mt-2 text-slate-500",children:"Activity will appear here as you use the system"}),t("warehouse-entry")&&a.jsxs(te,{variant:"outline",className:"mt-6 px-6 py-3 rounded-xl",onClick:()=>e("warehouse-entry"),children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Start with Fish Entry"]})]})}),r?.recentActivity&&r.recentActivity.length>5&&a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-sm text-slate-500",children:["Showing 5 of ",r.recentActivity.length," recent activities"]})})]})]})]})})]})}const Dje=Object.freeze(Object.defineProperty({__proto__:null,Dashboard:Tje},Symbol.toStringTag,{value:"Module"}));function lr({...e}){return a.jsx(qC,{"data-slot":"select",...e})}function cr({...e}){return a.jsx(UC,{"data-slot":"select-value",...e})}function dr({className:e,size:t="default",children:r,...n}){return a.jsxs(BC,{"data-slot":"select-trigger","data-size":t,className:Qe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(WC,{asChild:!0,children:a.jsx(qa,{className:"size-4 opacity-50"})})]})}function ur({className:e,children:t,position:r="popper",...n}){return a.jsx(VC,{children:a.jsxs(HC,{"data-slot":"select-content",className:Qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Mje,{}),a.jsx(KC,{className:Qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(zje,{})]})})}function Fe({className:e,children:t,...r}){return a.jsxs(GC,{"data-slot":"select-item",className:Qe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(XC,{children:a.jsx(Bo,{className:"size-4"})})}),a.jsx(YC,{children:t})]})}function Mje({className:e,...t}){return a.jsx(QC,{"data-slot":"select-scroll-up-button",className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(jc,{className:"size-4"})})}function zje({className:e,...t}){return a.jsx(JC,{"data-slot":"select-scroll-down-button",className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(qa,{className:"size-4"})})}function $a({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:Qe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Rt=Kj,nf=Gj,Ije=Yj,yD=b.forwardRef(({className:e,...t},r)=>a.jsx(Mg,{ref:r,className:Qe("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yD.displayName="DialogOverlay";const Mt=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Ije,{children:[a.jsx(yD,{}),a.jsxs(zg,{ref:n,className:Qe("fixed top-1/2 left-1/2 z-50 w-full max-w-[calc(100%-2rem)] sm:max-w-lg translate-x-[-50%] translate-y-[-50%] border rounded-lg bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,children:[t,a.jsx(Qj,{className:"absolute top-4 right-4 opacity-70 transition-opacity hover:opacity-100 rounded-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none ring-offset-background data-[state=open]:bg-accent data-[state=open]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","aria-label":"Close",children:a.jsx(Ys,{})})]})]}));Mt.displayName="DialogContent";const zt=b.forwardRef(({className:e,...t},r)=>a.jsx(Xj,{ref:r,className:Qe("text-lg font-semibold leading-none",e),...t}));zt.displayName="DialogTitle";const sn=b.forwardRef(({className:e,...t},r)=>a.jsx(HP,{ref:r,className:Qe("text-sm text-muted-foreground",e),...t}));sn.displayName="DialogDescription";const Lt=({className:e,...t})=>a.jsx("div",{className:Qe("flex flex-col gap-2 text-center sm:text-left",e),...t}),zo=({className:e,...t})=>a.jsx("div",{className:Qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t});async function vD(){try{const{data:e,error:t}=await Q.from("sorting_batches").select("batch_number").not("batch_number","is",null).order("batch_number",{ascending:!1}).limit(1).maybeSingle();if(t)return console.warn("Error fetching existing batch numbers:",t.message),t.message&&t.message.includes("relation")&&t.message.includes("does not exist")?(console.warn("sorting_batches table does not exist, using timestamp-based batch number"),`Batch${Date.now().toString().slice(-6)}`):`Batch${Date.now().toString().slice(-6)}`;let r=1;if(e?.batch_number){const n=e.batch_number.match(/^Batch(\d+)$/);n&&(r=parseInt(n[1],10)+1)}return`Batch${r.toString().padStart(4,"0")}`}catch(e){return console.error("Error generating batch number:",e),`Batch${Date.now().toString().slice(-6)}`}}async function Pu(){try{const{data:e,error:t}=await Q.from("warehouse_entries").select("entry_code").not("entry_code","is",null).order("entry_code",{ascending:!1}).limit(1).maybeSingle();if(t)return console.warn("Error fetching existing entry codes:",t.message),`WE${Date.now().toString().slice(-6)}`;let r=1;if(e?.entry_code){const n=e.entry_code.match(/^WE(\d+)$/);n&&(r=parseInt(n[1],10)+1)}return`WE${r.toString().padStart(3,"0")}`}catch(e){return console.error("Error generating unique entry code:",e),`WE${Date.now().toString().slice(-6)}`}}async function Y_(e){try{const{data:t,error:r}=await Q.from("warehouse_entries").select("entry_code").eq("id",e).single();if(r)return console.warn("Error fetching entry code:",r.message),await Pu();if(t?.entry_code)return t.entry_code;const n=await Pu(),{error:s}=await Q.from("warehouse_entries").update({entry_code:n}).eq("id",e);return s&&console.warn("Error updating entry code:",s.message),n}catch(t){return console.error("Error getting/generating entry code:",t),await Pu()}}async function gm(){try{const{data:e,error:t}=await Q.from("processing_records").select("processing_code").not("processing_code","is",null).order("processing_code",{ascending:!1}).limit(1).maybeSingle();if(t)return console.warn("Error fetching existing processing codes:",t.message),`PR${Date.now().toString().slice(-6)}`;let r=1;if(e?.processing_code){const n=e.processing_code.match(/^PR(\d+)$/);n&&(r=parseInt(n[1],10)+1)}return`PR${r.toString().padStart(3,"0")}`}catch(e){return console.error("Error generating unique processing code:",e),`PR${Date.now().toString().slice(-6)}`}}async function bD(e){try{const{data:t,error:r}=await Q.from("processing_records").select("processing_code").eq("id",e).single();if(r)return console.warn("Error fetching processing code:",r.message),await gm();if(t?.processing_code)return t.processing_code;const n=await gm(),{error:s}=await Q.from("processing_records").update({processing_code:n}).eq("id",e);return s&&console.warn("Error updating processing code:",s.message),n}catch(t){return console.error("Error getting/generating processing code:",t),await gm()}}const Rje=Object.freeze(Object.defineProperty({__proto__:null,generateUniqueBatchNumber:vD,generateUniqueEntryCode:Pu,generateUniqueProcessingCode:gm,getOrGenerateEntryCode:Y_,getOrGenerateProcessingCode:bD},Symbol.toStringTag,{value:"Module"}));function Lje({onNavigate:e}){const[t,r]=b.useState([]),[n,s]=b.useState([]),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[h,f]=b.useState(null),[m,g]=b.useState(null),[p,x]=b.useState({farmerId:"",totalWeight:"",totalPieces:"",pricePerKg:"",condition:"",fishType:"",notes:""}),[y,v]=b.useState({}),[j,w]=b.useState(""),[k,N]=b.useState("all"),[S,O]=b.useState(!0),[P,$]=b.useState(null),[T,I]=b.useState(new Set),[D,E]=b.useState(!0),q=A=>{switch(A){case"excellent":return"excellent";case"good":return"good";case"fair":return"fair";default:return"good"}},F=A=>{switch(A){case"excellent":return"excellent";case"good":return"good";case"fair":return"fair";case"poor":return"poor";default:return"good"}},V=A=>{const ce=n.find(we=>we.id===A);return ce?ce.name:`Farmer ID: ${A}`},L=A=>{const ce=A.reduce((we,Ee)=>{const Se=Ee.farmer_id;return we[Se]||(we[Se]={farmer:n.find(Te=>Te.id===Se)||{id:Se,name:`Farmer ID: ${Se}`,location:"Unknown"},entries:[],totalWeight:0,totalValue:0,totalPieces:0,entryCount:0}),we[Se].entries.push(Ee),we[Se].totalWeight+=Ee.total_weight,we[Se].totalValue+=Ee.total_value,we[Se].totalPieces+=Ee.total_pieces,we[Se].entryCount+=1,we},{});return Object.values(ce).sort((we,Ee)=>Ee.totalValue-we.totalValue)},G=A=>{const ce=new Set(T);ce.has(A)?ce.delete(A):ce.add(A),I(ce)},ee=async()=>{try{const{data:A,error:ce}=await Q.from("farmers").select("*").eq("status","active").order("name");if(ce)throw ce;s(A||[])}catch{s([])}},ne=async()=>{try{const{data:A,error:ce}=await Q.from("warehouse_entries").select(`
          *,
          farmers!inner(name)
        `).order("created_at",{ascending:!1}).limit(20);if(ce)throw ce;const we=await Promise.all((A||[]).map(async Ee=>{const Se=Ee.entry_code||await Y_(Ee.id);return{...Ee,farmer_name:Ee.farmers?.name||`Farmer ID: ${Ee.farmer_id}`,entry_code:Se}}));r(we)}catch{r([])}};b.useEffect(()=>{ee(),ne()},[]);const R=()=>{const A={};return p.farmerId||(A.farmerId="Please select a farmer"),(!p.totalWeight||parseFloat(p.totalWeight)<=0)&&(A.totalWeight="Please enter a valid weight"),(!p.totalPieces||parseInt(p.totalPieces)<=0)&&(A.totalPieces="Please enter valid number of pieces"),(!p.pricePerKg||parseFloat(p.pricePerKg)<=0)&&(A.pricePerKg="Please enter a valid price per kg"),p.condition||(A.condition="Please select a grade/condition"),p.fishType||(A.fishType="Please select a fish type"),v(A),Object.keys(A).length===0},Y=async(A,ce,we,Ee,Se)=>{try{const Te=JSON.parse(sessionStorage.getItem("currentUser")||"null");if(!Te)return;const Ie={user_id:Te.id,action:A,table_name:ce,record_id:we,old_values:Ee?JSON.stringify(Ee):null,new_values:Se?JSON.stringify(Se):null,ip_address:null,user_agent:navigator.userAgent,created_at:new Date().toISOString()},{error:Ue}=await Q.from("audit_logs").insert([Ie]);Ue&&console.warn("Failed to log audit event:",Ue)}catch(Te){console.warn("Failed to log audit event:",Te)}},se=async()=>{if(R()){u(!0),f(null),g(null);try{const A=n.find(Ue=>Ue.id.toString()===p.farmerId||Ue.id===parseInt(p.farmerId));if(!A)throw new Error("Selected farmer not found");const ce=parseFloat(p.totalWeight),we=parseFloat(p.pricePerKg),Ee=await Pu(),Se={entry_date:new Date().toISOString().split("T")[0],total_weight:ce,total_pieces:parseInt(p.totalPieces),condition:q(p.condition),fish_type:p.fishType,farmer_id:A.id,price_per_kg:we,total_value:ce*we,notes:p.notes.trim()||"",entry_code:Ee},{data:Te,error:Ie}=await Q.from("warehouse_entries").insert([Se]).select();if(Ie)throw Ie;Te&&Te.length>0&&(r(Ue=>[Te[0],...Ue]),await Y("INSERT","warehouse_entries",Te[0].id,null,Se)),x({farmerId:"",totalWeight:"",totalPieces:"",pricePerKg:"",condition:"",fishType:"",notes:""}),v({}),o(!1),g("Entry recorded successfully!"),setTimeout(()=>g(null),3e3)}catch(A){f("Failed to save entry: "+A.message)}finally{u(!1)}}},oe=A=>{switch(F(A)){case"excellent":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"good":return"bg-blue-100 text-blue-800 border-blue-300";case"fair":return"bg-amber-100 text-amber-800 border-amber-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},K=A=>{switch(F(A)){case"excellent":case"good":return a.jsx(Je,{className:"h-4 w-4 text-green-600"});case"fair":return a.jsx(wt,{className:"h-4 w-4 text-amber-600"});default:return a.jsx(Je,{className:"h-4 w-4 text-gray-600"})}},U=A=>`KES ${A.toLocaleString()}`,B=A=>new Date(A).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric"}),W=t.filter(A=>{const ce=A.farmer_name?.toLowerCase().includes(j.toLowerCase())||A.entry_code?.toLowerCase().includes(j.toLowerCase())||A.notes?.toLowerCase().includes(j.toLowerCase()),we=k==="all"||A.condition===k;return ce&&we}),H=(()=>{const A=t.reduce((Te,Ie)=>Te+Ie.total_weight,0),ce=t.reduce((Te,Ie)=>Te+Ie.total_value,0),we=t.reduce((Te,Ie)=>Te+Ie.total_pieces,0),Ee=t.length>0?ce/A:0,Se=t.reduce((Te,Ie)=>(Te[Ie.condition]=(Te[Ie.condition]||0)+1,Te),{});return{totalWeight:A,totalValue:ce,totalPieces:we,avgPricePerKg:Ee,conditionCounts:Se,totalEntries:t.length}})(),X=()=>{const A=[["Entry Code","Date","Farmer","Weight (kg)","Pieces","Price/kg","Total Value","Condition","Notes"],...W.map(Se=>[Se.entry_code||"",Se.entry_date,Se.farmer_name||"",Se.total_weight,Se.total_pieces,Se.price_per_kg,Se.total_value,Se.condition,Se.notes||""])].map(Se=>Se.join(",")).join(`
`),ce=new Blob([A],{type:"text/csv"}),we=window.URL.createObjectURL(ce),Ee=document.createElement("a");Ee.href=we,Ee.download=`warehouse-entries-${new Date().toISOString().split("T")[0]}.csv`,Ee.click(),window.URL.revokeObjectURL(we)};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[m&&a.jsxs(tn,{className:"border-green-200 bg-green-50 text-green-800",children:[a.jsx(Je,{className:"h-4 w-4"}),a.jsx(rn,{children:m}),a.jsx(te,{variant:"ghost",size:"sm",onClick:()=>g(null),className:"ml-auto h-6 w-6 p-0",children:a.jsx(Ys,{className:"h-4 w-4"})})]}),h&&a.jsxs(tn,{className:"border-red-200 bg-red-50 text-red-800",children:[a.jsx(wt,{className:"h-4 w-4"}),a.jsx(rn,{children:h}),a.jsx(te,{variant:"ghost",size:"sm",onClick:()=>f(null),className:"ml-auto h-6 w-6 p-0",children:a.jsx(Ys,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(Nn,{className:"h-8 w-8 text-blue-600"}),"Warehouse Entry"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track fish deliveries and manage inventory"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(te,{variant:"outline",onClick:()=>O(!S),children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),S?"Hide Stats":"Show Stats"]}),a.jsx(te,{variant:"outline",onClick:()=>e("dashboard"),children:"Dashboard"}),a.jsxs(Rt,{open:i,onOpenChange:o,children:[a.jsx(nf,{asChild:!0,children:a.jsxs(te,{className:"bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:[a.jsx(on,{className:"h-5 w-5 mr-2"}),"New Entry"]})}),a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-2xl flex items-center gap-3",children:[a.jsx(It,{className:"h-6 w-6 text-blue-600"}),"Record New Warehouse Entry"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Enter details for a new fish delivery from a farmer to the warehouse."})]}),a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(yu,{className:"h-4 w-4"}),"Select Farmer *"]}),a.jsxs(lr,{value:p.farmerId,onValueChange:A=>{x({...p,farmerId:A}),y.farmerId&&v({...y,farmerId:""})},children:[a.jsx(dr,{className:`h-12 ${y.farmerId?"border-red-300 focus:border-red-500":""}`,children:a.jsx(cr,{placeholder:"Choose a farmer..."})}),a.jsx(ur,{children:n.length>0?n.map(A=>a.jsx(Fe,{value:A.id.toString(),children:a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:A.name}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(fn,{className:"h-3 w-3"}),A.location]})]})})},A.id)):a.jsx(Fe,{value:"no-farmers",disabled:!0,children:"No active farmers found"})})]}),y.farmerId&&a.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(wt,{className:"h-3 w-3"}),y.farmerId]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(Hn,{className:"h-4 w-4"}),"Total Weight (kg) *"]}),a.jsx(qe,{type:"number",step:"0.1",placeholder:"e.g. 150.5",value:p.totalWeight,onChange:A=>{x({...p,totalWeight:A.target.value}),y.totalWeight&&v({...y,totalWeight:""})},className:`h-12 ${y.totalWeight?"border-red-300 focus:border-red-500":""}`}),y.totalWeight&&a.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(wt,{className:"h-3 w-3"}),y.totalWeight]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4"}),"Number of Pieces *"]}),a.jsx(qe,{type:"number",placeholder:"e.g. 75",value:p.totalPieces,onChange:A=>{x({...p,totalPieces:A.target.value}),y.totalPieces&&v({...y,totalPieces:""})},className:`h-12 ${y.totalPieces?"border-red-300 focus:border-red-500":""}`}),y.totalPieces&&a.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(wt,{className:"h-3 w-3"}),y.totalPieces]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(ds,{className:"h-4 w-4"}),"Price per kg (KES) *"]}),a.jsx(qe,{type:"number",placeholder:"e.g. 450",value:p.pricePerKg,onChange:A=>{x({...p,pricePerKg:A.target.value}),y.pricePerKg&&v({...y,pricePerKg:""})},className:`h-12 ${y.pricePerKg?"border-red-300 focus:border-red-500":""}`}),y.pricePerKg&&a.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(wt,{className:"h-3 w-3"}),y.pricePerKg]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4"}),"Fish Type *"]}),a.jsxs(lr,{value:p.fishType,onValueChange:A=>{x({...p,fishType:A}),y.fishType&&v({...y,fishType:""})},children:[a.jsx(dr,{className:`h-12 ${y.fishType?"border-red-300 focus:border-red-500":""}`,children:a.jsx(cr,{placeholder:"Select fish type..."})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"Nile Tilapia",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-blue-600"}),"Nile Tilapia (0.35kg avg)"]})}),a.jsx(Fe,{value:"Nile Perch",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-green-600"}),"Nile Perch (1.20kg avg)"]})}),a.jsx(Fe,{value:"African Catfish",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-purple-600"}),"African Catfish (0.65kg avg)"]})}),a.jsx(Fe,{value:"Silver Cyprinid",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-gray-600"}),"Silver Cyprinid (0.15kg avg)"]})}),a.jsx(Fe,{value:"African Lungfish",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-orange-600"}),"African Lungfish (0.80kg avg)"]})}),a.jsx(Fe,{value:"Blue-spotted Tilapia",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-cyan-600"}),"Blue-spotted Tilapia (0.30kg avg)"]})}),a.jsx(Fe,{value:"Marbled Lungfish",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-red-600"}),"Marbled Lungfish (0.75kg avg)"]})}),a.jsx(Fe,{value:"Electric Catfish",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-yellow-600"}),"Electric Catfish (0.55kg avg)"]})}),a.jsx(Fe,{value:"Mixed Batch",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-indigo-600"}),"Mixed Batch (0.50kg avg)"]})})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Select the primary fish type. This helps with accurate processing and sorting."}),y.fishType&&a.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(wt,{className:"h-3 w-3"}),y.fishType]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(de,{className:"text-base font-medium",children:"Grade/Quality *"}),a.jsxs(lr,{value:p.condition,onValueChange:A=>{x({...p,condition:A}),y.condition&&v({...y,condition:""})},children:[a.jsx(dr,{className:`h-12 ${y.condition?"border-red-300 focus:border-red-500":""}`,children:a.jsx(cr,{placeholder:"Select quality grade..."})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"excellent",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{className:"h-4 w-4 text-green-600"}),"Excellent (Grade A)"]})}),a.jsx(Fe,{value:"good",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{className:"h-4 w-4 text-blue-600"}),"Good (Grade B)"]})}),a.jsx(Fe,{value:"fair",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wt,{className:"h-4 w-4 text-amber-600"}),"Fair (Grade C)"]})})]})]}),y.condition&&a.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[a.jsx(wt,{className:"h-3 w-3"}),y.condition]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(de,{className:"text-base font-medium",children:"Additional Notes"}),a.jsx($a,{placeholder:"Any special notes about this delivery...",value:p.notes,onChange:A=>x({...p,notes:A.target.value}),className:"h-12 min-h-[48px]"})]})]}),p.totalWeight&&p.pricePerKg&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"Total Value"}),a.jsx("div",{className:"text-2xl font-bold text-blue-800",children:U(parseFloat(p.totalWeight)*parseFloat(p.pricePerKg))})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[a.jsx(te,{variant:"outline",onClick:()=>{o(!1),v({}),f(null)},disabled:d,children:"Cancel"}),a.jsx(te,{onClick:se,disabled:d,className:"bg-blue-600 hover:bg-blue-700",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Gs,{className:"h-4 w-4 mr-2 animate-spin"}),"Recording..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Je,{className:"h-4 w-4 mr-2"}),"Record Entry"]})})]})]})]})]})]})]}),S&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(le,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Weight"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[H.totalWeight.toFixed(1)," kg"]})]}),a.jsx(Hn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U(H.totalValue)})]}),a.jsx(ds,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pieces"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H.totalPieces.toLocaleString()})]}),a.jsx(nt,{className:"h-8 w-8 text-purple-600"})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Price/kg"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U(H.avgPricePerKg)})]}),a.jsx(_n,{className:"h-8 w-8 text-orange-600"})]})})})]}),a.jsx(le,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(qe,{placeholder:"Search entries by farmer, code, or notes...",value:j,onChange:A=>w(A.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(lr,{value:k,onValueChange:N,children:[a.jsxs(dr,{className:"w-40",children:[a.jsx(cd,{className:"h-4 w-4 mr-2"}),a.jsx(cr,{placeholder:"Filter by condition"})]}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"all",children:"All Conditions"}),a.jsx(Fe,{value:"excellent",children:"Excellent"}),a.jsx(Fe,{value:"good",children:"Good"}),a.jsx(Fe,{value:"fair",children:"Fair"})]})]}),a.jsxs(te,{variant:D?"default":"outline",size:"sm",onClick:()=>E(!D),className:"flex items-center gap-2",children:[a.jsx(yu,{className:"h-4 w-4"}),D?"Group by Farmer":"List View"]}),a.jsxs(te,{variant:"outline",onClick:X,disabled:W.length===0,children:[a.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-5 w-5 text-blue-600"}),"Warehouse Entries",a.jsxs(pe,{variant:"secondary",children:[W.length," of ",t.length," entries"]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(te,{variant:"outline",size:"sm",onClick:X,disabled:W.length===0,children:[a.jsx(Uo,{className:"h-4 w-4 mr-1"}),"Export"]})})]})}),a.jsx(he,{children:l?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(Gs,{className:"h-8 w-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading entries..."})]}):W.length>0?D?a.jsx("div",{className:"space-y-4",children:L(W).map(A=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>G(A.farmer.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yu,{className:"h-5 w-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.farmer.name}),a.jsx("p",{className:"text-sm text-gray-500",children:A.farmer.location})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(nt,{className:"h-4 w-4"}),A.entryCount," entries"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Hn,{className:"h-4 w-4"}),A.totalWeight.toFixed(1),"kg"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ds,{className:"h-4 w-4"}),U(A.totalValue)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pe,{variant:"outline",className:"text-xs",children:T.has(A.farmer.id)?"Collapse":"Expand"}),a.jsx(qa,{className:`h-4 w-4 text-gray-400 transition-transform ${T.has(A.farmer.id)?"rotate-180":""}`})]})]})}),T.has(A.farmer.id)&&a.jsx("div",{className:"divide-y divide-gray-100",children:A.entries.map(ce=>a.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors bg-white",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[K(ce.condition),a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ia,{className:"h-3 w-3"}),B(ce.entry_date)]}),a.jsx(pe,{variant:"outline",className:"font-medium",children:ce.entry_code})]})})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsx(pe,{className:`${oe(ce.condition)} border`,children:ce.condition}),a.jsxs("span",{className:"text-gray-600",children:[ce.total_weight,"kg  ",ce.total_pieces," pieces"]}),a.jsxs("span",{className:"text-gray-600",children:[U(ce.price_per_kg),"/kg"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:U(ce.total_value)}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(te,{size:"sm",variant:"outline",onClick:()=>$(ce),children:[a.jsx(Jt,{className:"h-3 w-3 mr-1"}),"View"]})})]})]}),ce.notes&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm text-gray-600",children:[a.jsx("strong",{children:"Notes:"})," ",ce.notes]})]},ce.id))})]},A.farmer.id))}):a.jsx("div",{className:"divide-y divide-gray-100",children:W.map(A=>a.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[K(A.condition),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:V(A.farmer_id)}),a.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-1",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ia,{className:"h-3 w-3"}),B(A.entry_date)]})})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsx(pe,{variant:"outline",className:"font-medium",children:A.entry_code}),a.jsx(pe,{className:`${oe(A.condition)} border`,children:A.condition}),a.jsxs("span",{className:"text-gray-600",children:[A.total_weight,"kg  ",A.total_pieces," pieces"]}),a.jsxs("span",{className:"text-gray-600",children:[U(A.price_per_kg),"/kg"]}),a.jsxs("span",{className:"text-gray-600 font-medium",children:[" ",A.farmer_name]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-3",children:U(A.total_value)}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(te,{size:"sm",variant:"outline",onClick:()=>$(A),children:[a.jsx(Jt,{className:"h-3 w-3 mr-1"}),"View"]})})]})]}),A.notes&&a.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm text-gray-600",children:[a.jsx("strong",{children:"Notes:"})," ",A.notes]})]},A.id))}):j||k!=="all"?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wo,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"No entries match your search"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search or filter criteria"}),a.jsxs("div",{className:"mt-4 flex gap-2 justify-center",children:[a.jsx(te,{variant:"outline",onClick:()=>{w(""),N("all")},children:"Clear Filters"}),a.jsxs(te,{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"New Entry"]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(It,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"No warehouse entries yet"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Start by recording your first fish delivery"}),a.jsxs(te,{onClick:()=>o(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700",size:"lg",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Record First Entry"]})]})})]}),a.jsx(Rt,{open:!!P,onOpenChange:()=>$(null),children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsx(Lt,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"h-5 w-5 text-blue-600"}),"Entry Details"]})}),P&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Entry Code"}),a.jsx("p",{className:"text-lg font-semibold",children:P.entry_code})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Date"}),a.jsx("p",{className:"text-lg font-semibold",children:B(P.entry_date)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Farmer"}),a.jsx("p",{className:"text-lg font-semibold",children:P.farmer_name})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Condition"}),a.jsx(pe,{className:`${oe(P.condition)} border`,children:P.condition})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Weight"}),a.jsxs("p",{className:"text-lg font-semibold",children:[P.total_weight," kg"]})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Pieces"}),a.jsx("p",{className:"text-lg font-semibold",children:P.total_pieces})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Price/kg"}),a.jsx("p",{className:"text-lg font-semibold",children:U(P.price_per_kg)})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Total Value"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:U(P.total_value)})]}),P.notes&&a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-500",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:P.notes})]}),a.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:a.jsx(te,{variant:"outline",onClick:()=>$(null),children:"Close"})})]})]})})]})})}const $je=Object.freeze(Object.defineProperty({__proto__:null,default:Lje},Symbol.toStringTag,{value:"Module"})),Yf=e=>({A:"bg-green-500",B:"bg-yellow-500",C:"bg-orange-500"})[e]||"bg-gray-500",xm=e=>e>=80?"text-green-600":e>=70?"text-yellow-600":"text-red-600",Fje=({data:e,dataKey:t})=>{if(!e||e.length===0)return a.jsx("div",{className:"flex items-center justify-center h-32 text-gray-500",children:"No data available"});const r=Math.max(...e.map(n=>n[t]||0));return a.jsx("div",{className:"flex items-end justify-between h-32 gap-1",children:e.map((n,s)=>a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsx("div",{className:"bg-blue-500 rounded-t w-full min-h-[4px]",style:{height:`${r>0?(n[t]||0)/r*100:0}%`}}),a.jsx("span",{className:"text-xs text-gray-600 mt-1 text-center",children:n.date?new Date(n.date).getDate():s+1})]},s))})},qje=({data:e,dataKey:t})=>{if(!e||e.length===0)return a.jsx("div",{className:"flex items-center justify-center h-32 text-gray-500",children:"No data available"});const r=e.map(o=>o[t]||0),n=Math.max(...r),s=Math.min(...r),i=n-s||1;return a.jsx("div",{className:"relative h-32",children:a.jsxs("svg",{width:"100%",height:"100%",className:"overflow-visible",children:[a.jsx("polyline",{fill:"none",stroke:"#8b5cf6",strokeWidth:"2",points:e.map((o,l)=>{const c=e.length>1?l/(e.length-1)*100:50,d=100-((o[t]||0)-s)/i*80,u=isNaN(d)?50:Math.max(0,Math.min(100,d));return`${c},${u}`}).join(" ")}),e.map((o,l)=>{const c=e.length>1?l/(e.length-1)*100:50,d=100-((o[t]||0)-s)/i*80,u=isNaN(d)?50:Math.max(0,Math.min(100,d));return a.jsx("circle",{cx:`${c}%`,cy:`${u}%`,r:"3",fill:"#8b5cf6"},l)})]})})},Bje=({stats:e,processingRecords:t})=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx(le,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Ready for Processing"}),a.jsx("p",{className:"text-3xl font-bold",children:e.readyForProcessing})]}),a.jsx(rr,{className:"h-8 w-8 text-blue-200"})]})})}),a.jsx(le,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm",children:"Total Processed"}),a.jsx("p",{className:"text-3xl font-bold",children:e.totalProcessed})]}),a.jsx(Je,{className:"h-8 w-8 text-green-200"})]})})}),a.jsx(le,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-100 text-sm",children:"Average Yield"}),a.jsxs("p",{className:"text-3xl font-bold",children:[e.averageYield,"%"]})]}),a.jsx(_n,{className:"h-8 w-8 text-purple-200"})]})})}),a.jsx(le,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-orange-100 text-sm",children:"Total Waste"}),a.jsxs("p",{className:"text-3xl font-bold",children:[e.totalWaste,"kg"]})]}),a.jsx(fa,{className:"h-8 w-8 text-orange-200"})]})})})]}),Uje=({selectedEntryId:e,setSelectedEntryId:t,warehouseEntries:r,processingRecords:n,formData:s,setFormData:i,selectedStorage:o,setSelectedStorage:l,storageLocations:c,isProcessing:d,onSubmit:u,onClose:h})=>{const f=r.filter(g=>!e||g.id===e).filter(g=>!n.some(p=>p.warehouse_entry_id===g.id)),m=(g,p)=>{i({...s,[g]:p})};return e?a.jsxs("div",{className:"py-4",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Selected Entry"}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(pe,{variant:"outline",className:"bg-white",children:r.find(g=>g.id===e)?.entry_code}),a.jsxs("span",{className:"text-blue-700",children:[r.find(g=>g.id===e)?.total_weight,"kg - ",r.find(g=>g.id===e)?.total_pieces," pieces"]}),a.jsxs("span",{className:"text-blue-600",children:[" ",r.find(g=>g.id===e)?.farmer_name]})]})]}),a.jsx(te,{variant:"outline",size:"sm",onClick:()=>{t(""),i({})},children:"Change Entry"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Pre-Processing Weight (kg)"}),a.jsx(qe,{type:"number",value:r.find(g=>g.id===e)?.total_weight||"",readOnly:!0,className:"bg-gray-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Post-Processing Weight (kg) *"}),a.jsx(qe,{type:"number",step:"0.1",value:s.post_processing_weight||"",onChange:g=>m("post_processing_weight",Number(g.target.value)),placeholder:"Enter weight after processing"})]})]}),s.post_processing_weight&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Processing Calculations"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Processing Waste"}),a.jsxs("p",{className:"text-xl font-bold text-red-600",children:[s.processing_waste||0,"kg"]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Processing Yield"}),a.jsxs("p",{className:`text-xl font-bold ${xm(s.processing_yield||0)}`,children:[s.processing_yield||0,"%"]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Weight Loss"}),a.jsxs("p",{className:"text-xl font-bold text-orange-600",children:[((s.processing_waste||0)/(r.find(g=>g.id===e)?.total_weight||1)*100).toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Number of Fish"}),a.jsx(qe,{type:"number",value:r.find(g=>g.id===e)?.total_pieces||"",readOnly:!0,className:"bg-gray-50"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Inherited from warehouse entry"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Final Grade *"}),a.jsxs(lr,{value:s.final_grade||"",onValueChange:g=>m("final_grade",g),children:[a.jsx(dr,{children:a.jsx(cr,{placeholder:"Select grade"})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"A",children:"Grade A"}),a.jsx(Fe,{value:"B",children:"Grade B"}),a.jsx(Fe,{value:"C",children:"Grade C"})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Size classification will be determined during sorting process"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Fish Type"}),a.jsx(qe,{value:r.find(g=>g.id===e)?.fish_type||"Not specified",readOnly:!0,className:"bg-gray-50"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Inherited from warehouse entry"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(nt,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"Next Step: Sorting"}),a.jsx("p",{className:"text-sm text-blue-700",children:"After processing, fish will be sorted into size classes and assigned to storage locations."})]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx(te,{variant:"outline",onClick:h,children:"Cancel"}),a.jsx(te,{onClick:u,className:"bg-blue-600 hover:bg-blue-700",disabled:!s.post_processing_weight||!s.final_grade||d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):"Complete Processing"})]})]})]}):a.jsxs("div",{className:"py-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(nt,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select Warehouse Entry"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a warehouse entry to begin processing"})]}),f.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"No Entries Available"}),a.jsx("p",{className:"text-sm text-gray-400",children:r.length===0?"No warehouse entries found":"All warehouse entries have been processed"}),r.length>0&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:r.length})," total warehouse entries exist,",a.jsxs("strong",{children:[" ",n.length]})," have been processed"]})})]}):a.jsx("div",{className:"space-y-3",children:f.map(g=>a.jsx(le,{className:"p-4 hover:shadow-md transition-all duration-200 cursor-pointer border hover:border-blue-300",onClick:()=>t(g.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Xr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(pe,{variant:"outline",className:"font-medium",children:g.entry_code}),a.jsxs(pe,{className:"bg-green-500 text-white font-medium",children:[g.total_pieces," pieces"]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Hn,{className:"h-4 w-4"}),g.total_weight,"kg"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ia,{className:"h-4 w-4"}),new Date(g.entry_date).toLocaleDateString()]}),a.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-900",children:[a.jsx(fn,{className:"h-4 w-4"}),g.farmer_name]})]})]})]}),a.jsx(te,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:p=>{p.stopPropagation(),t(g.id)},children:"Select"})]})},g.id))}),a.jsxs("div",{className:"flex justify-between pt-6 border-t mt-6",children:[a.jsxs(te,{variant:"outline",onClick:()=>{window.location.reload()},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Refresh Entries"]}),a.jsx(te,{variant:"outline",onClick:h,children:"Cancel"})]})]})};function Wje({onNavigate:e}){const[t,r]=b.useState([]),[n,s]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState([]),[d,u]=b.useState(""),[h,f]=b.useState(""),[m,g]=b.useState(!1),[p,x]=b.useState(null),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[k,N]=b.useState(!1),[S,O]=b.useState(!1),[P,$]=b.useState({}),[T,I]=b.useState({totalProcessed:0,readyForProcessing:0,averageYield:0,totalWaste:0,gradeDistribution:{A:0,B:0,C:0},weeklyProcessing:[],yieldTrends:[]}),D=async()=>{const{data:R,error:Y}=await Q.from("warehouse_entries").select(`
        *,
        farmers!inner(name)
      `).order("entry_date",{ascending:!1});if(Y)console.error("Error fetching warehouse entries:",Y.message);else{const se=await Promise.all((R||[]).map(async oe=>{const K=oe.entry_code||await Y_(oe.id);return{...oe,farmer_name:oe.farmers?.name||`Farmer ID: ${oe.farmer_id}`,entry_code:K}}));r(se)}},E=async()=>{const{data:R,error:Y}=await Q.from("processing_records").select(`
        *,
        warehouse_entries!inner(
          id,
          farmer_id,
          farmers!inner(name)
        )
      `).order("processing_date",{ascending:!1});if(Y)console.error("Error fetching processing records:",Y.message);else{const se=await Promise.all((R||[]).map(async oe=>{const K=oe.grading_results||{},U=oe.size_distribution||{},B=Object.keys(K)[0]||"A";Object.keys(U)[0];const W=oe.processing_code||await bD(oe.id);return{...oe,farmer_name:oe.warehouse_entries?.farmers?.name||"Unknown Farmer",final_grade:B,final_size:null,storage_location:"Not specified",ready_for_dispatch:!1,processing_code:W}}));s(se),o(se.slice(0,5))}},q=async()=>{try{const{data:R,error:Y}=await Q.from("storage_locations").select("*").eq("status","active").order("name");if(Y)console.warn("Storage locations table not found, using default locations:",Y.message),c([{id:"1",name:"Cold Storage A",capacity:2e3},{id:"2",name:"Cold Storage B",capacity:1500},{id:"3",name:"Freezer Unit 1",capacity:1e3},{id:"4",name:"Processing Area 1",capacity:500},{id:"5",name:"Processing Area 2",capacity:500}]);else{const{data:se,error:oe}=await Q.from("processing_records").select("post_processing_weight"),K=new Map;if(se&&!oe){const B=se.reduce((W,H)=>W+(H.post_processing_weight||0),0)/(R?.length||1);R?.forEach(W=>{K.set(W.name,B)})}const U=(R?.map(B=>({id:B.id,name:B.name,capacity:B.capacity_kg,currentUsage:K.get(B.name)||0,availableCapacity:B.capacity_kg-(K.get(B.name)||0)}))||[]).filter(B=>B.availableCapacity>0);U.length===0?(console.warn("No available storage locations found, using defaults"),c([{id:"1",name:"Cold Storage A",capacity:2e3},{id:"2",name:"Cold Storage B",capacity:1500},{id:"3",name:"Freezer Unit 1",capacity:1e3},{id:"4",name:"Processing Area 1",capacity:500},{id:"5",name:"Processing Area 2",capacity:500}])):c(U)}}catch(R){console.warn("Error fetching storage locations, using defaults:",R),c([{id:"1",name:"Cold Storage A",capacity:2e3},{id:"2",name:"Cold Storage B",capacity:1500},{id:"3",name:"Freezer Unit 1",capacity:1e3},{id:"4",name:"Processing Area 1",capacity:500},{id:"5",name:"Processing Area 2",capacity:500}])}},F=async()=>{w(!0);try{await Promise.all([D(),E(),q()])}finally{w(!1)}},V=()=>{const R=t.filter(W=>!n.some(H=>H.warehouse_entry_id===W.id)).length,Y=n.reduce((W,H)=>W+(H.processing_yield||0),0),se=n.length>0?Y/n.length:0,oe=n.reduce((W,H)=>W+(H.processing_waste||0),0),K=n.reduce((W,H)=>(H.final_grade&&["A","B","C"].includes(H.final_grade)&&W[H.final_grade]++,W),{A:0,B:0,C:0}),U=Array.from({length:7},(W,H)=>{const X=new Date;X.setDate(X.getDate()-H);const A=X.toISOString().split("T")[0],ce=n.filter(we=>we.processing_date?.startsWith(A)).length;return{date:A,count:ce}}).reverse(),B=n.slice(0,10).map(W=>({date:new Date(W.processing_date).toLocaleDateString(),yield:W.processing_yield||0})).reverse();I({totalProcessed:n.length,readyForProcessing:R,averageYield:Number(se.toFixed(1)),totalWaste:Number(oe.toFixed(1)),gradeDistribution:K,weeklyProcessing:U,yieldTrends:B})};b.useEffect(()=>{if(d&&t.length>0){const R=t.find(Y=>Y.id===d);R&&$(Y=>({...Y,warehouse_entry_id:R.id,pre_processing_weight:R.total_weight?Number(R.total_weight):0,post_processing_weight:0,final_grade:Y.final_grade||"",processing_date:new Date().toISOString()}))}},[d,t]),b.useEffect(()=>{if(P.pre_processing_weight&&P.post_processing_weight!==void 0){const R=P.pre_processing_weight-P.post_processing_weight,Y=P.pre_processing_weight>0?P.post_processing_weight/P.pre_processing_weight*100:0;$(se=>({...se,processing_waste:R,processing_yield:Number(Y.toFixed(2))}))}},[P.pre_processing_weight,P.post_processing_weight]),b.useEffect(()=>{D(),E(),q()},[]),b.useEffect(()=>{V()},[t,n]);const L=async()=>{if(!k){N(!0);try{const R=l.find(H=>H.name===h),Y=t.find(H=>H.id===d),{data:se,error:oe}=await Q.from("processing_records").select("id, processing_code").eq("warehouse_entry_id",d).single();if(oe&&oe.code!=="PGRST116")throw oe;if(se){alert(`This warehouse entry has already been processed! Processing Code: ${se.processing_code}`);return}const{generateUniqueProcessingCode:K}=await mr(async()=>{const{generateUniqueProcessingCode:H}=await Promise.resolve().then(()=>Rje);return{generateUniqueProcessingCode:H}},void 0),U=await K(),B={warehouse_entry_id:P.warehouse_entry_id,processing_date:new Date().toISOString().split("T")[0],processed_by:null,pre_processing_weight:P.pre_processing_weight,post_processing_weight:P.post_processing_weight,processing_waste:P.processing_waste,processing_yield:P.processing_yield,size_distribution:{},grading_results:{[P.final_grade||"A"]:P.post_processing_weight||0},final_value:(P.post_processing_weight||0)*450,total_pieces:Y?.total_pieces||0,processing_code:U},{error:W}=await Q.from("processing_records").insert([B]);if(W){if(W.code==="23505"&&W.message.includes("warehouse_entry_id")){alert("This warehouse entry has already been processed! Please refresh the page to see the updated list."),await E();return}throw W}await E(),G(),e("sorting")}catch(R){console.error("Error creating processing record:",R.message),alert(`Error creating processing record: ${R.message}`)}finally{N(!1)}}},G=()=>{g(!1),u(""),$({}),f(""),N(!1)},ee=R=>{x(R),v(!0)},ne=t.filter(R=>!n.some(Y=>Y.warehouse_entry_id===R.id));return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(ca,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"}),"Processing Management"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage fish processing operations"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(te,{variant:"outline",onClick:F,disabled:j,children:[a.jsx(Tt,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),"Refresh"]}),a.jsxs(te,{variant:"outline",onClick:()=>e("dashboard"),children:[a.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),a.jsxs(Rt,{open:m,onOpenChange:R=>R?g(!0):G(),children:[a.jsx(nf,{asChild:!0,children:a.jsxs(te,{className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:ne.length===0,children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),ne.length===0?"No Entries to Process":"Start Processing"]})}),a.jsxs(Mt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Lt,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"h-5 w-5 text-blue-600"}),"Start Fish Processing"]})}),a.jsx(Uje,{selectedEntryId:d,setSelectedEntryId:u,warehouseEntries:ne,processingRecords:n,formData:P,setFormData:$,selectedStorage:h,setSelectedStorage:f,storageLocations:l,isProcessing:k,onSubmit:L,onClose:G})]})]})]})]}),a.jsx(Bje,{stats:T,processingRecords:n}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(fa,{className:"h-5 w-5 text-blue-600"}),"Weekly Processing Activity"]})}),a.jsxs(he,{children:[a.jsx(Fje,{data:T.weeklyProcessing,dataKey:"count"}),a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Last 7 days"})})]})]}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"h-5 w-5 text-purple-600"}),"Yield Trends"]})}),a.jsxs(he,{children:[T.yieldTrends.length>0?a.jsx(qje,{data:T.yieldTrends,dataKey:"yield"}):a.jsx("div",{className:"h-32 flex items-center justify-center text-gray-500",children:"No yield data available"}),a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Recent processing yield %"})})]})]})]}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(Sg,{className:"h-5 w-5"}),"Quality Grade Distribution"]})}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(T.gradeDistribution).map(([R,Y])=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs(pe,{className:`${Yf(R)} text-white mb-2`,children:["Grade ",R]}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:Y}),a.jsxs("p",{className:"text-sm text-gray-600",children:[T.totalProcessed>0?(Y/T.totalProcessed*100).toFixed(1):0,"%"]})]},R))})})]}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(Pr,{className:"h-5 w-5"}),"Recent Processing Activity",a.jsxs(pe,{variant:"secondary",className:"ml-auto",children:[i.length," recent"]})]})}),a.jsx(he,{children:i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ca,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No recent processing activity"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Start by processing some warehouse entries"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:i.map(R=>(t.find(Y=>Y.id===R.warehouse_entry_id),a.jsx(le,{className:"p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(pe,{variant:"outline",children:t.find(Y=>Y.id===R.warehouse_entry_id)?.entry_code}),a.jsx(pe,{className:"bg-purple-500 text-white",children:R.processing_code}),a.jsxs(pe,{className:`${Yf(R.final_grade)} text-white`,children:["Grade ",R.final_grade]}),a.jsx("span",{className:"text-sm text-gray-600",children:"Size: To be sorted"}),a.jsx(pe,{variant:"outline",className:"text-blue-600 border-blue-300",children:"Processing Complete"}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(R.processing_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-sm",children:[a.jsxs("span",{children:["Pre: ",R.pre_processing_weight,"kg"]}),a.jsxs("span",{children:["Post: ",R.post_processing_weight,"kg"]}),a.jsxs("span",{children:["Waste: ",R.processing_waste,"kg"]}),a.jsxs("span",{className:xm(R.processing_yield),children:["Yield: ",R.processing_yield,"%"]})]}),a.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[a.jsx(fn,{className:"h-3 w-3"}),a.jsx("strong",{children:R.storage_location||"Not assigned"})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(te,{size:"sm",variant:"outline",onClick:()=>ee(R),children:[a.jsx(Jt,{className:"h-3 w-3 mr-1"}),"Details"]})})]})},R.id)))}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs(te,{variant:"outline",onClick:()=>O(!S),className:"w-full",children:["View All ",n.length," Records"]})})]})})]}),S&&a.jsxs(le,{className:"mt-6",children:[a.jsx(Ke,{children:a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-5 w-5"}),"All Processing Records (",n.length,")"]})}),a.jsxs(he,{children:[a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ca,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No processing records found"})]}):n.map(R=>(t.find(Y=>Y.id===R.warehouse_entry_id),a.jsx(le,{className:"p-4 border border-gray-200 hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(pe,{variant:"outline",className:"font-medium",children:t.find(Y=>Y.id===R.warehouse_entry_id)?.entry_code}),a.jsx(pe,{className:"bg-purple-500 text-white font-medium",children:R.processing_code}),a.jsxs(pe,{className:`${Yf(R.final_grade)} text-white font-medium`,children:["Grade ",R.final_grade]}),a.jsx(pe,{className:"bg-purple-500 text-white font-medium",children:"Size: To be sorted"}),a.jsx(pe,{variant:"outline",className:"text-blue-600 border-blue-300 font-medium",children:"Processing Complete"}),a.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(Ia,{className:"h-4 w-4"}),new Date(R.processing_date).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-6 text-sm",children:[a.jsxs("span",{children:["Pre: ",R.pre_processing_weight,"kg"]}),a.jsxs("span",{children:["Post: ",R.post_processing_weight,"kg"]}),a.jsxs("span",{children:["Waste: ",R.processing_waste,"kg"]}),a.jsxs("span",{className:xm(R.processing_yield),children:["Yield: ",R.processing_yield,"%"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-900",children:[a.jsx(fn,{className:"h-4 w-4"}),R.farmer_name]}),a.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[a.jsx(nt,{className:"h-4 w-4"}),"Storage: ",R.storage_location||"Not assigned"]})]})]}),a.jsx("div",{className:"flex gap-2 flex-shrink-0",children:a.jsxs(te,{size:"sm",variant:"outline",onClick:()=>ee(R),children:[a.jsx(Jt,{className:"h-4 w-4 mr-1"}),"View Details"]})})]})},R.id)))}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(te,{variant:"outline",onClick:()=>O(!1),className:"w-full",children:"Show Less"})})]})]}),a.jsx(Rt,{open:y,onOpenChange:v,children:a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Lt,{children:a.jsx(zt,{className:"text-2xl font-bold",children:"Processing Details"})}),p&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Entry Code"}),a.jsx("span",{className:"font-medium",children:t.find(R=>R.id===p.warehouse_entry_id)?.entry_code})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Processing Code"}),a.jsx("span",{className:"font-medium",children:p.processing_code})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Processing Date"}),a.jsx("span",{className:"font-medium",children:new Date(p.processing_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Farmer"}),a.jsx("span",{className:"font-medium",children:p.farmer_name||"Unknown"})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Processed By"}),a.jsx("span",{className:"font-medium",children:p.processed_by||"Not specified"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Final Grade"}),a.jsxs(pe,{className:`${Yf(p.final_grade)} text-white`,children:["Grade ",p.final_grade]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Size"}),a.jsx("span",{className:"font-medium",children:"To be sorted"})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Storage Location"}),a.jsx("span",{className:"font-medium",children:p.storage_location||"Not assigned"})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Status"}),a.jsx(pe,{className:"bg-green-600 text-white",children:"Complete"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Weight Analysis"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[p.pre_processing_weight,"kg"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Pre-Processing"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[p.post_processing_weight,"kg"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Post-Processing"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[p.processing_waste,"kg"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Waste"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${xm(p.processing_yield)}`,children:[p.processing_yield,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Yield"})]})]})]}),p.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg",children:p.notes})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(te,{onClick:()=>v(!1),children:"Close"})})]})]})})]})})}const Vje=Object.freeze(Object.defineProperty({__proto__:null,default:Wje},Symbol.toStringTag,{value:"Module"}));class Hje{async getSizeClassThresholds(){try{const{data:t,error:r}=await _e(async()=>await Q.from("size_class_thresholds").select("*").eq("is_active",!0).order("class_number"));return r?(console.warn("Permission denied for size_class_thresholds, returning empty array"),[]):t||[]}catch(t){return console.warn("Error fetching size class thresholds:",t),[]}}async updateSizeClassThresholds(t){try{const r=t.map(i=>({...i,updated_at:new Date().toISOString()})),{data:n,error:s}=await _e(async()=>await Q.from("size_class_thresholds").upsert(r).select());if(s)throw s;return n||[]}catch(r){throw new Error($e(r,"updating size class thresholds"))}}async getSizeClassForWeight(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("get_size_class_for_weight",{weight_grams:t}));if(n)throw n;return r}catch(r){throw new Error($e(r,"determining size class for weight"))}}async createSortingBatch(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("create_sorting_batch",{p_processing_record_id:t.processing_record_id,p_batch_number:t.batch_number,p_sorted_by:null,p_storage_location_id:t.storage_location_id||null}));if(n)throw n;const{data:s,error:i}=await _e(async()=>await Q.from("sorting_batches").select(`
            *,
            processing_record:processing_records(
              id,
              processing_date,
              post_processing_weight,
              ready_for_dispatch_count,
              processing_code
            )
          `).eq("id",r).single());if(i)throw i;return s}catch(r){throw new Error($e(r,"creating sorting batch"))}}async getSortingBatches(t){try{let r=Q.from("sorting_batches").select(`
          *,
          processing_record:processing_records(
            id,
            processing_date,
            post_processing_weight,
            ready_for_dispatch_count,
            processing_code,
            fish_type,
            grading_results,
            final_value,
            processing_yield,
            processing_waste,
            size_distribution,
            total_pieces,
            warehouse_entry:warehouse_entries(
              id,
              farmer_id,
              farmer:farmers(
                id,
                name,
                phone,
                location,
                rating
              )
            )
          )
        `).order("created_at",{ascending:!1});t?.status&&(r=r.eq("status",t.status)),t?.processing_record_id&&(r=r.eq("processing_record_id",t.processing_record_id)),t?.date_from&&(r=r.gte("sorting_date",t.date_from)),t?.date_to&&(r=r.lte("sorting_date",t.date_to));const n=t?.limit||50;r=r.limit(n);const{data:s,error:i}=await _e(async()=>r);if(i)throw i;return s||[]}catch(r){throw new Error($e(r,"fetching sorting batches"))}}async getSortingBatch(t){try{const{data:r,error:n}=await _e(async()=>await Q.from("sorting_batches").select(`
            *,
            processing_record:processing_records(
              id,
              processing_date,
              post_processing_weight,
              ready_for_dispatch_count,
              processing_code,
              fish_type,
              grading_results,
              final_value,
              processing_yield,
              processing_waste,
              size_distribution,
              total_pieces,
              warehouse_entry:warehouse_entries(
                id,
                farmer_id,
                farmer:farmers(
                  id,
                  name,
                  phone,
                  location,
                  rating
                )
              )
            )
          `).eq("id",t).single());if(n)throw n;const{data:s,error:i}=await _e(async()=>await Q.from("sorting_results").select("*").eq("sorting_batch_id",t).order("size_class"));if(i)throw i;return{...r,results:s||[]}}catch(r){throw new Error($e(r,"fetching sorting batch"))}}async addSortedFishItem(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("add_sorted_fish_item",{p_sorting_batch_id:t.sorting_batch_id,p_weight_grams:t.weight_grams,p_length_cm:t.length_cm,p_grade:t.grade,p_quality_notes:t.quality_notes,p_storage_location_id:t.storage_location_id||null}));if(n)throw n;const{data:s,error:i}=await _e(async()=>await Q.from("sorted_fish_items").select("*").eq("id",r).single());if(i)throw i;return s}catch(r){throw new Error($e(r,"adding sorted fish item"))}}async updateSortingBatch(t,r){try{const{data:n,error:s}=await _e(async()=>await Q.from("sorting_batches").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select(`
            *,
            processing_record:processing_records(
              id,
              processing_date,
              post_processing_weight,
              ready_for_dispatch_count,
              processing_code
            )
          `).single());if(s)throw s;return n}catch(n){throw new Error($e(n,"updating sorting batch"))}}async completeSortingBatch(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("complete_sorting_batch",{p_sorting_batch_id:t}));if(n)throw n;return r}catch(r){throw new Error($e(r,"completing sorting batch"))}}async getSortingResultsForInventory(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("get_sorting_results_for_inventory",{p_sorting_batch_id:t}));if(n)throw n;return r||[]}catch(r){throw new Error($e(r,"fetching sorting results for inventory"))}}async getSortingSummary(t){try{const r=await this.getSortingBatch(t),n={},s={};let i=0,o=0;r.results.forEach(c=>{n[c.size_class]={pieces:c.total_pieces,weight:c.total_weight_grams,average_weight:c.average_weight_grams},i+=c.total_pieces,o+=c.total_weight_grams,Object.entries(c.grade_distribution).forEach(([d,u])=>{s[d]=(s[d]||0)+u})});const l=r.total_pieces>0?Math.round(i/r.total_pieces*100):0;return{batch_id:r.id,batch_number:r.batch_number,total_items:i,total_weight:o,size_class_distribution:n,grade_distribution:s,completion_percentage:l}}catch(r){throw new Error($e(r,"generating sorting summary"))}}async validateProcessingRecordForSorting(t){try{const{data:r,error:n}=await _e(async()=>await Q.from("processing_records").select("*").eq("id",t).single());if(n)throw n;if(!r)return{canSort:!1,reason:"Processing record not found"};const{data:s,error:i}=await _e(async()=>await Q.from("sorting_batches").select("id, status").eq("processing_record_id",t).eq("status","completed"));if(i)throw i;return s&&s.length>0&&s[0]?{canSort:!1,reason:"Processing record already sorted"}:!r.post_processing_weight||r.post_processing_weight<=0?{canSort:!1,reason:"Invalid post-processing weight"}:!r.ready_for_dispatch_count||r.ready_for_dispatch_count<=0?{canSort:!1,reason:"No fish ready for dispatch"}:{canSort:!0,processingRecord:r}}catch(r){throw new Error($e(r,"validating processing record for sorting"))}}async getProcessingRecordsReadyForSorting(){try{const{data:t,error:r}=await _e(async()=>await Q.from("processing_records").select(`
            *,
            warehouse_entry:warehouse_entries(
              id,
              entry_date,
              total_weight,
              farmer_id,
              entry_code,
              farmer:farmers(
                id,
                name,
                phone,
                location,
                rating
              )
            ),
            sorting_batches!left(
              id,
              status
            )
          `).gt("post_processing_weight",0).order("processing_date",{ascending:!1}));if(r)throw r;return(t||[]).filter(n=>!n.sorting_batches?.some(s=>s.status==="completed"))}catch(t){throw new Error($e(t,"fetching processing records ready for sorting"))}}}const iu=new Hje;class Kje{async getInventoryByStorage(){try{return console.log(" Getting inventory by storage with capacity method (working approach)..."),await this.getInventoryByStorageWithCapacity()}catch(t){console.warn(" Error in capacity method, falling back to legacy method:",t);try{return await this.getInventoryByStorageFallback()}catch(r){return console.warn(" Error in fallback method:",r),[]}}}async getInventoryByStorageWithFIFO(){throw console.warn(" FIFO database function is not available, this method is disabled"),new Error("FIFO_FUNCTION_NOT_AVAILABLE")}async getInventoryByStorageWithCapacity(){try{console.log(" Getting all storage locations with capacity data...");const{data:t,error:r}=await _e(async()=>await Q.from("storage_locations").select("id, name, location_type, capacity_kg, current_usage_kg, status").order("name"));if(r)throw r;console.log(" Storage locations from database:",t);const{data:n,error:s}=await _e(async()=>await Q.from("sorting_results").select(`
            id,
            size_class,
            total_pieces,
            total_weight_grams,
            storage_location_id,
            sorting_batch_id,
            transfer_source_storage_id,
            transfer_source_storage_name,
            transfer_id,
            sorting_batch:sorting_batches(
              id,
              batch_number,
              status,
              created_at,
              processing_record:processing_records(
                id,
                processing_date,
                warehouse_entry:warehouse_entries(
                  id,
                  entry_date,
                  farmer_id,
                  farmers(name, phone, location)
                )
              )
            )
          `).not("storage_location_id","is",null).gt("total_weight_grams",0).order("created_at",{ascending:!1}));if(s)throw s;const i=(n||[]).filter(u=>u.sorting_batch&&u.sorting_batch.status==="completed");console.log(" Filtered sorting results (completed only):",i.length,"out of",n?.length||0);const o=new Map;console.log(" Creating storage map from locations:",t),t?.forEach(u=>{console.log(" Adding storage location to map:",u.id,u.name),o.set(u.id,u)}),console.log(" Storage map created with",o.size,"locations");const l={};t?.forEach(u=>{l[u.id]={storage_location_id:u.id,storage_location_name:u.name,storage_location_type:u.location_type,status:u.status||"active",capacity_kg:u.capacity_kg||0,current_usage_kg:0,available_capacity_kg:u.capacity_kg||0,utilization_percent:0,sizes:{}}}),console.log(" Processing sorting results:",i.length,"results"),i.forEach(u=>{const h=u.storage_location_id,f=o.get(h);if(console.log(" Processing result for storage:",h,"found storage:",!!f),!f){console.warn(" No storage found for ID:",h,"available storage IDs:",Array.from(o.keys()));return}if(!l[h]){console.warn(" No storage aggregation found for ID:",h);return}const m=u.size_class,g=u.total_pieces||0,p=(u.total_weight_grams||0)/1e3;g>0&&(l[h].sizes[m]||(l[h].sizes[m]={total_quantity:0,total_weight_kg:0,batch_count:0,contributing_batches:[]}),l[h].sizes[m].total_quantity+=g,l[h].sizes[m].total_weight_kg+=p,l[h].sizes[m].batch_count+=1,l[h].sizes[m].contributing_batches.push({batch_id:u.sorting_batch_id,batch_number:u.sorting_batch?.batch_number||`BATCH-${u.sorting_batch_id?.slice(-8).toUpperCase()}`,quantity:g,weight_kg:p,storage_location_name:f.name,farmer_name:u.sorting_batch?.processing_record?.warehouse_entry?.farmers?.name||"Unknown",processing_date:u.sorting_batch?.processing_record?.processing_date||"Unknown",added_date:u.sorting_batch?.created_at||new Date().toISOString(),created_at:u.sorting_batch?.created_at||new Date().toISOString(),is_transfer:!!u.transfer_id,transfer_id:u.transfer_id,transfer_source_storage_id:u.transfer_source_storage_id,transfer_source_storage_name:u.transfer_source_storage_name}))}),Object.values(l).forEach(u=>{let h=0;Object.values(u.sizes).forEach(f=>{h+=f.total_weight_kg}),u.current_usage_kg=h,u.available_capacity_kg=Math.max(0,u.capacity_kg-h),u.utilization_percent=u.capacity_kg>0?Math.round(h/u.capacity_kg*100*100)/100:0});const c=[];Object.values(l).forEach(u=>{Object.keys(u.sizes).length===0?c.push({storage_location_id:u.storage_location_id,storage_location_name:u.storage_location_name,storage_location_type:u.storage_location_type,storage_status:u.status||"active",capacity_kg:u.capacity_kg,current_usage_kg:u.current_usage_kg,available_capacity_kg:u.available_capacity_kg,utilization_percent:u.utilization_percent,size:null,total_quantity:0,total_weight_kg:0,batch_count:0,contributing_batches:[]}):Object.entries(u.sizes).forEach(([h,f])=>{c.push({storage_location_id:u.storage_location_id,storage_location_name:u.storage_location_name,storage_location_type:u.storage_location_type,storage_status:u.status||"active",capacity_kg:u.capacity_kg,current_usage_kg:u.current_usage_kg,available_capacity_kg:u.available_capacity_kg,utilization_percent:u.utilization_percent,size:parseInt(h),total_quantity:f.total_quantity,total_weight_kg:f.total_weight_kg,batch_count:f.batch_count,contributing_batches:f.contributing_batches})})}),console.log(" Final inventory result with capacity:",c),console.log(" Storage aggregation with capacity:",l);const d=c.filter(u=>u.size===9);return console.log(" Size 9 in final inventory result:",d),console.log(" Size 9 by storage:",d.map(u=>({storage:u.storage_location_name,weight:u.total_weight_kg,hasBatches:u.contributing_batches&&u.contributing_batches.length>0}))),c.sort((u,h)=>u.storage_location_name!==h.storage_location_name?u.storage_location_name.localeCompare(h.storage_location_name):u.size===null&&h.size!==null?-1:u.size!==null&&h.size===null?1:u.size===null&&h.size===null?0:u.size-h.size)}catch(t){throw new Error($e(t,"fetching inventory with capacity tracking"))}}async getInventoryByStorageFallback(){try{console.log(" Getting storage locations directly from storage_locations table...");const{data:t,error:r}=await _e(async()=>await Q.from("storage_locations").select("id, name, status").order("name"));if(console.log(" Storage locations from table:",t),console.log(" Storage error:",r),r){console.warn("Could not fetch storage locations table:",r),console.log(" Using known storage locations...");const s=new Map;return s.set("5cc7c667-8959-4dde-abe8-bd41d2b26d4e","Cold Storage A"),s.set("f0f53658-830a-45c2-8dd3-4d0639e408d0","Cold Storage B"),s.set("cfb34d85-6120-42fa-9af9-945d7d235ebc","Test Storage"),s.set("0714e394-2396-438b-bcbe-9701633ff5ac","Freezer Unit 1"),s.set("2bc2ab3f-a2fb-4822-aae5-05c92cc4e913","Processing Area 1"),s.set("92ef2abd-d1c5-4941-80ef-d4478cfb00a7","Processing Area 2"),this.getInventoryWithStorageMap(s)}const n=new Map;return t?.forEach(s=>{n.set(s.id,s.name)}),console.log(" Using storage locations from table:",n),this.getInventoryWithStorageMap(n)}catch(t){console.error("Error in getInventoryByStorageFallback:",t);const r=new Map;return r.set("5cc7c667-8959-4dde-abe8-bd41d2b26d4e","Cold Storage A"),r.set("f0f53658-830a-45c2-8dd3-4d0639e408d0","Cold Storage B"),r.set("cfb34d85-6120-42fa-9af9-945d7d235ebc","Test Storage"),r.set("0714e394-2396-438b-bcbe-9701633ff5ac","Freezer Unit 1"),r.set("2bc2ab3f-a2fb-4822-aae5-05c92cc4e913","Processing Area 1"),r.set("92ef2abd-d1c5-4941-80ef-d4478cfb00a7","Processing Area 2"),this.getInventoryWithStorageMap(r)}}async getInventorySummary(){try{const{data:t,error:r}=await _e(async()=>await Q.from("inventory").select("*").order("size",{ascending:!0}));if(r)throw r;return(t||[]).map(n=>({size:n.size,quantity:n.quantity,total_weight_kg:this.getEstimatedWeightPerFish(n.size)*n.quantity}))}catch(t){throw new Error($e(t,"fetching inventory summary"))}}getEstimatedWeightPerFish(t){return{0:.2,1:.3,2:.4,3:.5,4:.6,5:.7,6:.8,7:.9,8:1,9:1.1,10:1.2}[t]||.5}async getOldestBatchForRemoval(){try{console.log(" Getting oldest batch for removal using inventory data...");const t=await this.getInventoryByStorage();if(console.log(" Inventory data for FIFO:",t?.length||0),!t||t.length===0)return console.log(" No inventory data found"),[];const r=new Map;t.forEach(i=>{i.size!==null&&i.total_weight_kg>0&&i.contributing_batches&&i.contributing_batches.forEach(o=>{const l=o.batch_id,c=o.batch_number||`BATCH-${l?.substring(0,8)}`;if(!r.has(l)){const u=o.created_at,h=u?Math.floor((new Date().getTime()-new Date(u).getTime())/(1e3*60*60*24)):0;r.set(l,{batch_id:l,batch_number:c,size_class:i.size,total_weight_kg:0,storage_location_name:i.storage_location_name,created_at:u,processing_date:o.processing_date,farmer_name:o.farmer_name||"Unknown Farmer",days_in_storage:h,batch_status:o.status||"unknown"})}const d=r.get(l);d.total_weight_kg+=i.total_weight_kg})});const n=Array.from(r.values()).filter(i=>i.total_weight_kg>0).sort((i,o)=>{const l=new Date(i.created_at||0).getTime(),c=new Date(o.created_at||0).getTime();return l!==c?l-c:(i.batch_id||"").localeCompare(o.batch_id||"")}).slice(0,10);console.log(" FIFO batches from inventory data:",n.length),n.length>0&&console.log(" First FIFO batch:",n[0]);const s=n.filter(i=>i.size_class===9);return console.log(" Size 9 batches in FIFO:",s),n}catch(t){return console.error(" Error in getOldestBatchForRemoval:",t),[]}}async getOldestBatchFallback(){try{console.log(" Using fallback method for oldest batches...");const{data:t,error:r}=await Q.from("sorting_results").select(`
          id,
          size_class,
          total_pieces,
          total_weight_grams,
          storage_location_id,
          sorting_batch_id,
          created_at,
          storage_location:storage_locations(name)
        `).not("storage_location_id","is",null).gt("total_weight_grams",0).gt("total_pieces",0).order("created_at",{ascending:!0}).limit(20);if(r)return console.warn(" Error in fallback query:",r),[];if(!t||t.length===0)return console.log(" No results from fallback query either"),[];const n=t.map(o=>{const l=o.created_at,c=l?Math.floor((new Date().getTime()-new Date(l).getTime())/(1e3*60*60*24)):0;return{batch_id:o.sorting_batch_id||o.id,batch_number:`BATCH-${(o.sorting_batch_id||o.id)?.substring(0,8)}`,size_class:o.size_class,total_pieces:o.total_pieces,total_weight_kg:o.total_weight_grams/1e3,storage_location_name:o.storage_location?.name||"Unknown Storage",created_at:l,processing_date:null,farmer_name:"Unknown Farmer",days_in_storage:c,batch_status:"unknown"}}),s=new Map;n.forEach(o=>{o.batch_id&&!s.has(o.batch_id)&&s.set(o.batch_id,o)});const i=Array.from(s.values()).slice(0,10);return console.log(" Fallback method found:",i.length,"batches"),i}catch(t){return console.error(" Error in fallback method:",t),[]}}async getBatchDetails(t){try{console.log(" Getting batch details for:",t);const{data:r,error:n}=await _e(async()=>await Q.from("sorting_batches").select(`
            id,
            batch_number,
            status,
            created_at,
            processing_record:processing_records(
              id,
              processing_date,
              warehouse_entry:warehouse_entries(
                id,
                entry_date,
                farmer_id,
                farmers(name, phone, location)
              )
            )
          `).eq("id",t).single());if(n)return console.warn(" Error fetching batch details:",n),null;const{data:s,error:i}=await _e(async()=>await Q.from("sorting_results").select(`
            id,
            size_class,
            total_pieces,
            total_weight_grams,
            storage_location_id,
            storage_location:storage_locations(
              id,
              name
            )
          `).eq("sorting_batch_id",t).gt("total_pieces",0).order("size_class"));if(i)return console.warn(" Error fetching batch sizes:",i),null;const o={batch:r,sizes:(s||[]).map(l=>({size_class:l.size_class,total_pieces:l.total_pieces,total_weight_kg:l.total_weight_grams/1e3,storage_location_name:l.storage_location?.name}))};return console.log(" Batch details processed:",o),o}catch(r){return console.error(" Error in getBatchDetails:",r),null}}async getSizeDemandStatistics(){try{console.log(" Getting size demand statistics from outlet orders...");const{data:t,error:r}=await _e(async()=>await Q.from("outlet_orders").select(`
            id,
            requested_sizes,
            requested_quantity,
            requested_grade,
            order_date,
            status,
            outlet:outlets(
              id,
              name,
              location
            )
          `).not("requested_sizes","is",null).order("order_date",{ascending:!1}));if(r)return console.warn(" Error fetching outlet orders data:",r),[];console.log(" Raw outlet orders data:",t);const n=(t||[]).filter(o=>["confirmed","processing","dispatched","delivered"].includes(o.status)&&o.requested_quantity>0);console.log(" Valid outlet orders:",n);const s=new Map;n.forEach(o=>{o.requested_sizes&&Array.isArray(o.requested_sizes)&&o.requested_sizes.forEach(l=>{s.has(l)||s.set(l,{size_class:l,total_orders:0,total_weight_kg_requested:0,outlet_count:new Set,first_order_date:null,last_order_date:null,grade_preferences:new Map});const c=s.get(l);if(c.total_orders+=1,c.total_weight_kg_requested+=o.requested_quantity||0,c.outlet_count.add(o.outlet?.id),o.requested_grade){const u=c.grade_preferences.get(o.requested_grade)||0;c.grade_preferences.set(o.requested_grade,u+1)}const d=new Date(o.order_date);(!c.first_order_date||d<new Date(c.first_order_date))&&(c.first_order_date=o.order_date),(!c.last_order_date||d>new Date(c.last_order_date))&&(c.last_order_date=o.order_date)})});const i=Array.from(s.values()).map(o=>({size_class:o.size_class,total_orders:o.total_orders,total_weight_kg_requested:o.total_weight_kg_requested,unique_outlets:o.outlet_count.size,first_order_date:o.first_order_date,last_order_date:o.last_order_date,days_span:o.first_order_date&&o.last_order_date?Math.ceil((new Date(o.last_order_date).getTime()-new Date(o.first_order_date).getTime())/(1e3*60*60*24)):0,most_requested_grade:Array.from(o.grade_preferences.entries()).sort((l,c)=>c[1]-l[1])[0]?.[0]||"any"})).filter(o=>o.total_weight_kg_requested>0).sort((o,l)=>l.total_weight_kg_requested-o.total_weight_kg_requested);return console.log(" Size demand statistics from outlet orders:",i),i}catch(t){return console.error(" Error in getSizeDemandStatistics:",t),[]}}async getInventoryWithStorageMap(t){try{const{data:r,error:n}=await _e(async()=>await Q.from("sorting_results").select(`
            id,
            size_class,
            total_pieces,
            total_weight_grams,
            storage_location_id,
            sorting_batch_id,
            transfer_source_storage_id,
            transfer_source_storage_name,
            transfer_id,
            sorting_batch:sorting_batches(
              id,
              batch_number,
              status,
              created_at,
              processing_record:processing_records(
                id,
                processing_date,
                warehouse_entry:warehouse_entries(
                  id,
                  entry_date,
                  farmer_id,
                  farmers(name, phone, location)
                )
              )
            )
          `).not("storage_location_id","is",null).order("created_at",{ascending:!1}));if(n)throw n;const s=(r||[]).filter(l=>l.sorting_batch&&l.sorting_batch.status==="completed");console.log(" Filtered sorting results (completed only):",s.length,"out of",r?.length||0);const i={};s.forEach(l=>{const c=l.storage_location_id||"unknown",d=t.get(c)||"Unknown Storage",u=l.size_class,h=l.total_pieces||0,f=(l.total_weight_grams||0)/1e3;if(h>0){i[c]||(i[c]={storage_location_id:c,storage_location_name:d,sizes:{}}),i[c].sizes[u]||(i[c].sizes[u]={total_quantity:0,total_weight_kg:0,batch_count:0,contributing_batches:[]}),i[c].sizes[u].total_quantity+=h,i[c].sizes[u].total_weight_kg+=f,i[c].sizes[u].batch_count+=1;const m=!!l.transfer_id&&l.transfer_source_storage_name;i[c].sizes[u].contributing_batches.push({batch_id:l.sorting_batch_id,batch_number:l.sorting_batch?.batch_number||`BATCH-${l.sorting_batch_id?.slice(-8).toUpperCase()}`,quantity:h,weight_kg:f,storage_location_name:d,farmer_name:m?`${l.sorting_batch?.processing_record?.warehouse_entry?.farmers?.name||"Unknown"} (Transferred from ${l.transfer_source_storage_name})`:l.sorting_batch?.processing_record?.warehouse_entry?.farmers?.name||"Unknown",processing_date:l.sorting_batch?.processing_record?.processing_date||"Unknown",added_date:l.sorting_batch?.created_at||new Date().toISOString(),created_at:l.sorting_batch?.created_at||new Date().toISOString(),...m&&{is_transfer:!0,transfer_id:l.transfer_id,transfer_source_storage_id:l.transfer_source_storage_id,transfer_source_storage_name:l.transfer_source_storage_name}})}});const o=[];return Object.values(i).forEach(l=>{Object.entries(l.sizes).forEach(([c,d])=>{o.push({storage_location_id:l.storage_location_id,storage_location_name:l.storage_location_name,size:parseInt(c),total_quantity:d.total_quantity,total_weight_kg:d.total_weight_kg,batch_count:d.batch_count,contributing_batches:d.contributing_batches})})}),console.log(" Final inventory result:",o),console.log(" Storage aggregation:",i),o.sort((l,c)=>l.storage_location_name!==c.storage_location_name?l.storage_location_name.localeCompare(c.storage_location_name):l.size-c.size)}catch(r){throw new Error($e(r,"fetching inventory with storage map"))}}async getInventoryFromSortingBatchesFallback(t){try{const{data:r,error:n}=await _e(async()=>await Q.from("sorting_batches").select(`
            id,
            batch_number,
            size_distribution,
            created_at,
            storage_location_id,
            processing_record:processing_records(
              id,
              processing_date,
              warehouse_entry:warehouse_entries(
                id,
                farmer_id,
                farmers(name, phone, location)
              )
            )
          `).eq("status","completed").not("size_distribution","is",null).order("created_at",{ascending:!1}));if(n)throw n;const s={};return r?.forEach(i=>{i.size_distribution&&typeof i.size_distribution=="object"&&Object.entries(i.size_distribution).forEach(([o,l])=>{const c=parseInt(o),d=parseInt(l)||0;if(!isNaN(c)&&d>0){const u=this.getEstimatedWeightPerFish(c),h=d*u;s[c]||(s[c]={total_quantity:0,total_weight_kg:0,batch_count:0,contributing_batches:[],storage_locations:{}}),s[c].total_quantity+=d,s[c].total_weight_kg+=h,s[c].batch_count+=1,s[c].contributing_batches.push({batch_id:i.id,batch_number:i.batch_number||`BATCH-${i.id?.slice(-8).toUpperCase()}`,quantity:d,weight_kg:h,storage_location_id:i.storage_location_id,storage_location_name:t.get(i.storage_location_id)||"Unknown Storage",farmer_name:i.processing_record?.warehouse_entry?.farmers?.name||"Unknown",processing_date:i.processing_record?.processing_date||"Unknown",added_date:i.created_at,created_at:i.created_at}),i.storage_location_id&&(s[c].storage_locations[i.storage_location_id]={storage_location_name:t.get(i.storage_location_id)||"Unknown Storage",quantity:(s[c].storage_locations[i.storage_location_id]?.quantity||0)+d,weight_kg:(s[c].storage_locations[i.storage_location_id]?.weight_kg||0)+h})}})}),Object.entries(s).map(([i,o])=>({size:parseInt(i),quantity:o.total_quantity,total_weight_kg:o.total_weight_kg,batch_count:o.batch_count,storage_locations:o.storage_locations,contributing_batches:o.contributing_batches})).sort((i,o)=>i.size-o.size)}catch(r){throw new Error($e(r,"fetching inventory from sorting batches fallback"))}}async getBatchesForSize(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("get_batches_for_size",{p_size:t}));if(n)throw n;return r||[]}catch(r){throw new Error($e(r,"fetching batches for size"))}}async getStorageCapacityStatus(){try{const{data:t,error:r}=await _e(async()=>await Q.rpc("get_storage_capacity_status"));if(r)throw r;return t||[]}catch(t){throw new Error($e(t,"fetching storage capacity status"))}}async getAvailableStorageLocationsForSorting(t=0){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("get_available_storage_locations_for_sorting",{p_required_weight_kg:t}));if(n)throw n;return r||[]}catch(r){throw new Error($e(r,"fetching available storage locations"))}}async validateStorageLocationForSorting(t,r=0){try{const{data:n,error:s}=await _e(async()=>await Q.rpc("validate_storage_location_for_sorting",{p_storage_location_id:t,p_estimated_weight_kg:r}));if(s)throw s;return n?.[0]||{is_valid:!1,message:"Validation failed",storage_location_name:"",available_capacity_kg:0,utilization_percent:0}}catch(n){throw new Error($e(n,"validating storage location"))}}async getInventoryItems(){try{const{data:t,error:r}=await _e(async()=>await Q.from("inventory").select("*").order("size",{ascending:!0}));if(r)throw r;return t||[]}catch(t){throw new Error($e(t,"fetching inventory items"))}}async getInventoryEntries(t=100){try{const{data:r,error:n}=await _e(async()=>await Q.from("inventory_entries").select("*").order("created_at",{ascending:!1}).limit(t));if(n)throw n;return r||[]}catch(r){throw new Error($e(r,"fetching inventory entries"))}}async addStockFromSorting(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("add_stock_from_sorting",{p_sorting_batch_id:t}));if(n)throw n;return r||[]}catch(r){throw new Error($e(r,"adding stock from sorting batch"))}}async getSortingBatchesForInventory(){try{const{data:t,error:r}=await _e(async()=>await Q.from("sorting_batches").select(`
            *,
            processing_record:processing_records(
              id,
              post_processing_weight,
              processing_date,
              warehouse_entry:warehouse_entries(
                id,
                entry_date,
                farmer_id,
                farmers(name, phone, location)
              )
            )
          `).eq("status","completed").order("created_at",{ascending:!1}));if(r)throw r;return await Promise.all((t||[]).map(async n=>{const{data:s,error:i}=await _e(async()=>await Q.from("sorting_results").select("*").eq("sorting_batch_id",n.id).order("size_class"));return i?(console.warn(`Error fetching results for batch ${n.id}:`,i),{...n,results:[]}):{...n,results:s||[]}}))}catch(t){throw new Error($e(t,"fetching sorting batches for inventory"))}}async validateSortingBatchForInventory(t){try{const{data:r,error:n}=await _e(async()=>await Q.rpc("validate_sorting_batch_for_inventory",{p_sorting_batch_id:t}));if(n)throw n;return r||{canAdd:!1,reason:"Unknown error"}}catch(r){throw new Error($e(r,"validating sorting batch for inventory"))}}async getInventoryBySize(t){try{const{data:r,error:n}=await _e(async()=>await Q.from("inventory").select("*").eq("size",t).single());if(n&&n.code!=="PGRST116")throw n;return r||null}catch(r){throw new Error($e(r,`fetching inventory for size ${t}`))}}async getInventoryStats(){try{const{data:t,error:r}=await _e(async()=>await Q.rpc("get_inventory_statistics"));if(r)throw r;return t||{total_quantity:0,total_weight:0,size_distribution:{},last_updated:new Date().toISOString()}}catch(t){throw new Error($e(t,"fetching inventory statistics"))}}async createInventoryAdjustment(t,r,n){try{const{data:s,error:i}=await _e(async()=>await Q.from("inventory_entries").insert({size:t,quantity_change:r,entry_type:"adjustment",notes:n}).select().single());if(i)throw i;return s}catch(s){throw new Error($e(s,"creating inventory adjustment"))}}async updateInventory(t,r){try{const{data:n,error:s}=await _e(async()=>await Q.from("inventory").update({quantity:r,updated_at:new Date().toISOString()}).eq("id",t).select().single());if(s)throw s;return n}catch(n){throw new Error($e(n,"updating inventory item"))}}async processFIFOOrderFulfillment(t,r,n,s){try{const{data:i,error:o}=await _e(async()=>await Q.rpc("process_fifo_order_fulfillment",{p_order_id:t,p_size:r,p_required_quantity:n,p_required_weight_kg:s}));if(o){if(o.code==="PGRST202"||o.message?.includes("Could not find the function"))return console.warn(" FIFO order fulfillment function not found. Please run the database script: db/ensure_inventory_storage_accuracy.sql"),{success:!1,message:"FIFO functions not available. Please run the database setup script.",allocatedBatches:[],remainingQuantity:n,remainingWeightKg:s};throw o}return i?.[0]||{success:!1,message:"Unknown error",allocatedBatches:[],remainingQuantity:0,remainingWeightKg:0}}catch(i){throw new Error($e(i,"processing FIFO order fulfillment"))}}async reduceInventoryOnOrderApproval(t,r,n,s){try{const{data:i,error:o}=await _e(async()=>await Q.rpc("reduce_inventory_on_order_approval",{p_order_id:t,p_size:r,p_quantity:n,p_weight_kg:s}));if(o){if(o.code==="PGRST202"||o.message?.includes("Could not find the function"))return console.warn(" FIFO inventory reduction function not found. Please run the database script: db/ensure_inventory_storage_accuracy.sql"),{success:!1,message:"FIFO functions not available. Please run the database setup script.",reducedBatches:[]};throw o}return i?.[0]||{success:!1,message:"Unknown error",reducedBatches:[]}}catch(i){throw new Error($e(i,"reducing inventory on order approval"))}}async transferInventoryBetweenStorage(t,r,n,s,i){try{const{data:o,error:l}=await _e(async()=>await Q.rpc("transfer_inventory_between_storage",{p_from_storage_location_id:t,p_to_storage_location_id:r,p_size:n,p_quantity:s,p_notes:i||null}));if(l){if(l.code==="PGRST202"||l.message?.includes("Could not find the function"))return console.warn(" Transfer function not found. Please run the database script: db/fix_inventory_storage_integration.sql"),{success:!1,message:"Transfer function not available. Please run the database setup script.",from_remaining:0,to_new_total:0};throw l}return o?.[0]||{success:!1,message:"Unknown error",from_remaining:0,to_new_total:0}}catch(o){throw new Error($e(o,"transferring inventory between storage locations"))}}async createTransfer(t,r,n,s,i,o){try{const{data:l,error:c}=await _e(async()=>await Q.rpc("create_transfer",{p_from_storage_location_id:t,p_to_storage_location_id:r,p_size:n,p_quantity:s,p_weight_kg:i,p_notes:o||null}));if(c)throw c;return{success:!0,transferId:l,message:"Transfer created successfully"}}catch(l){throw new Error($e(l,"creating transfer"))}}async createTransferRequest(t,r,n,s,i,o){const l=await this.createTransfer(t,r,n,s,i,o);return{success:l.success,requestId:l.transferId,message:l.message}}async createBatchTransfer(t,r,n,s,i){try{const{data:o,error:l}=await _e(async()=>await Q.from("transfers").select("id, size_class, quantity, weight_kg, notes").eq("from_storage_location_id",t).eq("to_storage_location_id",r).eq("status","pending"));if(l)console.warn("Could not check for existing transfers:",l);else if(o&&o.length>0&&n.some(u=>o.some(h=>h.size_class===u.size&&h.quantity===u.quantity&&Math.abs(h.weight_kg-u.weightKg)<.01)))throw new Error("A transfer request for these items already exists. Please check the transfer approvals section.");console.log(" [InventoryService] Creating batch transfer with data:",{fromStorageLocationId:t,toStorageLocationId:r,sizeData:n,notes:s});const{data:c,error:d}=await _e(async()=>await Q.rpc("create_batch_transfer",{p_from_storage_location_id:t,p_to_storage_location_id:r,p_size_data:n,p_notes:s||null,p_requested_by:i||null}));if(console.log(" [InventoryService] Batch transfer creation result:",{data:c,error:d}),d)throw d.code==="23505"?new Error("A transfer request for these items already exists. Please check the transfer approvals section."):d.message&&d.message.includes("function create_batch_transfer")?new Error("Transfer system not properly set up. Please run the database migration script: QUICK_TRANSFER_FIX.sql"):d;return{success:!0,transferId:c,message:`Batch transfer created successfully for ${n.length} sizes`}}catch(o){throw new Error($e(o,"creating batch transfer"))}}async approveTransfer(t,r){try{const{data:n,error:s}=await _e(async()=>await Q.from("transfers").select("from_storage_location_id, to_storage_location_id, created_at, notes").eq("id",t).single());if(s)throw s;const{data:i,error:o}=await _e(async()=>await Q.from("transfers").select("id",{count:"exact"}).eq("from_storage_location_id",n.from_storage_location_id).eq("to_storage_location_id",n.to_storage_location_id).eq("created_at",n.created_at).eq("notes",n.notes).eq("status","pending"));if(o)throw o;const l=(i?.length||0)>1,c=l?"approve_batch_transfer":"approve_transfer";console.log(` [InventoryService] ${l?"Batch":"Single"} transfer approval for ID: ${t}`);const{data:d,error:u}=await _e(async()=>await Q.rpc(c,{p_transfer_id:t,p_approved_by:r}));if(u)throw u;return d?.[0]||{success:!1,message:"Unknown error"}}catch(n){throw new Error($e(n,"approving transfer"))}}async approveTransferRequest(t,r){return await this.approveTransfer(t,r)}async declineTransfer(t,r){try{const{data:n,error:s}=await _e(async()=>await Q.from("transfers").select("from_storage_location_id, to_storage_location_id, created_at, notes").eq("id",t).single());if(s)throw s;const{data:i,error:o}=await _e(async()=>await Q.from("transfers").select("id",{count:"exact"}).eq("from_storage_location_id",n.from_storage_location_id).eq("to_storage_location_id",n.to_storage_location_id).eq("created_at",n.created_at).eq("notes",n.notes).eq("status","pending"));if(o)throw o;const l=(i?.length||0)>1,c=l?"decline_batch_transfer":"decline_transfer";console.log(` [InventoryService] ${l?"Batch":"Single"} transfer decline for ID: ${t}`);const{data:d,error:u}=await _e(async()=>await Q.rpc(c,{p_transfer_id:t,p_approved_by:r}));if(u)throw u;return d?.[0]||{success:!1,message:"Unknown error"}}catch(n){throw new Error($e(n,"declining transfer"))}}async completeTransfer(t,r){try{console.log(` [InventoryService] Marking transfer as completed for ID: ${t}`);const{data:n,error:s}=await _e(async()=>await Q.rpc("complete_transfer",{p_transfer_id:t,p_completed_by:r}));if(s)throw s;return n?.[0]||{success:!1,message:"Unknown error"}}catch(n){throw new Error($e(n,"completing transfer"))}}async declineTransferRequest(t,r){return await this.declineTransfer(t,r)}async getPendingTransfers(){try{console.log(" [InventoryService] Fetching pending transfers...");const{data:t,error:r}=await _e(async()=>await Q.from("transfers").select("*").eq("status","pending").order("created_at",{ascending:!1}));return console.log(" [InventoryService] Pending transfers result:",{data:t,error:r,count:t?.length||0}),r?(console.warn(" [InventoryService] Error fetching pending transfers:",r),[]):t||[]}catch(t){return console.error(" [InventoryService] Error in getPendingTransfers:",t),[]}}async getPendingTransferRequests(){return await this.getPendingTransfers()}async getAvailableStorageLocationsForTransfer(t){try{const{data:r,error:n}=await _e(async()=>{let s=Q.from("storage_locations").select("id, name, location_type, capacity_kg, current_usage_kg, status").eq("status","active").order("name");return t&&(s=s.neq("id",t)),await s});if(n)throw n;return await Promise.all((r||[]).map(async s=>{const{data:i,error:o}=await _e(async()=>await Q.from("sorting_results").select("total_weight_grams").eq("storage_location_id",s.id));if(o)return console.warn(`Error calculating usage for ${s.name}:`,o),{...s,current_usage_kg:s.current_usage_kg||0,available_capacity_kg:(s.capacity_kg||0)-(s.current_usage_kg||0),utilization_percent:s.capacity_kg>0?(s.current_usage_kg||0)/s.capacity_kg*100:0};const l=(i||[]).reduce((u,h)=>u+(h.total_weight_grams||0)/1e3,0),c=Math.max(0,(s.capacity_kg||0)-l),d=s.capacity_kg>0?l/s.capacity_kg*100:0;return console.log(`Storage ${s.name}: Capacity=${s.capacity_kg}kg, Usage=${l.toFixed(2)}kg, Available=${c.toFixed(2)}kg`),{...s,current_usage_kg:l,available_capacity_kg:c,utilization_percent:d}}))}catch(r){throw new Error($e(r,"fetching available storage locations for transfer"))}}async getTransferHistory(t=100){try{console.log(" [InventoryService] Fetching transfer history from transfers table...");const{data:r,error:n}=await _e(async()=>await Q.from("transfers").select("*").order("created_at",{ascending:!1}).limit(t));if(console.log(" [InventoryService] Transfers table result:",{data:r,error:n,count:r?.length||0}),n)return console.error(" [InventoryService] Error accessing transfers table:",n),[];if(!r||r.length===0)return console.log(" [InventoryService] No transfer data found in transfers table"),[];const s=r.map(i=>({id:i.id,from_storage:i.from_storage_name||"Unknown",to_storage:i.to_storage_name||"Unknown",size:i.size_class,quantity:i.quantity,weight_kg:i.weight_kg||0,notes:i.notes||"",status:i.status,created_at:i.created_at,created_by:i.requested_by?`User ${i.requested_by.slice(0,8)}`:"System",approved_by:i.approved_by?`User ${i.approved_by.slice(0,8)}`:null,is_bulk:!1,batch_size:1}));return s.sort((i,o)=>new Date(o.created_at).getTime()-new Date(i.created_at).getTime()),console.log(" [InventoryService] Processed transfer data with bulk grouping:",s),s}catch(r){return console.error("Error fetching transfer history:",r),[]}}}const Ln=new Kje;async function P3(e){try{const{data:t,error:r}=await e;if(r){if(r.message&&r.message.includes("406")){console.warn("406 error detected, trying alternative query approach");const{data:n,error:s}=await Q.from("sorting_batches").select("*").limit(1);return s?(console.error("Fallback query also failed:",s),{data:null,error:s}):(console.warn("Fallback query succeeded, original query structure may be problematic"),{data:null,error:new Error("Query structure incompatible with current RLS policies")})}return{data:t,error:r}}return{data:t,error:r}}catch(t){return console.error("Unexpected error in safeQuerySortingBatches:",t),{data:null,error:t}}}function Gje(e,t){if(console.error(`Supabase ${t} error:`,e),e&&typeof e=="object"){if(e.message&&e.message.includes("406"))return"Access denied. Please check your permissions or contact your administrator.";if(e.message&&e.message.includes("401"))return"Authentication required. Please log in again.";if(e.message&&e.message.includes("403"))return"Access forbidden. You do not have permission to perform this action.";if(e.message&&e.message.includes("JWT"))return"Authentication error. Please log in again.";if(e.message&&e.message.includes("relation")&&e.message.includes("does not exist"))return"Database table not found. Please contact your administrator.";if(e.message&&e.message.includes("permission denied"))return"Permission denied. Please check your user permissions.";if(e.message&&typeof e.message=="string")return e.message}return"An unexpected error occurred. Please try again."}const Yje=({onNavigate:e})=>{const{user:t}=oi(),[r,n]=b.useState([]),[s,i]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState([]),[u,h]=b.useState(!1),[f,m]=b.useState(null),[g,p]=b.useState(!1),[x,y]=b.useState(!1),[v,j]=b.useState(!1),[w,k]=b.useState(!1),[N,S]=b.useState(!1),[O,P]=b.useState(!1),[$,T]=b.useState(!1),[I,D]=b.useState(null),[E,q]=b.useState(null),[F,V]=b.useState({batch_number:"",size_distribution:{},total_weight_kg:0,remaining_weight_kg:0,notes:"",storage_location_id:""}),L=b.useCallback(async()=>{h(!0),m(null);try{const[K,U,B]=await Promise.all([iu.getSizeClassThresholds(),iu.getSortingBatches({status:"completed",limit:20}),iu.getProcessingRecordsReadyForSorting()]);l(K),i(U),n(B);try{const{data:W,error:H}=await Q.from("storage_locations").select("*").eq("status","active").order("name");H?(console.warn("Could not fetch storage locations:",H.message),d([{id:"default-1",name:"Cold Storage A",capacity_kg:1e3,current_usage_kg:0,location_type:"cold_storage"},{id:"default-2",name:"Cold Storage B",capacity_kg:1e3,current_usage_kg:0,location_type:"cold_storage"}])):d(W||[])}catch(W){console.warn("Error fetching storage locations:",W),d([{id:"default-1",name:"Cold Storage A",capacity_kg:1e3,current_usage_kg:0,location_type:"cold_storage"},{id:"default-2",name:"Cold Storage B",capacity_kg:1e3,current_usage_kg:0,location_type:"cold_storage"}])}}catch(K){console.error("Error loading sorting data:",K),m("Failed to load sorting data. Please try again."),l([]),i([]),n([]),d([])}finally{h(!1)}},[]);b.useEffect(()=>{L()},[L]);const G=b.useCallback(async()=>{p(!0),await L(),p(!1)},[]),ee=b.useMemo(()=>s.reduce((K,U)=>K+(U.total_weight_grams?U.total_weight_grams/1e3:0),0),[s]);b.useMemo(()=>r.reduce((K,U)=>K+(U.post_processing_weight||0),0),[r]);const ne=async K=>{try{if(console.log("Starting sorting for record:",K.id),!t){console.error("No user found in AuthContext"),fe.error("Please log in to continue.");return}console.log("User authenticated via AuthContext:",t.email);const U=Q.from("sorting_batches").select("id, batch_number, status").eq("processing_record_id",K.id).eq("status","completed").maybeSingle(),{data:B,error:W}=await P3(U);if(W){if(console.warn("Could not check for existing sorting batches:",W),W.message&&W.message.includes("406")){fe.error("Access denied. Please check your permissions or contact your administrator.");return}if(W.message&&W.message.includes("relation")&&W.message.includes("does not exist")){fe.error("Sorting functionality is not properly set up. Please contact your administrator.");return}console.warn("Continuing despite check error:",W.message)}if(B&&B.length>0){fe.error(`This processing record has already been sorted! Batch: ${B[0].batch_number}`);return}D(K);let H;try{H=await vD()}catch(A){console.warn("Error generating batch number, using fallback:",A),H=`Batch${Date.now().toString().slice(-6)}`}const X=K.post_processing_weight||0;V({batch_number:H,size_distribution:{},total_weight_kg:X,remaining_weight_kg:X,notes:"",storage_location_id:""}),S(!0)}catch(U){console.error("Error starting sorting:",U);const B=Gje(U,"starting sorting");fe.error(B)}},R=(K,U)=>{const B={...F.size_distribution};U===0?delete B[K]:B[K]=U;const W=Object.values(B).reduce((X,A)=>X+A,0),H=F.total_weight_kg-W;V({...F,size_distribution:B,remaining_weight_kg:H})},Y=async()=>{try{if(!I||w)return;if(k(!0),F.remaining_weight_kg!==0){fe.error(`Please distribute all ${F.total_weight_kg}kg. ${F.remaining_weight_kg}kg remaining.`),k(!1);return}if(!F.storage_location_id){fe.error("Please select a storage location"),k(!1);return}const K=Q.from("sorting_batches").select("id, batch_number, status").eq("processing_record_id",I.id).eq("status","completed").maybeSingle(),{data:U,error:B}=await P3(K);if(B&&(console.warn("Could not check for existing sorting batches:",B),B.message&&B.message.includes("406"))){fe.error("Access denied. Please check your permissions or contact your administrator."),k(!1);return}if(U&&U.length>0){fe.error(`This processing record has already been sorted! Batch: ${U[0].batch_number}`),k(!1);return}const{error:W}=await Q.from("processing_records").update({size_distribution:F.size_distribution,updated_at:new Date().toISOString()}).eq("id",I.id);if(W)throw console.error("Error updating processing record:",W),W;const H={processing_record_id:I.id,batch_number:F.batch_number,notes:F.notes,status:"completed",total_pieces:I.ready_for_dispatch_count||0,total_weight_grams:F.total_weight_kg*1e3,sorting_date:new Date().toISOString().split("T")[0],storage_location_id:F.storage_location_id,size_distribution:F.size_distribution};console.log("Creating batch with size distribution:",H.size_distribution);const{data:X,error:A}=await Q.from("sorting_batches").insert([H]).select("id").single();if(A){if(A.code==="23505"&&A.message.includes("sorting_batches_one_completed_per_processing_record")){fe.error("This processing record has already been sorted! Please refresh the page to see the updated list."),await L(),k(!1);return}throw console.error("Error creating sorting batch:",A),A}if(X){try{const{data:ce,error:we}=await Q.from("storage_locations").select("current_usage_kg").eq("id",F.storage_location_id).single();if(we)console.warn("Could not fetch current storage usage:",we);else{const Ee=(ce.current_usage_kg||0)+F.total_weight_kg,{error:Se}=await Q.from("storage_locations").update({current_usage_kg:Ee,updated_at:new Date().toISOString()}).eq("id",F.storage_location_id);Se?console.warn("Could not update storage location capacity:",Se):console.log("Updated storage location capacity:",F.storage_location_id)}}catch(ce){console.warn("Error updating storage capacity:",ce)}try{await Ln.addStockFromSorting(X.id),console.log("Automatically added to inventory:",X.id)}catch(ce){console.warn("Could not automatically add to inventory:",ce),fe.error("Sorting completed but failed to add to inventory. Please add manually from inventory management.")}}fe.success("Fish sorted and batch created successfully!"),S(!1),D(null),V({batch_number:"",size_distribution:{},total_weight_kg:0,remaining_weight_kg:0,notes:"",storage_location_id:""}),await L()}catch(K){fe.error("Failed to complete sorting"),console.error("Sorting error:",K)}finally{k(!1)}},se=()=>{P(!0)},oe=async K=>{try{console.log("Viewing batch details:",K),console.log("Batch size distribution:",K.size_distribution);const U=await iu.getSortingBatch(K.id);console.log("Fresh batch data:",U),q(U),T(!0)}catch(U){console.error("Error fetching fresh batch data:",U),q(K),T(!0)}};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sorting Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Sort fish into size classes and manage sorting operations"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(te,{variant:"outline",onClick:G,disabled:g,className:"flex items-center gap-2",children:[a.jsx(Tt,{className:`w-4 h-4 ${g?"animate-spin":""}`}),"Refresh"]}),a.jsxs(te,{onClick:()=>e("inventory"),className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",children:[a.jsx(Ba,{className:"w-4 h-4"}),"Go to Inventory"]})]})]})}),f&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-5 h-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Error Loading Data"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:f}),a.jsx(te,{onClick:G,variant:"outline",size:"sm",className:"mt-2",children:"Try Again"})]})]})}),a.jsx("div",{className:"px-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(le,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Processing Records"}),a.jsx("p",{className:"text-3xl font-bold",children:r.length})]}),a.jsx(nt,{className:"w-8 h-8 text-blue-200"})]})})}),a.jsx(le,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Total Sorted"}),a.jsxs("p",{className:"text-3xl font-bold",children:[ee.toFixed(1),"kg"]}),a.jsxs("p",{className:"text-green-200 text-xs mt-1",children:[s.length," batches"]})]}),a.jsx(Je,{className:"w-8 h-8 text-green-200"})]})})}),a.jsx(le,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Size Classes"}),a.jsx("p",{className:"text-3xl font-bold",children:o.length})]}),a.jsx(Xr,{className:"w-8 h-8 text-purple-200"})]})})})]})}),a.jsxs(le,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(Ye,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(nt,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xl font-semibold",children:"Processing Records Ready for Sorting"}),a.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Fish that have been processed and are ready to be sorted into size classes"})]})]})}),a.jsx(he,{className:"p-6",children:u?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading processing records..."})]})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-blue-50 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:a.jsx(nt,{className:"w-10 h-10 text-blue-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Processing Records"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No fish have been processed yet"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[a.jsx(Bn,{className:"w-4 h-4"}),a.jsx("span",{children:"Process fish first, then they'll appear here for sorting"})]})]}):a.jsxs("div",{className:"space-y-4",children:[(v?r:r.slice(0,3)).map(K=>a.jsx("div",{className:"group p-6 border border-gray-200 rounded-xl hover:border-blue-300 hover:shadow-md transition-all duration-200 bg-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:a.jsx(It,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsxs("h4",{className:"font-semibold text-gray-900",children:["Processing Record ",K.processing_code||K.id]})}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsxs("span",{children:[K.post_processing_weight||K.total_weight||0,"kg"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsxs("span",{children:[K.ready_for_dispatch_count||K.fish_count||0," fish"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ia,{className:"w-4 h-4"}),a.jsx("span",{children:new Date(K.processing_date||K.processed_at).toLocaleDateString()})]})]})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(te,{onClick:()=>ne(K),className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(cd,{className:"w-4 h-4 mr-2"}),"Sort Fish"]})})]})},K.id)),r.length>3&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx(te,{variant:"outline",onClick:()=>j(!v),className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:v?a.jsxs(a.Fragment,{children:[a.jsx(jc,{className:"w-4 h-4 mr-2"}),"Show Less"]}):a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-4 h-4 mr-2"}),"View All (",r.length," records)"]})})})]})})]}),a.jsxs(le,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:a.jsxs(Ye,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Je,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xl font-semibold",children:"Sorted Batches"}),a.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Completed sorting operations with size distribution"})]})]})}),a.jsx(he,{className:"p-6",children:s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-green-50 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Je,{className:"w-10 h-10 text-green-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sorted Batches"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No fish have been sorted yet"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[a.jsx(Bn,{className:"w-4 h-4"}),a.jsx("span",{children:"Sort fish from processing records above to create batches"})]})]}):a.jsxs("div",{className:"space-y-4",children:[(x?s:s.slice(0,3)).map(K=>a.jsx("div",{className:"group p-6 border border-gray-200 rounded-xl hover:border-green-300 hover:shadow-md transition-all duration-200 bg-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors",children:a.jsx(Je,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsxs("h4",{className:"font-semibold text-gray-900",children:["Sorted Batch #",K.batch_number||K.id.slice(-8).toUpperCase()]})}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ia,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created: ",new Date(K.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsxs("span",{children:[K.total_weight_grams?(K.total_weight_grams/1e3).toFixed(1):0,"kg"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsxs("span",{children:[K.total_pieces||0," pieces"]})]}),K.processing_record?.fish_type&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nt,{className:"w-4 h-4"}),a.jsx("span",{children:K.processing_record.fish_type})]})]}),K.processing_record?.warehouse_entry?.farmer&&a.jsx("div",{className:"flex items-center gap-1 mt-2 text-xs text-gray-500",children:a.jsxs("span",{children:["Farmer: ",K.processing_record.warehouse_entry.farmer.name]})})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs(te,{size:"sm",onClick:()=>oe(K),className:"bg-orange-600 hover:bg-orange-700 text-white shadow-lg font-medium",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},K.id)),s.length>3&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx(te,{variant:"outline",onClick:()=>y(!x),className:"text-green-600 border-green-300 hover:bg-green-50",children:x?a.jsxs(a.Fragment,{children:[a.jsx(jc,{className:"w-4 h-4 mr-2"}),"Show Less"]}):a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-4 h-4 mr-2"}),"View All (",s.length," batches)"]})})})]})})]}),a.jsxs(le,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ye,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Xr,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xl font-semibold",children:"Size Class Thresholds"}),a.jsx("p",{className:"text-sm text-gray-600 font-normal mt-1",children:"Configure weight ranges for each size class (0-10)"})]})]}),a.jsxs(te,{variant:"outline",size:"sm",onClick:se,children:[a.jsx(kg,{className:"w-4 h-4 mr-2"}),"Manage"]})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(K=>a.jsxs("div",{className:"group p-4 border border-gray-200 rounded-xl hover:border-green-300 hover:shadow-md transition-all duration-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs(pe,{variant:"outline",className:`w-16 justify-center font-semibold ${K.class_number<=2?"border-blue-200 text-blue-700 bg-blue-50":K.class_number<=5?"border-green-200 text-green-700 bg-green-50":K.class_number<=8?"border-orange-200 text-orange-700 bg-orange-50":"border-red-200 text-red-700 bg-red-50"}`,children:["Class ",K.class_number]}),a.jsx(te,{variant:"ghost",size:"sm",onClick:se,children:a.jsx(No,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:K.description}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsxs("span",{children:[K.min_weight_grams,"g - ",K.max_weight_grams===999999.99?"":`${K.max_weight_grams}g`]})]})]})]},K.class_number))})})]}),a.jsx(Rt,{open:$,onOpenChange:T,children:a.jsxs(Mt,{className:"w-[95vw] max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Lt,{children:a.jsx(zt,{children:E?"Sorted Batch Details":"Sorting Details"})}),E?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 text-xs text-gray-600",children:[a.jsxs("span",{children:["Data refreshed: ",new Date().toLocaleTimeString()]}),a.jsxs("span",{children:["Batch ID: ",E.id.slice(-8).toUpperCase()]})]})}),a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Batch Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-blue-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Batch Number:"}),a.jsx("span",{className:"ml-2 font-mono text-xs",children:E.batch_number||E.id.slice(-8).toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Code:"}),a.jsx("span",{className:"ml-2 font-mono text-xs",children:E.processing_record?.processing_code||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx(pe,{variant:"outline",className:"ml-2",children:E.status})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Weight:"}),a.jsxs("span",{className:"ml-2 text-green-600 font-semibold",children:[E.total_weight_grams?(E.total_weight_grams/1e3).toFixed(1):0,"kg"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Pieces:"}),a.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:E.total_pieces||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Created Date:"}),a.jsx("span",{className:"ml-2",children:new Date(E.created_at).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Sorting Date:"}),a.jsx("span",{className:"ml-2",children:new Date(E.sorting_date).toLocaleDateString()})]})]})]}),E.processing_record&&a.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-purple-900 mb-3",children:"Processing Record Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-purple-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Record ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs",children:E.processing_record.id?.slice(-8).toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Date:"}),a.jsx("span",{className:"ml-2",children:new Date(E.processing_record.processing_date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Post-Processing Weight:"}),a.jsxs("span",{className:"ml-2 text-green-600 font-semibold",children:[E.processing_record.post_processing_weight||0,"kg"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Ready for Dispatch:"}),a.jsxs("span",{className:"ml-2 text-green-600 font-semibold",children:[E.processing_record.ready_for_dispatch_count||0," pieces"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fish Type:"}),a.jsx("span",{className:"ml-2",children:E.processing_record.fish_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Final Value:"}),a.jsx("span",{className:"ml-2",children:E.processing_record.final_value||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Yield:"}),a.jsxs("span",{className:"ml-2",children:[E.processing_record.processing_yield||0,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Waste:"}),a.jsxs("span",{className:"ml-2",children:[E.processing_record.processing_waste||0,"kg"]})]})]})]}),E.processing_record?.warehouse_entry?.farmer&&a.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-orange-900 mb-3",children:"Farmer Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-orange-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Farmer Name:"}),a.jsx("span",{className:"ml-2",children:E.processing_record.warehouse_entry.farmer.name})]}),E.processing_record.warehouse_entry.farmer.phone&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"}),a.jsx("span",{className:"ml-2",children:E.processing_record.warehouse_entry.farmer.phone})]}),E.processing_record.warehouse_entry.farmer.location&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Location:"}),a.jsx("span",{className:"ml-2",children:E.processing_record.warehouse_entry.farmer.location})]}),E.processing_record.warehouse_entry.farmer.rating&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Rating:"}),a.jsxs("span",{className:"ml-2",children:[E.processing_record.warehouse_entry.farmer.rating,"/5"]})]})]})]}),E.storage_location_id&&a.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-indigo-900 mb-3",children:"Storage Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-indigo-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Storage Location ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs",children:E.storage_location_id})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Stored Date:"}),a.jsx("span",{className:"ml-2",children:new Date(E.created_at).toLocaleDateString()})]})]})]}),E.size_distribution&&Object.keys(E.size_distribution).length>0||E.processing_record&&E.processing_record.size_distribution&&Object.keys(E.processing_record.size_distribution).length>0?a.jsxs("div",{children:[a.jsx(de,{className:"text-lg font-semibold",children:"Size Distribution"}),a.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-4",children:"Distribution Chart"}),a.jsx("div",{className:"space-y-3",children:Object.entries(E.size_distribution||E.processing_record?.size_distribution||{}).filter(([K,U])=>U>0).sort(([K],[U])=>parseInt(K)-parseInt(U)).map(([K,U])=>{const B=E.total_weight_grams?E.total_weight_grams/1e3:0,W=B>0?U/B*100:0;return a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsxs("div",{className:"w-12 sm:w-16 text-sm font-medium text-gray-700",children:["Size ",K]}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-6 sm:h-8 relative overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-full rounded-full transition-all duration-300 flex items-center justify-end pr-2",style:{width:`${Math.min(W,100)}%`},children:W>15&&a.jsxs("span",{className:"text-xs font-medium text-white",children:[U,"kg"]})})}),a.jsxs("div",{className:"text-xs text-gray-600 w-12 text-right",children:[W.toFixed(1),"%"]})]},K)})})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Detailed Breakdown"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(E.size_distribution||E.processing_record?.size_distribution||{}).filter(([K,U])=>U>0).sort(([K],[U])=>parseInt(K)-parseInt(U)).map(([K,U])=>{const B=E.total_weight_grams?E.total_weight_grams/1e3:0,W=B>0?U/B*100:0;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-blue-700 text-sm",children:K})}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:["Size ",K]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[W.toFixed(1),"% of total"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[U,"kg"]})})]},K)})})]})]}):a.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"text-yellow-800",children:"No size distribution data available for this batch"})]})}),(E.size_distribution&&Object.keys(E.size_distribution).length>0||E.processing_record&&E.processing_record.size_distribution&&Object.keys(E.processing_record.size_distribution).length>0)&&a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Sorting Summary"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-green-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Sizes:"}),a.jsx("span",{className:"ml-2",children:Object.keys(E.size_distribution||E.processing_record?.size_distribution||{}).length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Distributed:"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[Object.values(E.size_distribution||E.processing_record?.size_distribution||{}).reduce((K,U)=>K+U,0).toFixed(2),"kg"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Largest Size:"}),a.jsxs("span",{className:"ml-2",children:["Size ",Object.entries(E.size_distribution||E.processing_record?.size_distribution||{}).reduce((K,[U,B])=>B>K.weight?{size:U,weight:B}:K,{size:"0",weight:0}).size]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Smallest Size:"}),a.jsxs("span",{className:"ml-2",children:["Size ",Object.entries(E.size_distribution||E.processing_record?.size_distribution||{}).reduce((K,[U,B])=>B<K.weight?{size:U,weight:B}:K,{size:"0",weight:1/0}).size]})]})]})]}),E.notes&&a.jsxs("div",{children:[a.jsx(de,{className:"text-lg font-semibold",children:"Batch Notes"}),a.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-yellow-800",children:E.notes})})]}),E.sorted_by_user&&a.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-orange-900 mb-3",children:"Sorted By"}),a.jsxs("div",{className:"text-sm text-orange-700",children:[a.jsx("span",{className:"font-medium",children:"User:"}),a.jsx("span",{className:"ml-2",children:E.sorted_by_user.email})]})]})]}):I?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Processing Record Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-blue-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Record ID:"}),a.jsx("span",{className:"ml-2 font-mono text-xs",children:I.id?.slice(-8).toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Date:"}),a.jsx("span",{className:"ml-2",children:new Date(I.processing_date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Weight:"}),a.jsxs("span",{className:"ml-2 text-green-600 font-semibold",children:[I.post_processing_weight||0,"kg"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Pieces:"}),a.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:I.ready_for_dispatch_count||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fish Type:"}),a.jsx("span",{className:"ml-2",children:I.fish_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Final Grade:"}),a.jsx("span",{className:"ml-2",children:I.final_grade||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Yield:"}),a.jsxs("span",{className:"ml-2",children:[I.processing_yield||0,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Waste:"}),a.jsxs("span",{className:"ml-2",children:[I.processing_waste||0,"kg"]})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Debug Information"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Size Distribution Type:"})," ",typeof I.size_distribution]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size Distribution Value:"})," ",JSON.stringify(I.size_distribution)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Has Size Distribution:"})," ",I.size_distribution?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size Distribution Keys:"})," ",I.size_distribution?Object.keys(I.size_distribution).join(", "):"None"]})]})]}),I.size_distribution&&Object.keys(I.size_distribution).length>0?a.jsxs("div",{children:[a.jsx(de,{className:"text-lg font-semibold",children:"Size Distribution"}),a.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-4",children:"Distribution Chart"}),a.jsx("div",{className:"space-y-3",children:Object.entries(I.size_distribution).filter(([K,U])=>U>0).sort(([K],[U])=>parseInt(K)-parseInt(U)).map(([K,U])=>{const B=I.post_processing_weight>0?U/I.post_processing_weight*100:0;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"w-16 text-sm font-medium text-gray-700",children:["Size ",K]}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-8 relative overflow-hidden",children:a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-full rounded-full transition-all duration-300 flex items-center justify-between px-3",style:{width:`${Math.min(B,100)}%`},children:[a.jsxs("span",{className:"text-sm font-medium text-white",children:[U,"kg"]}),a.jsxs("span",{className:"text-xs text-green-100",children:[B.toFixed(1),"%"]})]})})]},K)})})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Detailed Breakdown"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(I.size_distribution).filter(([K,U])=>U>0).sort(([K],[U])=>parseInt(K)-parseInt(U)).map(([K,U])=>{const B=I.post_processing_weight>0?U/I.post_processing_weight*100:0;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-green-700 text-sm",children:K})}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:["Size ",K]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[B.toFixed(1),"% of total"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-bold text-green-600",children:[U,"kg"]})})]},K)})})]})]}):a.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"text-yellow-800",children:"No size distribution data available for this record"})]}),a.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"This record may not have been sorted yet, or the size distribution data is missing."})]}),I.size_distribution&&Object.keys(I.size_distribution).length>0?a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Sorting Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-green-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Sizes:"}),a.jsx("span",{className:"ml-2",children:Object.keys(I.size_distribution).length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Distributed:"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[Object.values(I.size_distribution).reduce((K,U)=>K+U,0).toFixed(2),"kg"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Largest Size:"}),a.jsxs("span",{className:"ml-2",children:["Size ",Object.entries(I.size_distribution).reduce((K,[U,B])=>B>K.weight?{size:U,weight:B}:K,{size:"0",weight:0}).size]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Smallest Size:"}),a.jsxs("span",{className:"ml-2",children:["Size ",Object.entries(I.size_distribution).reduce((K,[U,B])=>B<K.weight?{size:U,weight:B}:K,{size:"0",weight:1/0}).size]})]})]})]}):a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Sorting Status"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("p",{children:"This processing record has not been sorted yet."}),a.jsx("p",{className:"mt-2",children:'Use the "Sort Fish" button to distribute the fish into size classes.'})]})]}),(I.notes||I.processing_notes)&&a.jsxs("div",{children:[a.jsx(de,{className:"text-lg font-semibold",children:"Notes & Comments"}),a.jsxs("div",{className:"mt-3 space-y-3",children:[I.notes&&a.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"Processing Notes"}),a.jsx("p",{className:"text-sm text-yellow-800",children:I.notes})]}),I.processing_notes&&a.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"Additional Notes"}),a.jsx("p",{className:"text-sm text-purple-800",children:I.processing_notes})]})]})]}),I.farmer_name&&a.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-orange-900 mb-3",children:"Farmer Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-orange-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Farmer Name:"}),a.jsx("span",{className:"ml-2",children:I.farmer_name})]}),I.farmer_phone&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"}),a.jsx("span",{className:"ml-2",children:I.farmer_phone})]}),I.farmer_location&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Location:"}),a.jsx("span",{className:"ml-2",children:I.farmer_location})]}),I.farmer_rating&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Rating:"}),a.jsxs("span",{className:"ml-2",children:[I.farmer_rating,"/5"]})]})]})]})]}):null,a.jsx(zo,{children:a.jsx(te,{variant:"outline",onClick:()=>T(!1),children:"Close"})})]})}),a.jsx(Rt,{open:O,onOpenChange:P,children:a.jsxs(Mt,{className:"sm:max-w-4xl",children:[a.jsx(Lt,{children:a.jsx(zt,{children:"Manage Size Class Thresholds"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Configure the weight ranges for each size class. Fish will be automatically sorted into these classes based on their weight."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:o.map(K=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"font-medium",children:["Class ",K.class_number]}),a.jsx(pe,{variant:"outline",children:K.is_active?"Active":"Inactive"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:K.description}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Range:"})," ",K.min_weight_grams,"g - ",K.max_weight_grams===999999.99?"":`${K.max_weight_grams}g`]})]},K.class_number))})]}),a.jsxs(zo,{children:[a.jsx(te,{variant:"outline",onClick:()=>P(!1),children:"Close"}),a.jsx(te,{onClick:()=>P(!1),children:"Save Changes"})]})]})}),a.jsx(Rt,{open:N,onOpenChange:S,children:a.jsxs(Mt,{className:"w-[95vw] max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{children:[a.jsx(zt,{className:"text-xl font-semibold",children:"Sort Fish into Size Classes"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Distribute the processed fish across different size classes"})]}),a.jsxs("div",{className:"space-y-6",children:[I&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(It,{className:"w-5 h-5 text-blue-600"})}),a.jsx("h4",{className:"font-semibold text-blue-900",children:"Processing Record Summary"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-700 font-medium",children:"Total Weight:"}),a.jsxs("p",{className:"text-blue-900 font-semibold",children:[I.post_processing_weight||0,"kg"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-700 font-medium",children:"Total Pieces:"}),a.jsx("p",{className:"text-blue-900 font-semibold",children:I.ready_for_dispatch_count||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-700 font-medium",children:"Fish Type:"}),a.jsx("p",{className:"text-blue-900 font-semibold",children:I.fish_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-700 font-medium",children:"Processing Date:"}),a.jsx("p",{className:"text-blue-900 font-semibold",children:new Date(I.processing_date).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Size Distribution"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining:"}),a.jsxs("span",{className:`font-medium px-2 py-1 rounded ${F.remaining_weight_kg===0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[F.remaining_weight_kg.toFixed(1),"kg"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Array.from({length:11},(K,U)=>U).map(K=>{const U=F.size_distribution[K.toString()]||0,B=U>0,W=F.total_weight_kg>0?U/F.total_weight_kg*100:0;return a.jsxs("div",{className:`p-3 rounded-lg border transition-all hover:shadow-sm ${B?"bg-blue-50 border-blue-200 shadow-sm":"bg-gray-50 border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(de,{htmlFor:`size-${K}`,className:`text-sm font-medium ${B?"text-blue-700":"text-gray-600"}`,children:["Size ",K]}),B&&a.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[W.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qe,{id:`size-${K}`,type:"number",min:"0",max:F.total_weight_kg,step:"0.1",value:U||"",onChange:H=>R(K.toString(),parseFloat(H.target.value)||0),placeholder:"0.0",className:`flex-1 text-sm ${B?"border-blue-300 focus:border-blue-500 bg-white":"border-gray-200"}`}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"kg"})]}),B&&a.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1",children:a.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-300",style:{width:`${Math.min(W,100)}%`}})})]},K)})}),F.remaining_weight_kg!==0&&a.jsx("div",{className:`p-3 rounded-lg border ${F.remaining_weight_kg>0?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:`w-4 h-4 ${F.remaining_weight_kg>0?"text-yellow-600":"text-red-600"}`}),a.jsx("span",{className:`text-sm ${F.remaining_weight_kg>0?"text-yellow-800":"text-red-800"}`,children:F.remaining_weight_kg>0?`${F.remaining_weight_kg.toFixed(1)}kg remaining to distribute`:`Over-distributed by ${Math.abs(F.remaining_weight_kg).toFixed(1)}kg`})]})}),F.remaining_weight_kg===0&&Object.keys(F.size_distribution).filter(K=>F.size_distribution[K]>0).length>0&&a.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{className:"w-4 h-4 text-green-600"}),a.jsxs("span",{className:"text-sm text-green-800",children:[" All ",F.total_weight_kg,"kg distributed across ",Object.keys(F.size_distribution).filter(K=>F.size_distribution[K]>0).length," size classes"]})]})})]}),Object.keys(F.size_distribution).filter(K=>F.size_distribution[K]>0).length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Distribution Preview"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(F.size_distribution).filter(K=>F.size_distribution[K]>0).length," sizes"]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:a.jsx("div",{className:"space-y-2",children:Object.entries(F.size_distribution).filter(([K,U])=>U>0).sort(([K],[U])=>parseInt(K)-parseInt(U)).map(([K,U])=>{const B=F.total_weight_kg>0?U/F.total_weight_kg*100:0;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-10 text-sm font-medium text-gray-700",children:["Size ",K]}),a.jsx("div",{className:"flex-1 bg-white rounded-full h-4 relative overflow-hidden border border-gray-200",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-full rounded-full transition-all duration-300 flex items-center justify-end pr-2",style:{width:`${Math.min(B,100)}%`},children:B>20&&a.jsxs("span",{className:"text-xs font-medium text-white",children:[U,"kg"]})})}),a.jsxs("div",{className:"text-xs text-gray-600 w-12 text-right font-medium",children:[B.toFixed(1),"%"]})]},K)})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage-location",className:"text-sm font-medium",children:"Storage Location *"}),a.jsxs(lr,{value:F.storage_location_id,onValueChange:K=>V({...F,storage_location_id:K}),children:[a.jsx(dr,{className:"mt-1",children:a.jsx(cr,{placeholder:"Select storage location"})}),a.jsx(ur,{children:(()=>{const K=c.filter(U=>(U.capacity_kg-(U.current_usage_kg||0),(U.capacity_kg>0?(U.current_usage_kg||0)/U.capacity_kg*100:0)<100));return K.length===0?a.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No storage locations available - all units are full"}):K.map(U=>{const B=U.capacity_kg-(U.current_usage_kg||0),W=B<F.total_weight_kg;return a.jsx(Fe,{value:U.id,children:a.jsxs("div",{className:"flex justify-between items-center w-full",children:[a.jsx("span",{className:W?"text-red-600":"",children:U.name}),a.jsxs("span",{className:`text-xs ml-2 ${W?"text-red-500":"text-gray-500"}`,children:[B,"kg available"]})]})},U.id)})})()})]}),F.storage_location_id&&(()=>{const K=c.find(B=>B.id===F.storage_location_id);if(!K)return null;const U=K.capacity_kg-(K.current_usage_kg||0);return U<F.total_weight_kg?a.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:[" Insufficient capacity (",U,"kg available, ",F.total_weight_kg,"kg needed)"]}):a.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs text-green-700",children:[" ",U-F.total_weight_kg,"kg remaining after storage"]})})()]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"sorting-notes",className:"text-sm font-medium",children:"Notes (Optional)"}),a.jsx($a,{id:"sorting-notes",value:F.notes,onChange:K=>V({...F,notes:K.target.value}),placeholder:"Add any notes about this sorting operation...",rows:3,className:"mt-1"})]})]})]})]}),a.jsxs(zo,{className:"mt-6",children:[a.jsx(te,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),a.jsx(te,{onClick:Y,disabled:(()=>{if(w||F.remaining_weight_kg!==0||!F.storage_location_id)return!0;const K=c.find(U=>U.id===F.storage_location_id);return!!(K&&K.capacity_kg-(K.current_usage_kg||0)<F.total_weight_kg)})(),className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?a.jsxs(a.Fragment,{children:[a.jsx(Tt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Je,{className:"w-4 h-4 mr-2"}),"Complete Sorting"]})})]})]})})]})})},Xje=Object.freeze(Object.defineProperty({__proto__:null,default:Yje},Symbol.toStringTag,{value:"Module"}));function nd({className:e,...t}){return a.jsx(b1,{"data-slot":"checkbox",className:Qe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(w1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Bo,{className:"size-3.5"})})})}function Qje({isOpen:e,onClose:t,sourceStorage:r,itemsToTransfer:n,onTransferComplete:s}){const{user:i}=oi(),[o,l]=b.useState([]),[c,d]=b.useState(""),[u,h]=b.useState(""),[f,m]=b.useState(!1),[g,p]=b.useState(null),[x,y]=b.useState(null),[v,j]=b.useState(!1),[w,k]=b.useState(new Set);b.useEffect(()=>{if(e){const E=new Set(n.map(q=>q.size));k(E),p(null),y(null)}},[e,r.id,n]),b.useEffect(()=>{e&&w.size>0&&T()},[w,e,r.id]);const N=n.filter(E=>w.has(E.size)).reduce((E,q)=>E+q.total_weight,0),S=n.filter(E=>w.has(E.size)).reduce((E,q)=>E+q.quantity,0),O=E=>{k(E?new Set(n.map(q=>q.size)):new Set)},P=(E,q)=>{const F=new Set(w);q?F.add(E):F.delete(E),k(F)},$=w.size===n.length;w.size>0;const T=async()=>{m(!0),p(null);try{const E=await Ln.getAvailableStorageLocationsForTransfer(r.id),q=n.filter(V=>w.has(V.size)).reduce((V,L)=>V+L.total_weight,0),F=E.filter(V=>{const L=V.available_capacity_kg>=q;return console.log(`${V.name}: ${V.available_capacity_kg}kg available, need ${q.toFixed(1)}kg - ${L?"SUITABLE":"NOT ENOUGH SPACE"}`),L});console.log(`Found ${F.length} suitable storage locations for ${q.toFixed(1)}kg transfer`),console.log("Suitable storages:",F),l(F),F.length===0?p(`No storage locations have enough capacity for this transfer. Total weight to transfer: ${q.toFixed(1)}kg`):console.log(`Found ${F.length} suitable storage locations for transfer`)}catch(E){console.error("Error loading available storages:",E),p(E.message||"Failed to load available storage locations")}finally{m(!1)}},I=async()=>{if(!v){if(!c){p("Please select a destination storage location");return}if(w.size===0){p("Please select at least one size to transfer");return}j(!0),p(null);try{console.log("Creating transfer request..."),console.log("Source storage:",r),console.log("Destination storage ID:",c),console.log("Selected sizes:",Array.from(w)),console.log("Items to transfer:",n.filter(G=>w.has(G.size)));const E=n.filter(G=>w.has(G.size)),q=E.reduce((G,ee)=>G+ee.quantity,0),F=E.reduce((G,ee)=>G+ee.total_weight,0);console.log(`Creating batch transfer for ${E.length} selected size classes, total quantity: ${q}, total weight: ${F}kg`);const V=E.map(G=>({size:G.size,quantity:G.quantity,weightKg:G.total_weight})),L=await Ln.createBatchTransfer(r.id,c,V,`Transfer from ${r.name} - Sizes: ${Array.from(w).sort().join(", ")} - ${u||"No notes"}`,i?.id);console.log("Batch transfer created:",L),y(`Transfer request created successfully for ${E.length} size${E.length!==1?"s":""}! Awaiting approval.`),setTimeout(()=>{s(),t()},2e3)}catch(E){console.error("Error creating transfer request:",E),E.message&&(E.message.includes("already exists")||E.message.includes("409"))?p("A transfer request for these items already exists. Please check the 'Transfer Approvals' section to review pending requests."):E.message&&E.message.includes("ERR_CONNECTION_CLOSED")?p("Connection error. Please check your internet connection and try again."):E.message&&E.message.includes("500")?p("Server error. Please try again in a moment."):E.message&&E.message.includes("insufficient")?p("Insufficient inventory for this transfer. Please check available quantities."):p(E.message||"Failed to create transfer request. Please try again.")}finally{j(!1)}}},D=o.find(E=>E.id===c);return a.jsx(Rt,{open:e,onOpenChange:t,children:a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx(Lt,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(Bn,{className:"w-5 h-5"}),"Transfer Stock from ",r.name]})}),a.jsxs("div",{className:"space-y-6 overflow-y-auto flex-1 pr-2",children:[a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Ba,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.location_type.replace("_"," ")})]}),a.jsx(pe,{variant:"destructive",children:"Inactive"})]})})}),a.jsx(le,{children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Xr,{className:"w-4 h-4"}),"Fish to Transfer (by Weight)"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nd,{id:"select-all",checked:$,onCheckedChange:O}),a.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Select All"})]})]}),a.jsxs("div",{className:"space-y-2",children:[n.map((E,q)=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${w.has(E.size)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nd,{id:`size-${E.size}`,checked:w.has(E.size),onCheckedChange:F=>P(E.size,F)}),a.jsxs(pe,{variant:"outline",className:"w-16 justify-center",children:["Size ",E.size]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xr,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"font-semibold text-blue-600",children:[E.total_weight.toFixed(1),"kg"]})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[E.quantity," pieces"]})]},q)),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total Weight"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[S," pieces selected"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xr,{className:"w-4 h-4 text-green-600"}),a.jsxs("span",{className:"font-bold text-green-600 text-lg",children:[N.toFixed(1),"kg"]})]})]})]})]})}),a.jsx(le,{children:a.jsxs(he,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Ba,{className:"w-4 h-4"}),"Available Storage Locations"]}),f?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Gs,{className:"w-6 h-6 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading available storage locations..."})]}):g?a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-1 bg-red-100 rounded-full",children:a.jsx(rr,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-red-800 mb-1",children:"Transfer Request Failed"}),a.jsx("p",{className:"text-sm text-red-700",children:g}),g.includes("already exists")&&a.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-xs text-blue-700",children:[" ",a.jsx("strong",{children:"Tip:"}),' Navigate to "Transfer Approvals" to review and approve existing requests.']})})]})]})}):o.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No suitable storage locations found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All active storage locations are at capacity or don't have enough space"})]}):a.jsx("div",{className:"space-y-3",children:o.map(E=>a.jsx("div",{className:`p-4 border rounded-lg transition-all ${c===E.id?"border-blue-300 bg-blue-50 cursor-pointer":"border-gray-200 hover:border-blue-300 hover:bg-gray-50 cursor-pointer"}`,onClick:()=>{d(E.id)},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${c===E.id?"border-blue-600 bg-blue-600":"border-gray-300"}`,children:c===E.id&&a.jsx(Je,{className:"w-3 h-3 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:E.name}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:E.location_type.replace("_"," ")})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Xr,{className:"w-4 h-4 text-green-600"}),a.jsxs("span",{className:"font-semibold text-green-600",children:[E.available_capacity_kg.toFixed(1),"kg available"]})]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[E.current_usage_kg.toFixed(1),"kg / ",E.capacity_kg.toFixed(1),"kg used"]}),a.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Need: ",N.toFixed(1),"kg"]}),a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mt-1",children:a.jsx("div",{className:`h-2 rounded-full ${E.utilization_percent>=90?"bg-red-500":E.utilization_percent>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(E.utilization_percent,100)}%`}})})]})]})},E.id))})]})}),x&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-1 bg-green-100 rounded-full",children:a.jsx(Je,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-green-800 mb-1",children:"Transfer Request Created"}),a.jsx("p",{className:"text-sm text-green-700",children:x})]})]})}),a.jsx(le,{children:a.jsxs(he,{className:"p-4",children:[a.jsx(de,{htmlFor:"transfer-notes",className:"text-sm font-medium text-gray-700",children:"Transfer Notes (Optional)"}),a.jsx($a,{id:"transfer-notes",placeholder:"Add notes about this transfer...",value:u,onChange:E=>h(E.target.value),className:"mt-2",rows:3})]})}),D&&a.jsx(le,{className:"border-blue-200 bg-blue-50",children:a.jsxs(he,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(Je,{className:"w-4 h-4 text-blue-600"}),"Selected Destination"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:D.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Will have ",(D.available_capacity_kg-N).toFixed(1),"kg remaining after transfer"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["Transfer: ",N.toFixed(1),"kg"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",D.utilization_percent.toFixed(1),"% used"]})]})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[a.jsx(te,{variant:"outline",onClick:t,disabled:v,children:"Cancel"}),a.jsx(te,{onClick:I,disabled:!c||v||o.length===0||w.size===0,className:"bg-blue-600 hover:bg-blue-700",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Gs,{className:"w-4 h-4 mr-2 animate-spin"}),"Transferring..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Transfer Stock"]})})]})]})})}function Jje({onNavigate:e}){const[t,r]=b.useState([]),[n,s]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState(null),[d,u]=b.useState(""),[h,f]=b.useState(!1),[m,g]=b.useState(null),[p,x]=b.useState(!1),[y,v]=b.useState(null),[j,w]=b.useState(null),[k,N]=b.useState(!1),[S,O]=b.useState(null),[P,$]=b.useState([]),[T,I]=b.useState(new Set),[D,E]=b.useState(!1),[q,F]=b.useState("grid"),[V,L]=b.useState("name"),[G,ee]=b.useState([]),[ne,R]=b.useState(null),[Y,se]=b.useState(null),[oe,K]=b.useState(!1),[U,B]=b.useState([]),[W,H]=b.useState([]),X=b.useCallback(async()=>{f(!0),g(null);try{console.log(" Fetching inventory data..."),console.log(" Testing database connection...");try{const Ne=await Ln.getInventorySummary();console.log(" Database connection successful, test data:",Ne)}catch(Ne){console.error(" Database connection failed:",Ne)}const J=await Ln.getInventoryByStorage();if(console.log(" Raw inventory data received:",J),console.log(" Data structure analysis:",{totalItems:J?.length||0,hasStorageLocationId:J?.some(Ne=>Ne.storage_location_id)||!1,hasSize:J?.some(Ne=>Ne.size!==null)||!1,hasQuantity:J?.some(Ne=>Ne.total_quantity>0)||!1,hasContributingBatches:J?.some(Ne=>Ne.contributing_batches&&Ne.contributing_batches.length>0)||!1,itemsWithBatches:J?.filter(Ne=>Ne.contributing_batches&&Ne.contributing_batches.length>0).length||0,itemsWithoutBatches:J?.filter(Ne=>Ne.size!==null&&Ne.total_quantity>0&&(!Ne.contributing_batches||Ne.contributing_batches.length===0)).length||0,sampleItem:J?.[0]||null,sampleItemWithBatches:J?.find(Ne=>Ne.contributing_batches&&Ne.contributing_batches.length>0)||null,sampleItemWithoutBatches:J?.find(Ne=>Ne.size!==null&&Ne.total_quantity>0&&(!Ne.contributing_batches||Ne.contributing_batches.length===0))||null}),J&&J.length>0){console.log(" Detailed data analysis:"),console.log(" Raw data structure check:",{isArray:Array.isArray(J),length:J.length,firstItem:J[0],firstItemKeys:J[0]?Object.keys(J[0]):null}),J.forEach((Ae,Z)=>{Z<3&&console.log(`Item ${Z+1}:`,{storage_location_id:Ae.storage_location_id,storage_location_name:Ae.storage_location_name,size:Ae.size,total_quantity:Ae.total_quantity,total_weight_kg:Ae.total_weight_kg,batch_count:Ae.batch_count,contributing_batches_count:Ae.contributing_batches?.length||0,contributing_batches:Ae.contributing_batches,capacity_kg:Ae.capacity_kg,current_usage_kg:Ae.current_usage_kg,utilization_percent:Ae.utilization_percent,status:Ae.status,allKeys:Object.keys(Ae)})});const Ne=J.filter(Ae=>Ae&&typeof Ae=="object").reduce((Ae,Z)=>{try{const je=Z.storage_location_name||Z.storage_location_id||"Unknown";if(!je||typeof je!="string")return console.warn(" Invalid storage key:",je,"for item:",Z),Ae;Ae[je]||(Ae[je]={totalItems:0,totalWeight:0,totalBatches:0,sizes:new Set,status:Z.status||"unknown",capacity:Z.capacity_kg||0,utilization:Z.utilization_percent||0}),Ae[je]&&(Ae[je].totalItems+=1,Ae[je].totalWeight+=Z.total_weight_kg||0,Ae[je].totalBatches+=Z.batch_count||0,Z.size!==null&&Z.size!==void 0&&Ae[je].sizes.add(Z.size))}catch(je){console.error(" Error processing storage summary item:",je,"item:",Z)}return Ae},{});console.log(" Storage location summary:",Ne),console.log(" Data validation results:");const ke={hasValidData:J.length>0,hasStorageLocations:J.some(Ae=>Ae.storage_location_id),hasSizeData:J.some(Ae=>Ae.size!==null),hasWeightData:J.some(Ae=>Ae.total_weight_kg>0),hasBatchData:J.some(Ae=>Ae.contributing_batches&&Ae.contributing_batches.length>0),totalWeight:J.reduce((Ae,Z)=>Ae+(Z.total_weight_kg||0),0),totalBatches:J.reduce((Ae,Z)=>Ae+(Z.batch_count||0),0),uniqueSizes:[...new Set(J.map(Ae=>Ae.size).filter(Ae=>Ae!==null))].length,uniqueStorageLocations:[...new Set(J.map(Ae=>Ae.storage_location_name))].length};console.log(" Validation results:",ke)}s(J||[]);const be=await iu.getSortingBatches();console.log(" Sorting batches received:",be),o(be||[]);const We=await Ln.getOldestBatchForRemoval();console.log(" Oldest batches received:",We),console.log(" Oldest batches count:",We?.length||0),We&&We.length>0&&console.log(" First oldest batch:",We[0]),ee(We||[]);const at=await Ln.getSizeDemandStatistics();console.log(" Size demand statistics received:",at),B(at||[]);const Oe=await Ln.getPendingTransfers();console.log(" Pending transfers received:",Oe),H(Oe||[])}catch(J){console.error(" Error fetching inventory:",J),console.error(" Error details:",{message:J.message,stack:J.stack,error:J}),g(J.message||"Failed to fetch inventory data"),s([]),o([])}finally{f(!1)}},[]),A=async()=>{x(!0),await X(),x(!1)},ce=J=>{if(J.status==="inactive"&&J.items.length>0){if(Ee(J.location_id)){const We=Se(J.location_id);g(We);return}const be=J.items.map(We=>({size:We.size,quantity:We.quantity,total_weight:We.total_weight}));O({id:J.location_id,name:J.location,location_type:J.location_type}),$(be),N(!0)}},we=async()=>{await X(),N(!1),O(null),$([]),console.log("Transfer request created successfully!")},Ee=J=>W.some(be=>be.from_storage_location_id===J&&be.status==="pending"),Se=J=>{const be=W.filter(We=>We.from_storage_location_id===J&&We.status==="pending").length;return be>0?`Contact your admin for approval. ${be} transfer request${be>1?"s":""} already pending.`:""},Te=async J=>{try{R(J),K(!0);const be=await Ln.getBatchDetails(J.batch_id);se(be)}catch(be){console.error("Error fetching batch details:",be),se(null)}};b.useEffect(()=>{X()},[X]);const Ie=b.useMemo(()=>{const J=new Map;n.forEach(M=>{M.storage_location_id&&!J.has(M.storage_location_id)&&J.set(M.storage_location_id,{id:M.storage_location_id,name:M.storage_location_name,type:M.storage_location_type,status:M.storage_status||"active",capacity_kg:M.capacity_kg||0,current_usage_kg:M.current_usage_kg||0,utilization_percent:M.utilization_percent||0})});const be=Array.from(J.values()),We=be.length,at=be.filter(M=>M.status==="active").length,Oe=be.reduce((M,re)=>M+(re.capacity_kg||0),0),Ne=be.reduce((M,re)=>M+(re.current_usage_kg||0),0),ke=n.filter(M=>M.size!==null&&M.total_quantity>0&&M.contributing_batches&&M.contributing_batches.length>0).length,Ae=We>0?be.reduce((M,re)=>M+(re.utilization_percent||0),0)/We:0,Z=n.reduce((M,re)=>(re.size!==null&&re.total_weight_kg>0&&(M[re.size]=(M[re.size]||0)+re.total_weight_kg),M),{});console.log(" Size distribution (total across all storage):",Z),console.log(" Size 9 total weight:",Z[9]||"NOT FOUND"),console.log(" All sizes found:",Object.keys(Z).map(Number).sort((M,re)=>M-re));const je=n.filter(M=>M.size===9);console.log(" Size 9 items by storage:",je.map(M=>({storage:M.storage_location_name,weight:M.total_weight_kg})));const st=new Map;n.forEach(M=>{if(M.storage_location_id&&M.total_weight_kg>0){const re=M.storage_location_id;st.has(re)||st.set(re,{storage_location_id:M.storage_location_id,storage_location_name:M.storage_location_name,total_weight_kg:0,utilization_percent:M.utilization_percent||0,capacity_kg:M.capacity_kg||0}),st.get(re).total_weight_kg+=M.total_weight_kg}});const St=Array.from(st.values()).sort((M,re)=>re.total_weight_kg-M.total_weight_kg).slice(0,3);console.log(" Top storage units by total weight:",St);const Ft=[];return Ae>85&&Ft.push({type:"warning",message:"High overall utilization"}),at<We*.8&&Ft.push({type:"info",message:"Some storage units inactive"}),Ne>Oe*.9&&Ft.push({type:"error",message:"Near capacity limit"}),{totalStorage:We,activeStorage:at,totalCapacity:Oe,totalUsed:Ne,totalItems:ke,avgUtilization:Ae,sizeDistribution:Z,topStorage:St,alerts:Ft}},[n]),Ue=b.useMemo(()=>{const J={};n.forEach(Oe=>{const Ne=Oe.storage_location_id||"unknown";if(J[Ne]||(J[Ne]={location:Oe.storage_location_name||"Unknown Storage",location_id:Oe.storage_location_id||"unknown",location_type:Oe.storage_location_type||"unknown",status:Oe.storage_status||"active",capacity_kg:Oe.capacity_kg||0,current_usage_kg:Oe.current_usage_kg||0,available_capacity_kg:Oe.available_capacity_kg||0,utilization_percent:Oe.utilization_percent||0,items:[]}),Oe.size===null||Oe.size!==null&&Oe.size!==void 0&&Oe.total_quantity>0){if(Oe.size===null)return;if(Oe.contributing_batches&&Oe.contributing_batches.length>0){const ke=J[Ne].items.findIndex(Ae=>Ae.size===Oe.size);ke>=0?(J[Ne].items[ke].quantity+=Oe.total_quantity,J[Ne].items[ke].total_weight+=Oe.total_weight_kg||0,J[Ne].items[ke].contributing_batches=[...J[Ne].items[ke].contributing_batches||[],...Oe.contributing_batches],J[Ne].items[ke].batch_count=(J[Ne].items[ke].batch_count||0)+(Oe.batch_count||0)):J[Ne].items.push({id:`${Ne}-${Oe.size}`,size:Oe.size,quantity:Oe.total_quantity,total_weight:Oe.total_weight_kg||0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),batch_count:Oe.batch_count||0,contributing_batches:Oe.contributing_batches||[]})}else console.warn(" Skipping inventory item without proper batch data:",{storage_location_id:Oe.storage_location_id,size:Oe.size,quantity:Oe.total_quantity,hasContributingBatches:Oe.contributing_batches&&Oe.contributing_batches.length>0,contributingBatchesCount:Oe.contributing_batches?.length||0})}}),Object.values(J).forEach(Oe=>{Oe.items.sort((Ne,ke)=>Ne.size-ke.size)});const be=Object.values(J),We=be.map(Oe=>Oe.location_id),at=We.filter((Oe,Ne)=>We.indexOf(Oe)!==Ne);return at.length>0&&console.warn(" Duplicate location IDs found:",at),console.log(" Processed storage units:",{totalUnits:be.length,unitsWithItems:be.filter(Oe=>Oe.items.length>0).length,totalItems:be.reduce((Oe,Ne)=>Oe+Ne.items.length,0),itemsWithBatches:be.reduce((Oe,Ne)=>Oe+Ne.items.filter(ke=>ke.contributing_batches&&ke.contributing_batches.length>0).length,0),sampleUnit:be[0]||null,sampleItemWithBatches:be.find(Oe=>Oe.items.some(Ne=>Ne.contributing_batches&&Ne.contributing_batches.length>0))?.items.find(Oe=>Oe.contributing_batches&&Oe.contributing_batches.length>0)||null,locationIds:We,duplicateIds:at}),console.log(" Detailed processing analysis:"),be.forEach((Oe,Ne)=>{Ne<2&&console.log(`Storage Unit ${Ne+1} (${Oe.location}):`,{location_id:Oe.location_id,status:Oe.status,capacity_kg:Oe.capacity_kg,current_usage_kg:Oe.current_usage_kg,utilization_percent:Oe.utilization_percent,totalItems:Oe.items.length,items:Oe.items.map(ke=>({size:ke.size,quantity:ke.quantity,total_weight:ke.total_weight,batch_count:ke.batch_count,contributing_batches_count:ke.contributing_batches?.length||0}))})}),be},[n]),{user:er}=oi();return h&&n.length===0?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-blue-600 font-medium",children:"Loading inventory..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 sm:p-6 pt-20 sm:pt-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(nt,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"}),"Inventory Management"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage fish inventory across storage locations"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(te,{onClick:()=>e("transfers"),variant:"outline",className:"flex items-center gap-2 w-full sm:w-auto",children:[a.jsx(us,{className:"w-4 h-4"}),"Transfer Approvals"]}),a.jsxs(te,{onClick:()=>e("dashboard"),variant:"outline",className:"flex items-center gap-2 w-full sm:w-auto",children:[a.jsx(Ba,{className:"w-4 h-4"}),"Dashboard"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Storage"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Ie.totalStorage})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(nt,{className:"w-6 h-6 text-blue-600"})})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[a.jsxs("span",{className:"text-green-600 font-medium",children:[Ie.activeStorage," active"]}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsxs("span",{className:"text-gray-500",children:[Ie.totalStorage-Ie.activeStorage," inactive"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Capacity"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Ie.totalCapacity.toFixed(1),"kg"]})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Xr,{className:"w-6 h-6 text-green-600"})})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:[Ie.totalUsed.toFixed(1),"kg used"]}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsxs("span",{className:"text-gray-500",children:[(Ie.totalCapacity-Ie.totalUsed).toFixed(1),"kg available"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Utilization"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[Ie.avgUtilization.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(_n,{className:"w-6 h-6 text-orange-600"})})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm",children:Ie.avgUtilization>85?a.jsxs("span",{className:"text-red-600 font-medium flex items-center",children:[a.jsx(rr,{className:"w-4 h-4 mr-1"}),"High usage"]}):Ie.avgUtilization>70?a.jsxs("span",{className:"text-yellow-600 font-medium flex items-center",children:[a.jsx(rr,{className:"w-4 h-4 mr-1"}),"Moderate usage"]}):a.jsxs("span",{className:"text-green-600 font-medium flex items-center",children:[a.jsx(Je,{className:"w-4 h-4 mr-1"}),"Optimal usage"]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Ie.totalItems})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Cl,{className:"w-6 h-6 text-purple-600"})})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Size classes"}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsxs("span",{className:"text-gray-500",children:["Across ",Ie.totalStorage," locations"]})]})]})]}),Ie.alerts.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(iP,{className:"w-5 h-5 text-amber-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"System Alerts"})]}),a.jsx("div",{className:"space-y-2",children:Ie.alerts.map((J,be)=>a.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${J.type==="error"?"bg-red-50 border border-red-200":J.type==="warning"?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"}`,children:[a.jsx(rr,{className:`w-4 h-4 ${J.type==="error"?"text-red-600":J.type==="warning"?"text-yellow-600":"text-blue-600"}`}),a.jsx("span",{className:`text-sm font-medium ${J.type==="error"?"text-red-800":J.type==="warning"?"text-yellow-800":"text-blue-800"}`,children:J.message})]},be))})]}),m&&a.jsx("div",{className:`border rounded-lg p-4 ${m.includes("Contact your admin")?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:`w-5 h-5 ${m.includes("Contact your admin")?"text-yellow-600":"text-red-600"}`}),a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${m.includes("Contact your admin")?"text-yellow-800":"text-red-800"}`,children:m.includes("Contact your admin")?"Transfer Request Pending":"Error Loading Data"}),a.jsx("p",{className:`text-sm mt-1 ${m.includes("Contact your admin")?"text-yellow-700":"text-red-700"}`,children:m}),!m.includes("Contact your admin")&&a.jsx(te,{onClick:X,variant:"outline",size:"sm",className:"mt-2",children:"Try Again"}),m.includes("Contact your admin")&&a.jsx(te,{onClick:()=>e("transfers"),variant:"outline",size:"sm",className:"mt-2",children:"View Transfer Approvals"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[a.jsx("div",{className:"flex-1 w-full sm:max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(qe,{placeholder:"Search storage locations...",value:d,onChange:J=>u(J.target.value),className:"pl-10 w-full"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cd,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:V,onChange:J=>L(J.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"capacity",children:"Sort by Capacity"}),a.jsx("option",{value:"utilization",children:"Sort by Utilization"}),a.jsx("option",{value:"items",children:"Sort by Items"})]})]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[a.jsx(te,{onClick:()=>F("grid"),variant:q==="grid"?"default":"ghost",size:"sm",className:"rounded-none border-0 hover:bg-blue-50",title:"Grid View",children:a.jsx(Cl,{className:"w-4 h-4"})}),a.jsx(te,{onClick:()=>F("list"),variant:q==="list"?"default":"ghost",size:"sm",className:"rounded-none border-0 hover:bg-green-50",title:"List View",children:a.jsx(us,{className:"w-4 h-4"})}),a.jsx(te,{onClick:()=>F("analytics"),variant:q==="analytics"?"default":"ghost",size:"sm",className:"rounded-none border-0 hover:bg-purple-50",title:"Analytics View",children:a.jsx(fa,{className:"w-4 h-4"})})]}),a.jsxs(te,{onClick:A,variant:"outline",size:"sm",disabled:p,className:"flex-1 sm:flex-none",children:[a.jsx(Tt,{className:`w-4 h-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]})]})}),q==="analytics"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx($j,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Size Distribution"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total across all storage locations"})]})]}),a.jsx("div",{className:"space-y-3",children:Object.entries(Ie.sizeDistribution).sort(([,J],[,be])=>be-J).slice(0,12).map(([J,be])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:J})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Size ",J]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${be/Math.max(...Object.values(Ie.sizeDistribution).map(We=>We))*100}%`}})}),a.jsxs("span",{className:"text-sm font-medium text-gray-600 w-16 text-right",children:[be.toFixed(1),"kg"]})]})]},J))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Pr,{className:"w-5 h-5 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Oldest Batches (FIFO)"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Next batches to be removed"})]})]}),a.jsxs("div",{className:"space-y-3",children:[G.slice(0,5).map((J,be)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200 cursor-pointer hover:bg-orange-100 transition-colors",onClick:()=>Te(J),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-sm font-semibold text-orange-600",children:["#",be+1]})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Batch ",J.batch_number]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Size ",J.size_class,"  ",J.days_in_storage," days old"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-orange-600",children:[J.total_weight_kg?.toFixed(1),"kg"]}),a.jsx("p",{className:"text-xs text-orange-500 mt-1",children:"Click to view details"})]})]},J.batch_id)),G.length===0&&a.jsxs("div",{className:"text-center py-4 text-gray-500",children:[a.jsx(Pr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"No batches available for removal"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Check console for debugging info"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(_n,{className:"w-5 h-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Size Demand Statistics"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Based on outlet orders (most requested first)"})]})]}),a.jsxs("div",{className:"space-y-3",children:[U.slice(0,8).map((J,be)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:["#",be+1]})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Size ",J.size_class]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[J.total_orders," orders  ",J.unique_outlets," outlets ",J.days_span>0?`${J.days_span} days span`:"Recent"]}),a.jsxs("p",{className:"text-xs text-purple-600",children:["Grade ",J.most_requested_grade," preferred"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-purple-600",children:[J.total_weight_kg_requested.toFixed(1),"kg"]}),a.jsx("p",{className:"text-xs text-gray-400",children:"total requested"})]})]},J.size_class)),U.length===0&&a.jsxs("div",{className:"text-center py-4 text-gray-500",children:[a.jsx(_n,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"No size demand data available"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Bm,{className:"w-5 h-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Storage Units"}),a.jsx("p",{className:"text-xs text-gray-500",children:"By total weight across all sizes"})]})]}),a.jsx("div",{className:"space-y-3",children:Ie.topStorage.map((J,be)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${be===0?"bg-yellow-100 text-yellow-600":be===1?"bg-gray-100 text-gray-600":"bg-orange-100 text-orange-600"}`,children:a.jsxs("span",{className:"text-sm font-bold",children:["#",be+1]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:J.storage_location_name||`Storage Unit ${be+1}`}),a.jsxs("p",{className:"text-sm text-gray-500",children:[J.utilization_percent?.toFixed(1),"% utilized"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-green-600",children:[J.total_weight_kg?.toFixed(1),"kg"]}),a.jsx("p",{className:"text-xs text-gray-400",children:"total weight"})]})]},`top-storage-${J.storage_location_id}-${be}`))})]})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Ue.filter(J=>!d||J.location.toLowerCase().includes(d.toLowerCase())).sort((J,be)=>{switch(V){case"capacity":return be.capacity_kg-J.capacity_kg;case"utilization":return be.utilization_percent-J.utilization_percent;case"items":return be.items.length-J.items.length;default:return J.location.localeCompare(be.location)}}).map((J,be)=>{const We=T.has(J.location_id);return a.jsxs(le,{className:"card-shadow",children:[a.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>{const at=new Set(T);We?at.delete(J.location_id):at.add(J.location_id),I(at)},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[We?a.jsx(qa,{className:"w-5 h-5 text-gray-400"}):a.jsx(_g,{className:"w-5 h-5 text-gray-400"}),a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(nt,{className:"w-5 h-5 text-blue-600"})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:J.location}),Ee(J.location_id)&&a.jsxs(pe,{variant:"destructive",className:"text-xs",children:[W.filter(at=>at.from_storage_location_id===J.location_id&&at.status==="pending").length," Pending"]})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[J.location_type,"  ",J.items.length," size classes"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[J.current_usage_kg.toFixed(1),"kg / ",J.capacity_kg,"kg"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[J.utilization_percent.toFixed(1),"% utilized"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[J.utilization_percent>90&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:[a.jsx(rr,{className:"w-3 h-3"}),a.jsx("span",{children:"Full"})]}),a.jsx(pe,{variant:J.status==="active"?"default":"secondary",className:J.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:J.status}),J.status==="inactive"&&J.items.length>0&&a.jsxs(te,{onClick:at=>{at.stopPropagation(),ce(J)},variant:"outline",size:"sm",className:`${Ee(J.location_id)?"text-red-600 border-red-200 hover:bg-red-50":"text-orange-600 border-orange-200 hover:bg-orange-50"}`,children:[a.jsx(Bn,{className:"w-4 h-4 mr-1"}),Ee(J.location_id)?"Pending Transfer":"Transfer"]}),J.status==="active"&&J.items.length>0&&a.jsxs(te,{onClick:at=>{if(at.stopPropagation(),Ee(J.location_id)){const Ne=Se(J.location_id);g(Ne);return}const Oe=J.items.map(Ne=>({size:Ne.size,quantity:Ne.quantity,total_weight:Ne.total_weight}));O({id:J.location_id,name:J.location,location_type:J.location_type}),$(Oe),N(!0)},variant:"outline",size:"sm",className:`${Ee(J.location_id)?"text-red-600 border-red-200 hover:bg-red-50":"text-blue-600 border-blue-200 hover:bg-blue-50"}`,children:[a.jsx(Og,{className:"w-4 h-4 mr-1"}),Ee(J.location_id)?"Pending Transfer":"Quick Transfer"]})]})]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Capacity"}),a.jsxs("span",{className:`text-xs font-medium ${J.utilization_percent>90?"text-red-600":J.utilization_percent>70?"text-yellow-600":"text-green-600"}`,children:[J.utilization_percent.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ease-out ${J.utilization_percent>90?"bg-gradient-to-r from-red-400 to-red-600":J.utilization_percent>70?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-green-400 to-green-600"}`,style:{width:`${Math.min(J.utilization_percent,100)}%`}})}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[a.jsx("span",{children:"0kg"}),a.jsxs("span",{children:[J.capacity_kg,"kg"]})]})]})]}),We&&a.jsx("div",{className:"border-t border-gray-100 p-4",children:J.items.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No inventory items"})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Inventory Items"}),J.items.map(at=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>c(at),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:at.size})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Size ",at.size]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[at.batch_count," batch",at.batch_count!==1?"es":""]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-green-600",children:[at.total_weight.toFixed(1),"kg"]}),a.jsx(Jt,{className:"w-4 h-4 text-gray-400"})]})]},at.id))]})})]},`${J.location_id}-${be}`)})}),l&&a.jsx(Rt,{open:!!l,onOpenChange:()=>c(null),children:a.jsxs(Mt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsx(Lt,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"w-5 h-5"}),"Size ",l.size," - Inventory Details"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.quantity})]})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xr,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Weight"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.total_weight.toFixed(1),"kg"]})]})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4 text-orange-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Weight/Fish"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.quantity>0?(l.total_weight/l.quantity).toFixed(2):"0.00","kg"]})]})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cl,{className:"w-4 h-4 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Contributing Batches"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.batch_count||l.contributing_batches?.length||0})]})]})})})]}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(Cl,{className:"w-5 h-5"}),"Contributing Batches",l.contributing_batches&&l.contributing_batches.length>6&&a.jsx("span",{className:"text-sm text-gray-500 font-normal ml-2",children:"(scroll to see all)"})]})}),a.jsx(he,{children:a.jsx("div",{className:"border border-gray-200 rounded-lg bg-gray-50 max-h-[500px] overflow-y-auto",children:a.jsx("div",{className:"p-4 space-y-4",children:l.contributing_batches&&l.contributing_batches.length>0?l.contributing_batches.map((J,be)=>a.jsx("div",{className:"p-4 border border-gray-300 rounded-lg bg-white shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Batch Number"}),a.jsx("p",{className:"font-semibold text-gray-900",children:J.batch_number})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Weight Added"}),a.jsxs("p",{className:"font-semibold text-green-600 text-lg",children:[J.weight_kg?.toFixed(1),"kg"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Quantity Added"}),a.jsxs("p",{className:"font-semibold text-gray-500",children:["Batch #",J.batch_number]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Storage Location"}),a.jsx("p",{className:"font-semibold text-gray-900",children:J.storage_location_name||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Farmer"}),a.jsx("p",{className:"font-semibold text-gray-900",children:J.farmer_name||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Processing Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:J.processing_date||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Added Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:new Date(J.added_date).toLocaleDateString()})]})]})},J.batch_id||be)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Cl,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No contributing batches found"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"This may indicate that the data is still being processed or there's an issue with the batch tracking."})]})})})})]})]})]})}),k&&S&&a.jsx(Qje,{isOpen:k,onClose:()=>{N(!1),O(null),$([])},sourceStorage:S,itemsToTransfer:P,onTransferComplete:we}),oe&&a.jsx(Rt,{open:oe,onOpenChange:K,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsx(Lt,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(Pr,{className:"w-5 h-5 text-orange-600"}),"Batch Details - ",ne?.batch_number]})}),Y?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Batch Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Batch Number"}),a.jsx("p",{className:"font-semibold text-gray-900",children:Y.batch?.batch_number})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:Y.batch?.created_at?new Date(Y.batch.created_at).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Processing Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:Y.batch?.processing_record?.processing_date||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Farmer"}),a.jsx("p",{className:"font-semibold text-gray-900",children:Y.batch?.processing_record?.warehouse_entry?.farmers?.name||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Remaining Sizes"}),a.jsxs("div",{className:"space-y-3",children:[Y.sizes?.map((J,be)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:J.size_class})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Size ",J.size_class]}),a.jsx("p",{className:"text-sm text-gray-500",children:J.storage_location_name})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-blue-600",children:[J.total_weight_kg?.toFixed(1),"kg"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:[J.total_pieces," pieces"]})]})]},be)),(!Y.sizes||Y.sizes.length===0)&&a.jsxs("div",{className:"text-center py-4 text-gray-500",children:[a.jsx(nt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"No sizes remaining in this batch"})]})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Gs,{className:"w-8 h-8 mx-auto mb-2 text-gray-400 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Loading batch details..."})]})]})})]})})}const Zje=Object.freeze(Object.defineProperty({__proto__:null,default:Jje},Symbol.toStringTag,{value:"Module"}));function ec({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:Qe("w-full caption-bottom text-sm",e),...t})})}function tc({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:Qe("[&_tr]:border-b",e),...t})}function rc({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:Qe("[&_tr:last-child]:border-0",e),...t})}function aa({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:Qe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ct({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:Qe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function dt({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:Qe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function e1e({isOpen:e,onClose:t,transferRequest:r,onApprove:n,onDecline:s,currentUserId:i}){const[o,l]=b.useState(""),[c,d]=b.useState(!1),[u,h]=b.useState(null),f=async()=>{d(!0),h(null);try{await n(r.id,i),t()}catch(g){h(g.message||"Failed to approve transfer")}finally{d(!1)}},m=async()=>{d(!0),h(null);try{await s(r.id,i),t()}catch(g){h(g.message||"Failed to decline transfer")}finally{d(!1)}};return a.jsx(Rt,{open:e,onOpenChange:t,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsx(Lt,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-5 h-5 text-amber-600"}),"Transfer Approval Required"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(le,{children:a.jsxs(he,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"}),"Transfer Request Details"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"From Storage"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.from_storage_name})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"To Storage"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.to_storage_name})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Size Class"}),a.jsx(pe,{variant:"outline",className:"w-auto justify-center",children:r.is_bulk?r.size_class:`Size ${r.size_class}`}),r.is_bulk&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.batch_size," size",r.batch_size!==1?"s":""," in batch"]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Total Weight"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xr,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{className:"font-bold text-green-600 text-lg",children:[r.weight_kg.toFixed(1),"kg"]})]})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Piece Count"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[r.quantity.toLocaleString()," pieces"]})]}),r.notes&&a.jsxs("div",{className:"col-span-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:r.notes})]})]})]})}),a.jsx(le,{children:a.jsxs(he,{className:"p-4",children:[a.jsx(de,{htmlFor:"approval-notes",className:"text-sm font-medium text-gray-700",children:"Approval Notes (Optional)"}),a.jsx($a,{id:"approval-notes",placeholder:"Add any notes about this approval decision...",value:o,onChange:g=>l(g.target.value),className:"mt-2",rows:3})]})}),u&&a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx(rr,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-700",children:u})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[a.jsxs(te,{variant:"outline",onClick:m,disabled:c,className:"text-red-600 border-red-300 hover:bg-red-50",children:[c?a.jsx(Gs,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(_c,{className:"w-4 h-4 mr-2"}),"Decline Transfer"]}),a.jsxs(te,{onClick:f,disabled:c,className:"bg-green-600 hover:bg-green-700 text-white",children:[c?a.jsx(Gs,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Je,{className:"w-4 h-4 mr-2"}),"Approve & Complete"]})]})]})]})})}function t1e({onNavigate:e}={}){const{user:t}=oi(),[r,n]=b.useState([]),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(""),[u,h]=b.useState(!1),[f,m]=b.useState("all"),[g,p]=b.useState(!1),[x,y]=b.useState(null),v=D=>{const E=new Map,q=[];return D.forEach(F=>{const V=`${F.from_storage}-${F.to_storage}-${F.created_at}-${F.notes||""}`;E.has(V)||E.set(V,[]),E.get(V).push(F)}),E.forEach(F=>{if(F.length>1){const V=F[0],L=F.reduce((R,Y)=>R+Y.quantity,0),G=F.reduce((R,Y)=>R+Y.weight_kg,0),ee=F.map(R=>R.size).sort((R,Y)=>R-Y),ne={...V,id:`batch-${V.id}`,is_batch:!0,batch_sizes:ee,total_batch_quantity:L,total_batch_weight:G,batch_transfers:F,size:ee[0]};q.push(ne)}else q.push(F[0])}),q.sort((F,V)=>new Date(V.created_at).getTime()-new Date(F.created_at).getTime())},j=async()=>{i(!0),l(null);try{console.log(" Fetching transfer history...");const D=await Ln.getTransferHistory(200);console.log(" Transfer history data received:",D),console.log(" Data analysis:",{totalTransfers:D?.length||0,hasData:D&&D.length>0,sampleTransfer:D?.[0]||null,allTransfers:D});const E=v(D);console.log(" Grouped transfers:",E),n(E)}catch(D){console.error("Error fetching transfer history:",D),l(D.message||"Failed to fetch transfer history")}finally{i(!1)}},w=async()=>{h(!0),await j(),h(!1)},k=async(D,E)=>{try{const q=D.startsWith("batch-")?D.replace("batch-",""):D;await Ln.approveTransfer(q,E),await j(),p(!1),y(null)}catch(q){throw console.error("Error approving transfer:",q),q}},N=async(D,E)=>{try{const q=D.startsWith("batch-")?D.replace("batch-",""):D;await Ln.declineTransfer(q,E),await j(),p(!1),y(null)}catch(q){throw console.error("Error declining transfer:",q),q}},S=D=>{y(D),p(!0)};b.useEffect(()=>{j()},[]);const O=r.filter(D=>{const E=!c||D.from_storage.toLowerCase().includes(c.toLowerCase())||D.to_storage.toLowerCase().includes(c.toLowerCase())||D.notes.toLowerCase().includes(c.toLowerCase())||D.size.toString().includes(c),q=f==="all"||D.status===f;return E&&q}),P=D=>{switch(D){case"pending":return a.jsxs(pe,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[a.jsx(Pr,{className:"w-3 h-3 mr-1"}),"Pending"]});case"approved":return a.jsxs(pe,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[a.jsx(Je,{className:"w-3 h-3 mr-1"}),"Approved"]});case"completed":return a.jsxs(pe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[a.jsx(Je,{className:"w-3 h-3 mr-1"}),"Completed"]});case"declined":return a.jsxs(pe,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[a.jsx(_c,{className:"w-3 h-3 mr-1"}),"Denied"]});default:return a.jsx(pe,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:D})}},$=(()=>{const D=r.length,E=r.filter(V=>V.status==="pending").length,q=r.filter(V=>V.status==="approved").length,F=r.filter(V=>V.status==="declined").length;return{all:D,pending:E,approved:q,declined:F}})(),T=()=>{const D=["Date","From Storage","To Storage","Size Class","Weight (kg)","Pieces","Notes","Created By"],E=O.map(G=>[new Date(G.created_at).toLocaleDateString(),G.from_storage,G.to_storage,G.size,G.weight_kg?.toFixed(1)||"0.0",G.quantity,G.notes,G.created_by||"System"]),q=[D.join(","),...E.map(G=>G.map(ee=>`"${ee}"`).join(","))].join(`
`),F=new Blob([q],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),L=URL.createObjectURL(F);V.setAttribute("href",L),V.setAttribute("download",`transfer-reports-${new Date().toISOString().split("T")[0]}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)},I=()=>{const D=window.open("","_blank");if(!D)return;const E=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Transfer Reports - ${new Date().toLocaleDateString()}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            h1 { color: #2563eb; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f5f5f5; font-weight: bold; }
            .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
            .summary { background-color: #f8fafc; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Fish Inventory Transfer Reports</h1>
            <p>Generated: ${new Date().toLocaleString()}</p>
          </div>
          
          <div class="summary">
            <h3>Summary</h3>
            <p><strong>Total Transfers:</strong> ${O.length}</p>
            <p><strong>Total Quantity Transferred:</strong> ${O.reduce((q,F)=>q+F.quantity,0)} pieces</p>
            <p><strong>Date Range:</strong> ${O.length>0?`${new Date(Math.min(...O.map(q=>new Date(q.created_at).getTime()))).toLocaleDateString()} - ${new Date(Math.max(...O.map(q=>new Date(q.created_at).getTime()))).toLocaleDateString()}`:"No transfers found"}</p>
          </div>

          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>From Storage</th>
                <th>To Storage</th>
                <th>Size Class</th>
                <th>Quantity</th>
                <th>Notes</th>
                <th>Created By</th>
              </tr>
            </thead>
            <tbody>
              ${O.map(q=>`
                <tr>
                  <td>${new Date(q.created_at).toLocaleDateString()}</td>
                  <td>${q.from_storage}</td>
                  <td>${q.to_storage}</td>
                  <td>Size ${q.size}</td>
                  <td>${q.quantity}</td>
                  <td>${q.notes}</td>
                  <td>${q.created_by||"System"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `;D.document.write(E),D.document.close(),D.print()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 sm:p-6 pt-20 sm:pt-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(us,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"}),"Transfer Reports & Approvals"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and approve fish transfer requests"})]}),e&&a.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:a.jsxs(te,{onClick:()=>e("inventory"),variant:"outline",className:"flex items-center gap-2 w-full sm:w-auto",children:[a.jsx(Ba,{className:"w-4 h-4"}),"Back to Inventory"]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(qe,{placeholder:"Search transfers...",value:c,onChange:D=>d(D.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{onClick:w,variant:"outline",size:"sm",disabled:u,children:[a.jsx(Tt,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]}),a.jsxs(te,{onClick:T,variant:"outline",size:"sm",disabled:O.length===0,children:[a.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),a.jsxs(te,{onClick:I,variant:"outline",size:"sm",disabled:O.length===0,children:[a.jsx(us,{className:"w-4 h-4 mr-2"}),"Export PDF"]})]})]})}),$.pending>0&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-amber-200 p-4 sm:p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(rr,{className:"w-5 h-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-800",children:"Pending Transfers Require Approval"}),a.jsxs("p",{className:"text-sm text-amber-700",children:["You have ",$.pending," transfer request",$.pending!==1?"s":"",' waiting for approval. Click the "Review" button in the table below to approve or decline transfers.']})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(te,{variant:f==="all"?"default":"outline",size:"sm",onClick:()=>m("all"),className:`flex items-center gap-2 ${f==="all"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(us,{className:"h-4 w-4"}),"All (",$.all,")"]}),a.jsxs(te,{variant:f==="pending"?"default":"outline",size:"sm",onClick:()=>m("pending"),className:`flex items-center gap-2 ${f==="pending"?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(Pr,{className:"h-4 w-4"}),"Pending (",$.pending,")"]}),a.jsxs(te,{variant:f==="approved"?"default":"outline",size:"sm",onClick:()=>m("approved"),className:`flex items-center gap-2 ${f==="approved"?"bg-green-600 hover:bg-green-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(Je,{className:"h-4 w-4"}),"Approved (",$.approved,")"]}),a.jsxs(te,{variant:f==="declined"?"default":"outline",size:"sm",onClick:()=>m("declined"),className:`flex items-center gap-2 ${f==="declined"?"bg-red-600 hover:bg-red-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(_c,{className:"h-4 w-4"}),"Denied (",$.declined,")"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Transfers"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O.length})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Bn,{className:"w-6 h-6 text-blue-600"})})]}),a.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[a.jsxs("span",{className:"text-green-600 font-medium",children:[$.approved," approved"]}),a.jsx("span",{className:"text-gray-400 mx-2",children:""}),a.jsxs("span",{className:"text-gray-500",children:[$.pending," pending"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Quantity"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:O.reduce((D,E)=>D+E.quantity,0)})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(nt,{className:"w-6 h-6 text-green-600"})})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-600",children:"Total pieces transferred"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Weight"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[O.reduce((D,E)=>D+(E.weight_kg||0),0).toFixed(1),"kg"]})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(Xr,{className:"w-6 h-6 text-orange-600"})})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-600",children:"Total weight transferred"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reviews"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:$.pending})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Pr,{className:"w-6 h-6 text-purple-600"})})]}),a.jsx("div",{className:"mt-2 flex items-center text-sm",children:$.pending>0?a.jsxs("span",{className:"text-amber-600 font-medium flex items-center",children:[a.jsx(rr,{className:"w-4 h-4 mr-1"}),"Needs attention"]}):a.jsxs("span",{className:"text-green-600 font-medium flex items-center",children:[a.jsx(Je,{className:"w-4 h-4 mr-1"}),"All caught up"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transfer History"}),a.jsx("p",{className:"text-sm text-gray-600",children:"View and manage all transfer requests"})]}),a.jsx("div",{className:"p-0",children:s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Gs,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading transfer history..."})]})}):o?a.jsxs("div",{className:"flex items-center gap-2 p-8 bg-red-50 border border-red-200 rounded-lg m-6",children:[a.jsx(rr,{className:"w-5 h-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Error Loading Data"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:o}),a.jsx(te,{onClick:j,variant:"outline",size:"sm",className:"mt-2",children:"Try Again"})]})]}):O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Bn,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Transfers Found"}),a.jsx("p",{className:"text-gray-600",children:c?"No transfers match your search criteria":"No transfers have been recorded yet"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ec,{children:[a.jsx(tc,{children:a.jsxs(aa,{children:[a.jsx(ct,{children:"Date"}),a.jsx(ct,{children:"From Storage"}),a.jsx(ct,{children:"To Storage"}),a.jsx(ct,{children:"Size Class"}),a.jsx(ct,{children:"Weight (kg)"}),a.jsx(ct,{children:"Pieces"}),a.jsx(ct,{children:"Status"}),a.jsx(ct,{children:"Notes"}),a.jsx(ct,{children:"Created By"}),a.jsx(ct,{children:"Actions"})]})}),a.jsx(rc,{children:O.map(D=>a.jsxs(aa,{children:[a.jsx(dt,{className:"font-medium",children:new Date(D.created_at).toLocaleDateString()}),a.jsx(dt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1 bg-red-100 rounded",children:a.jsx(Bn,{className:"w-3 h-3 text-red-600"})}),a.jsx("span",{className:"font-medium",children:D.from_storage})]})}),a.jsx(dt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1 bg-green-100 rounded",children:a.jsx(Bn,{className:"w-3 h-3 text-green-600 rotate-180"})}),a.jsx("span",{className:"font-medium",children:D.to_storage})]})}),a.jsx(dt,{children:a.jsx("div",{className:"flex flex-col items-center gap-1",children:D.is_batch?a.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[a.jsx(pe,{variant:"secondary",className:"text-xs",children:"Batch"}),D.batch_sizes?.map((E,q)=>a.jsxs(pe,{variant:"outline",className:"text-xs",children:["Size ",E]},q))]}):a.jsxs(pe,{variant:"outline",className:"w-auto justify-center",children:["Size ",D.size]})})}),a.jsx(dt,{className:"font-semibold text-blue-600",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Xr,{className:"w-4 h-4"}),D.is_batch?`${D.total_batch_weight?.toFixed(1)||"0.0"}kg`:`${D.weight_kg?.toFixed(1)||"0.0"}kg`]})}),a.jsx(dt,{className:"text-sm text-gray-500",children:D.is_batch?`${D.total_batch_quantity||0} pieces`:`${D.quantity} pieces`}),a.jsx(dt,{children:P(D.status)}),a.jsx(dt,{className:"max-w-xs truncate",children:D.notes||"-"}),a.jsx(dt,{className:"text-sm text-gray-500",children:D.created_by||"System"}),a.jsxs(dt,{children:[D.status==="pending"&&a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>S(D),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[a.jsx(Je,{className:"w-4 h-4 mr-1"}),"Review"]}),D.status!=="pending"&&a.jsx("span",{className:"text-sm text-gray-400",children:"-"})]})]},D.id))})]})})})]}),g&&x&&a.jsx(e1e,{isOpen:g,onClose:()=>{p(!1),y(null)},transferRequest:{id:x.id,from_storage_name:x.from_storage,to_storage_name:x.to_storage,size_class:x.is_batch?0:x.size,quantity:x.is_batch?x.total_batch_quantity||0:x.quantity,weight_kg:x.is_batch?x.total_batch_weight||0:x.weight_kg,notes:x.notes,created_at:x.created_at,is_bulk:x.is_batch||x.is_bulk,batch_size:x.is_batch?x.batch_sizes?.length||0:x.batch_size,batch_transfers:x.batch_transfers,is_batch:x.is_batch,batch_sizes:x.batch_sizes,total_batch_quantity:x.total_batch_quantity,total_batch_weight:x.total_batch_weight},onApprove:k,onDecline:N,currentUserId:t?.id||""})]})})}const r1e=Object.freeze(Object.defineProperty({__proto__:null,default:t1e},Symbol.toStringTag,{value:"Module"}));function n1e({onNavigate:e}){const{user:t}=oi(),[r,n]=b.useState([]),[s,i]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(!0),[u,h]=b.useState(!1),[f,m]=b.useState(""),[g,p]=b.useState("all"),[x,y]=b.useState([]),[v,j]=b.useState(!1),[w,k]=b.useState(!1),[N,S]=b.useState(!1),[O,P]=b.useState(null),[$,T]=b.useState(null),[I,D]=b.useState([]),[E,q]=b.useState(""),[F,V]=b.useState("waste"),[L,G]=b.useState(""),[ee,ne]=b.useState(0),[R,Y]=b.useState(""),[se,oe]=b.useState(30),[K,U]=b.useState(!0),[B,W]=b.useState(""),[H,X]=b.useState(""),[A,ce]=b.useState(new Set),we=[{value:"waste",label:"Waste Disposal",description:"General waste disposal"},{value:"compost",label:"Compost",description:"Convert to compost"},{value:"donation",label:"Donation",description:"Donate to charity"},{value:"return_to_farmer",label:"Return to Farmer",description:"Return to original farmer"}];b.useEffect(()=>{Ee()},[]);const Ee=async()=>{try{d(!0),await Promise.all([Se(),Te(),Ie()])}catch(Z){console.error("Error loading disposal data:",Z),fe.error("Failed to load disposal data")}finally{d(!1)}},Se=async()=>{const{data:Z,error:je}=await Q.from("disposal_records").select(`
        *,
        disposal_reason:disposal_reasons(*)
      `).order("created_at",{ascending:!1});if(je)throw console.error("Error loading disposal records:",je),je;n(Z||[])},Te=async()=>{const{data:Z,error:je}=await Q.from("disposal_reasons").select("*").eq("is_active",!0).order("name");if(je)throw je;i(Z||[])},Ie=async()=>{try{console.log("Loading inventory with days old threshold:",se);const{data:Z,error:je}=await Q.rpc("get_inventory_for_disposal",{p_days_old:se,p_include_storage_issues:!0});if(je)throw console.error("Supabase error:",je),je;console.log("Raw data from function:",Z);let st=Z||[];if((B||H)&&(st=st.filter(St=>{const Ft=new Date(St.processing_date),M=B?new Date(B):null,re=H?new Date(H):null;return!(M&&Ft<M||re&&Ft>re)})),console.log("Filtered data:",st),st.length===0){console.log("No data from function, trying direct query for inactive storages...");const{data:St,error:Ft}=await Q.from("sorting_results").select(`
            id,
            size_class,
            total_weight_grams,
            batch_number,
            storage_location_name,
            farmer_name,
            processing_date,
            quality_notes,
            storage_locations!inner(status)
          `).eq("status","available").gte("total_weight_grams",0);if(!Ft&&St){const M=St.map(re=>({sorting_result_id:re.id,size_class:re.size_class,total_weight_grams:re.total_weight_grams,batch_number:re.batch_number,storage_location_name:re.storage_location_name,storage_status:re.storage_locations?.status||"active",farmer_name:re.farmer_name,processing_date:re.processing_date,days_in_storage:Math.floor((new Date().getTime()-new Date(re.processing_date).getTime())/864e5),disposal_reason:re.storage_locations?.status==="inactive"?"Storage Inactive":"Age",quality_notes:re.quality_notes}));console.log("Direct query data:",M),l(M)}else l(st)}else l(st)}catch(Z){console.error("Error loading inventory for disposal:",Z),l([])}},Ue=async()=>{if(!E||x.length===0){fe.error("Please select a reason and at least one item");return}if(u){fe.error("Please wait, operation in progress...");return}h(!0);try{const{data:Z,error:je}=await Q.rpc("generate_disposal_number");if(je)throw console.error("Error generating disposal number:",je),je;const{data:st,error:St}=await Q.from("disposal_records").insert({disposal_number:Z,disposal_reason_id:E,disposal_method:F,disposal_location:L||null,disposal_cost:ee,notes:R||null,disposed_by:null,status:"pending",total_weight_kg:0}).select().single();if(St)throw console.error("Error creating disposal record:",St),St;const Ft=o.filter(ue=>x.includes(ue.sorting_result_id));let M=0;for(const ue of Ft){const Ce=ue.total_weight_grams/1e3;M+=Ce,console.log(`Adding item to disposal: ${ue.batch_number} Size ${ue.size_class} - ${Ce}kg (${ue.total_weight_grams}g)`);const{error:xe}=await Q.from("disposal_items").insert({disposal_record_id:st.id,sorting_result_id:ue.sorting_result_id,size_class:ue.size_class,weight_kg:Ce,batch_number:ue.batch_number,storage_location_name:ue.storage_location_name,farmer_name:ue.farmer_name,processing_date:ue.processing_date,quality_notes:ue.quality_notes,disposal_reason:ue.disposal_reason});if(xe)throw console.error("Error creating disposal item:",xe),xe}console.log(`Updating disposal record ${st.id} with total weight: ${M}kg`);const{error:re}=await Q.from("disposal_records").update({total_weight_kg:M}).eq("id",st.id);if(re)throw console.error("Error updating disposal record:",re),re;fe.success(`Disposal created successfully! ${x.length} items added (${M.toFixed(2)} kg)`),j(!1),Oe(),Ee()}catch(Z){console.error("Error creating disposal:",Z),fe.error("Failed to create disposal record")}finally{h(!1)}},er=async Z=>{T(Z),S(!0);try{const{data:je,error:st}=await Q.from("disposal_items").select("*").eq("disposal_record_id",Z.id);st?(console.error("Error loading disposal items:",st),D([])):D(je||[])}catch(je){console.error("Error loading disposal items:",je),D([])}},J=async Z=>{P(Z),k(!0);try{const{data:je,error:st}=await Q.from("disposal_items").select("*").eq("disposal_record_id",Z.id);st?(console.error("Error loading disposal items:",st),D([])):D(je||[])}catch(je){console.error("Error loading disposal items:",je),D([])}},be=async Z=>{try{const{error:je}=await Q.rpc("complete_disposal",{p_disposal_id:Z});if(je)throw je;fe.success("Disposal completed successfully"),Ee()}catch(je){console.error("Error completing disposal:",je),fe.error("Failed to complete disposal")}},We=async()=>{if($)try{h(!0);const{error:Z}=await Q.from("disposal_records").update({status:"completed",approved_by:null}).eq("id",$.id);if(Z)throw Z;const{error:je}=await Q.from("disposal_items").select("sorting_result_id").eq("disposal_record_id",$.id);if(je)throw je;if(I&&I.length>0){const st=I.map(Ft=>Ft.sorting_result_id);console.log(`Removing ${st.length} items from inventory:`,st);const{error:St}=await Q.from("sorting_results").update({total_weight_grams:0,total_pieces:0}).in("id",st);if(St)throw console.error("Error removing items from inventory:",St),St;console.log(`Successfully removed ${st.length} items from inventory`)}fe.success("Disposal completed and items removed from storage"),S(!1),T(null),Ee()}catch(Z){console.error("Error approving disposal:",Z),fe.error("Failed to approve disposal")}finally{h(!1)}},at=async()=>{if($)try{h(!0),console.log(`Attempting to decline disposal: ${$.id}`);const{error:Z}=await Q.from("disposal_records").update({status:"cancelled",notes:($.notes||"")+`

[Declined by user]`}).eq("id",$.id);if(Z)throw console.error("Error updating disposal record:",Z),Z;console.log(`Declining disposal record ${$.id}`),fe.success("Disposal declined and marked as cancelled"),S(!1),T(null),Ee()}catch(Z){console.error("Error declining disposal:",Z),fe.error("Failed to decline disposal")}finally{h(!1)}},Oe=()=>{q(""),V("waste"),G(""),ne(0),Y(""),y([]),W(""),X("")},Ne=Z=>{switch(Z){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ke=r.filter(Z=>{const je=Z.disposal_number.toLowerCase().includes(f.toLowerCase())||Z.disposal_reason?.name.toLowerCase().includes(f.toLowerCase()),st=g==="all"||Z.status===g;return je&&st}),Ae=o.reduce((Z,je)=>Z+je.total_weight_grams/1e3,0);return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-blue-600 font-medium",children:"Loading disposal management..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a.jsx(sg,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Disposal Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage fish disposal and waste handling"})]}),a.jsxs(Rt,{open:v,onOpenChange:j,children:[a.jsx(nf,{asChild:!0,children:a.jsxs(te,{className:"bg-red-600 hover:bg-red-700 text-white",children:[a.jsx(on,{className:"w-4 h-4 mr-2"}),"Create Disposal"]})}),a.jsxs(Mt,{className:"max-w-5xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{children:[a.jsx(zt,{className:"text-xl font-semibold",children:"Create New Disposal Record"}),a.jsx(sn,{children:"Configure disposal criteria and select items for disposal"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[a.jsxs(le,{children:[a.jsx(Ke,{className:"pb-3",children:a.jsx(Ye,{className:"text-lg",children:"Filter Items for Disposal"})}),a.jsxs(he,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"daysOld",className:"text-sm font-medium",children:"Days Old Threshold"}),a.jsx(qe,{id:"daysOld",type:"number",value:se,onChange:Z=>oe(Number(Z.target.value)),placeholder:"30",className:"mt-1",min:"0"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nd,{id:"includeStorageIssues",checked:K,onCheckedChange:U}),a.jsx(de,{htmlFor:"includeStorageIssues",className:"text-sm",children:"Include Storage Issues"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"fromDate",className:"text-sm font-medium",children:"From Date (Optional)"}),a.jsx(qe,{id:"fromDate",type:"date",value:B,onChange:Z=>W(Z.target.value),className:"mt-1",max:new Date().toISOString().split("T")[0]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to show all items"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"toDate",className:"text-sm font-medium",children:"To Date (Optional)"}),a.jsx(qe,{id:"toDate",type:"date",value:H,onChange:Z=>X(Z.target.value),className:"mt-1",max:new Date().toISOString().split("T")[0]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to show all items"})]})]})]})]}),a.jsxs(le,{children:[a.jsx(Ke,{className:"pb-3",children:a.jsx(Ye,{className:"text-lg",children:"Disposal Details"})}),a.jsxs(he,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"reason",className:"text-sm font-medium",children:"Disposal Reason *"}),a.jsxs(lr,{value:E,onValueChange:q,children:[a.jsx(dr,{className:"mt-1",children:a.jsx(cr,{placeholder:"Select reason"})}),a.jsx(ur,{children:s.map(Z=>a.jsx(Fe,{value:Z.id,children:Z.name},Z.id))})]})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"method",className:"text-sm font-medium",children:"Disposal Method *"}),a.jsxs(lr,{value:F,onValueChange:V,children:[a.jsx(dr,{className:"mt-1",children:a.jsx(cr,{placeholder:"Select method"})}),a.jsx(ur,{children:we.map(Z=>a.jsx(Fe,{value:Z.value,children:Z.label},Z.value))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"location",className:"text-sm font-medium",children:"Disposal Location"}),a.jsx(qe,{id:"location",value:L,onChange:Z=>G(Z.target.value),placeholder:"e.g., Waste Management Facility",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"cost",className:"text-sm font-medium",children:"Disposal Cost (KSh)"}),a.jsx(qe,{id:"cost",type:"number",value:ee,onChange:Z=>ne(Number(Z.target.value)),placeholder:"0",className:"mt-1"})]})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),a.jsx($a,{id:"notes",value:R,onChange:Z=>Y(Z.target.value),placeholder:"Additional disposal notes...",rows:3,className:"mt-1"})]})]})]})]}),a.jsxs(le,{children:[a.jsxs(Ke,{className:"pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ye,{className:"text-lg",children:"Select Items for Disposal"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>y(o.map(Z=>Z.sorting_result_id)),className:"text-green-600 hover:text-green-700",children:[a.jsx(Bo,{className:"w-4 h-4 mr-1"}),"Select All"]}),a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>y([]),className:"text-gray-600 hover:text-gray-700",children:[a.jsx(Ys,{className:"w-4 h-4 mr-1"}),"Clear All"]}),a.jsxs(te,{variant:"outline",size:"sm",onClick:Ie,className:"text-blue-600 hover:text-blue-700",children:[a.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Refresh"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("span",{className:"font-medium",children:["Selected: ",x.length," items"]}),a.jsx("span",{className:"mx-2",children:""}),a.jsxs("span",{className:"font-medium",children:["Total Weight: ",o.filter(Z=>x.includes(Z.sorting_result_id)).reduce((Z,je)=>Z+je.total_weight_grams/1e3,0).toFixed(2)," kg"]})]}),a.jsxs(pe,{variant:"outline",className:"text-xs",children:["Showing items ",se===0?"of any age":`${se}+ days old`]})]}),x.length>0&&a.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Size Distribution: ",Object.entries(o.filter(Z=>x.includes(Z.sorting_result_id)).reduce((Z,je)=>(Z[je.size_class]=(Z[je.size_class]||0)+je.total_weight_grams/1e3,Z),{})).map(([Z,je])=>`Size ${Z}: ${je.toFixed(1)}kg`).join(" | ")]})]}),a.jsxs(he,{children:[a.jsx("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:Object.entries(o.reduce((Z,je)=>{const st=je.storage_location_name;return Z[st]||(Z[st]=[]),Z[st].push(je),Z},{})).map(([Z,je])=>{const st=A.has(Z),St=je.reduce((M,re)=>M+re.total_weight_grams/1e3,0),Ft=je.filter(M=>x.includes(M.sorting_result_id)).length;return a.jsxs("div",{className:"border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 cursor-pointer",onClick:()=>{const M=new Set(A);st?M.delete(Z):M.add(Z),ce(M)},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Vn,{className:"w-4 h-4 text-gray-600"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:Z}),je[0]?.storage_status==="inactive"&&a.jsx(pe,{variant:"destructive",className:"text-xs",children:"Inactive"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[je.length," batches  ",St.toFixed(1),"kg",Ft>0&&`  ${Ft} selected`]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pe,{variant:je[0]?.disposal_reason==="Storage Inactive"?"destructive":"secondary",children:je[0]?.disposal_reason}),a.jsx(qa,{className:`w-4 h-4 transition-transform ${st?"rotate-180":""}`})]})]}),st&&a.jsx("div",{className:"p-3 bg-white",children:a.jsx("div",{className:"grid grid-cols-1 gap-2",children:je.map(M=>a.jsx("div",{className:`flex items-center justify-between p-2 rounded border ${x.includes(M.sorting_result_id)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nd,{checked:x.includes(M.sorting_result_id),onCheckedChange:re=>{y(re?[...x,M.sorting_result_id]:x.filter(ue=>ue!==M.sorting_result_id))}}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-blue-600",children:M.batch_number}),a.jsxs(pe,{variant:"outline",className:"text-xs",children:["Size ",M.size_class]}),a.jsxs(pe,{variant:M.days_in_storage>30?"destructive":"secondary",className:"text-xs",children:[M.days_in_storage," days"]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[M.farmer_name,"  ",(M.total_weight_grams/1e3).toFixed(1),"kg"]})]})]})},M.sorting_result_id))})})]},Z)})}),o.length===0&&a.jsxs(tn,{className:"mt-4",children:[a.jsx(wt,{className:"h-4 w-4"}),a.jsx(rn,{children:"No items found for disposal with current criteria."})]})]})]})]}),a.jsxs(zo,{children:[a.jsx(te,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),a.jsx(te,{onClick:Ue,className:"bg-red-600 hover:bg-red-700",disabled:u,children:u?"Processing...":"Create Disposal"})]})]})]}),a.jsx(Rt,{open:N,onOpenChange:S,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(wt,{className:"w-5 h-5 text-orange-500"}),"Confirm Disposal"]}),a.jsx(sn,{children:"Please review the disposal details and confirm or decline the action."})]}),$&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Disposal Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Disposal Number:"}),a.jsx("p",{className:"text-gray-600",children:$.disposal_number})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Method:"}),a.jsx("p",{className:"text-gray-600 capitalize",children:$.disposal_method})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Weight:"}),a.jsxs("p",{className:"text-gray-600",children:[$.total_weight_kg.toFixed(2)," kg"]})]})]}),$.notes&&a.jsxs("div",{className:"mt-3",children:[a.jsx("span",{className:"font-medium",children:"Notes:"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:$.notes})]})]}),a.jsxs("div",{className:"bg-white border rounded-lg",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4"}),"Items Being Disposed (",I.length," items)"]})}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:I.length>0?a.jsx("div",{className:"space-y-2",children:I.map((Z,je)=>a.jsx("div",{className:"border rounded-lg p-3 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-blue-600 text-lg",children:Z.batch_number}),a.jsxs(pe,{variant:"outline",className:"text-sm",children:["Size ",Z.size_class||"Unknown"]})]}),a.jsxs("span",{className:"text-lg font-semibold text-gray-700",children:[Z.weight_kg.toFixed(2)," kg"]})]})},je))}):a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx(nt,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"Loading disposal items..."})]})})]}),a.jsxs(tn,{children:[a.jsx(wt,{className:"h-4 w-4"}),a.jsxs(rn,{children:[a.jsx("strong",{children:"Warning:"})," Approving this disposal will permanently remove the ",I.length," items shown above from storage. This action cannot be undone."]})]})]}),a.jsxs(zo,{className:"gap-2",children:[a.jsx(te,{variant:"outline",onClick:at,disabled:u,className:"text-red-600 hover:text-red-700",children:u?"Processing...":"Decline"}),a.jsx(te,{onClick:We,disabled:u,className:"bg-green-600 hover:bg-green-700",children:u?"Processing...":"Approve & Remove from Storage"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Disposals"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),a.jsx(Fr,{className:"h-8 w-8 text-gray-400"})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.filter(Z=>Z.status==="pending").length})]}),a.jsx(Pr,{className:"h-8 w-8 text-yellow-400"})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Items"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o.length})]}),a.jsx(nt,{className:"h-8 w-8 text-orange-400"})]})})}),a.jsx(le,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Weight"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Ae.toFixed(1),"kg"]})]}),a.jsx(Hn,{className:"h-8 w-8 text-blue-400"})]})})})]}),a.jsx(le,{className:"mb-6",children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(qe,{placeholder:"Search disposal records...",value:f,onChange:Z=>m(Z.target.value),className:"max-w-md"})}),a.jsxs(lr,{value:g,onValueChange:p,children:[a.jsx(dr,{className:"w-40",children:a.jsx(cr,{placeholder:"Status"})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"all",children:"All"}),a.jsx(Fe,{value:"pending",children:"Pending"}),a.jsx(Fe,{value:"approved",children:"Approved"}),a.jsx(Fe,{value:"completed",children:"Completed"}),a.jsx(Fe,{value:"cancelled",children:"Cancelled"})]})]})]})})}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsxs(Ye,{className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"h-5 w-5"}),"Disposal Records"]})}),a.jsxs(he,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ec,{children:[a.jsx(tc,{children:a.jsxs(aa,{children:[a.jsx(ct,{children:"Number"}),a.jsx(ct,{children:"Date"}),a.jsx(ct,{children:"Reason"}),a.jsx(ct,{children:"Weight"}),a.jsx(ct,{children:"Status"}),a.jsx(ct,{children:"Actions"})]})}),a.jsx(rc,{children:ke.map(Z=>a.jsxs(aa,{className:"hover:bg-gray-50",children:[a.jsx(dt,{className:"font-medium",children:Z.disposal_number}),a.jsx(dt,{children:new Date(Z.disposal_date).toLocaleDateString()}),a.jsx(dt,{children:Z.disposal_reason?.name}),a.jsxs(dt,{children:[Z.total_weight_kg.toFixed(1),"kg"]}),a.jsx(dt,{children:a.jsx(pe,{className:Ne(Z.status),children:Z.status})}),a.jsx(dt,{children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx(te,{variant:"ghost",size:"sm",onClick:()=>J(Z),title:"View Details",children:a.jsx(Jt,{className:"w-4 h-4"})}),Z.status==="pending"&&a.jsx(te,{variant:"ghost",size:"sm",onClick:()=>er(Z),className:"text-blue-600 hover:text-blue-700",title:"Review & Approve Disposal",children:a.jsx(Bo,{className:"w-4 h-4"})}),Z.status==="approved"&&a.jsx(te,{variant:"ghost",size:"sm",onClick:()=>be(Z.id),className:"text-green-600 hover:text-green-700",title:"Complete Disposal",children:a.jsx(Je,{className:"w-4 h-4"})})]})})]},Z.id))})]})}),ke.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Fr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-lg font-medium",children:"No disposal records found"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Create your first disposal record to get started"})]})]})]}),a.jsx(Rt,{open:w,onOpenChange:k,children:a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(Jt,{className:"w-5 h-5"}),"Disposal Details"]}),a.jsx(sn,{children:"View detailed information about this disposal record"})]}),O&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsx(Ye,{className:"text-lg",children:"Basic Information"})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Disposal Number"}),a.jsx("p",{className:"text-lg font-semibold",children:O.disposal_number})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Status"}),a.jsx("div",{className:"mt-1",children:a.jsx(pe,{className:Ne(O.status),children:O.status})})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(O.disposal_date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Method"}),a.jsx("p",{className:"text-gray-900 capitalize",children:O.disposal_method})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Location"}),a.jsx("p",{className:"text-gray-900",children:O.disposal_location||"Not specified"})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Cost"}),a.jsxs("p",{className:"text-gray-900",children:["KSh ",O.disposal_cost.toFixed(2)]})]})]})})]}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsx(Ye,{className:"text-lg",children:"Disposal Reason"})}),a.jsx(he,{children:a.jsx("p",{className:"text-gray-900",children:O.disposal_reason?.name||"Not specified"})})]}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsx(Ye,{className:"text-lg",children:"Summary"})}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hn,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Weight"}),a.jsxs("p",{className:"text-xl font-semibold",children:[O.total_weight_kg.toFixed(2)," kg"]})]})]})})})]}),O.notes&&a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsx(Ye,{className:"text-lg",children:"Notes"})}),a.jsx(he,{children:a.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:O.notes})})]}),a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsx(Ye,{className:"text-lg",children:"Disposal Items"})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Total Weight"}),a.jsxs("p",{className:"text-lg font-semibold",children:[O.total_weight_kg.toFixed(2)," kg"]})]})}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Disposal Location"}),a.jsx("p",{className:"text-gray-900 font-medium",children:O.disposal_location||"Not specified"})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Disposal Method"}),a.jsx("p",{className:"text-gray-900 font-medium capitalize",children:O.disposal_method.replace("_"," ")})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-600",children:"Disposal Cost"}),a.jsxs("p",{className:"text-gray-900 font-medium",children:["KSh ",O.disposal_cost.toFixed(2)]})]})]})})]}),I.length>0&&a.jsxs(le,{children:[a.jsx(Ke,{children:a.jsx(Ye,{className:"text-lg",children:"Detailed Items Breakdown"})}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:I.map((Z,je)=>a.jsx("div",{className:"border rounded-lg p-3 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-blue-600 text-lg",children:Z.batch_number}),a.jsxs(pe,{variant:"outline",className:"text-sm",children:["Size ",Z.size_class||"Unknown"]})]}),a.jsxs("span",{className:"text-lg font-semibold text-gray-700",children:[Z.weight_kg.toFixed(2)," kg"]})]})},je))})})]})]}),a.jsx(zo,{children:a.jsx(te,{variant:"outline",onClick:()=>k(!1),children:"Close"})})]})})]})]})}const a1e=Object.freeze(Object.defineProperty({__proto__:null,default:n1e},Symbol.toStringTag,{value:"Module"})),s1e=[{size:0,label:"Size 0 - Premium Large",description:"2.5+ kg each"},{size:1,label:"Size 1 - Extra Large",description:"2.0-2.5 kg each"},{size:2,label:"Size 2 - Large",description:"1.5-2.0 kg each"},{size:3,label:"Size 3 - Medium-Large",description:"1.2-1.5 kg each"},{size:4,label:"Size 4 - Medium",description:"1.0-1.2 kg each"},{size:5,label:"Size 5 - Medium-Small",description:"0.8-1.0 kg each"},{size:6,label:"Size 6 - Small-Medium",description:"0.6-0.8 kg each"},{size:7,label:"Size 7 - Small",description:"0.4-0.6 kg each"},{size:8,label:"Size 8 - Extra Small",description:"0.3-0.4 kg each"},{size:9,label:"Size 9 - Mini",description:"0.2-0.3 kg each"},{size:10,label:"Size 10 - Tiny",description:"0.1-0.2 kg each"}];function i1e({onNavigate:e}){const{user:t}=oi(),[r,n]=b.useState([]),[s,i]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(!0),[u,h]=b.useState(!1),[f,m]=b.useState(!1),[g,p]=b.useState(!1),[x,y]=b.useState(null),[v,j]=b.useState(!1),[w,k]=b.useState(null),N=async(M,re,ue,Ce,xe)=>{try{const me=JSON.parse(sessionStorage.getItem("currentUser")||"null");if(!me)return;const pt={user_id:me.id,action:M,table_name:re,record_id:ue,old_values:Ce?JSON.stringify(Ce):null,new_values:xe?JSON.stringify(xe):null,ip_address:null,user_agent:navigator.userAgent,created_at:new Date().toISOString()},{error:mt}=await Q.from("audit_logs").insert([pt]);mt&&console.warn("Failed to log audit event:",mt)}catch(me){console.warn("Failed to log audit event:",me)}},[S,O]=b.useState("all"),[P,$]=b.useState({outlet_id:"",requested_quantity:"",requested_grade:"",price_per_kg:"",requested_sizes:[],size_quantities:{},use_any_size:!1,delivery_date:"",notes:""}),[T,I]=b.useState({}),[D,E]=b.useState(!1),[q,F]=b.useState({confirmedBy:"",notes:"",action:"approve"}),[V,L]=b.useState(!1),[G,ee]=b.useState([]),[ne,R]=b.useState(null),[Y,se]=b.useState([]),[oe,K]=b.useState(!1),[U,B]=b.useState({}),W=(M,re)=>{$(ue=>({...ue,size_quantities:{...ue.size_quantities,[M]:re}}))},H=M=>{$(re=>({...re,use_any_size:M,requested_sizes:M?[]:re.requested_sizes,size_quantities:M?{}:re.size_quantities}))},X=async M=>{K(!0);try{const re=await Ln.getInventoryByStorage();if(!re||re.length===0){console.log("No inventory data available"),se([]),B({});return}const ue=new Set,Ce={};re.forEach(xe=>{const me=xe.size;!isNaN(me)&&xe.total_quantity>0&&(ue.add(me),Ce[me]||(Ce[me]={quantity:0,storageLocation:xe.storage_location_name||"Unknown Storage",grade:"A",totalWeight:0}),Ce[me].quantity+=xe.total_quantity,Ce[me].totalWeight+=xe.total_weight_kg,Ce[me].storageLocation==="Unknown Storage"&&(Ce[me].storageLocation=xe.storage_location_name||"Unknown Storage"))}),se(Array.from(ue).sort((xe,me)=>xe-me)),B(Ce)}catch(re){console.error("Error fetching available sizes:",re),fe.error("Failed to fetch available sizes",{description:"Please try again or check your connection",duration:5e3}),se([]),B({})}finally{K(!1)}},A=async()=>{try{const{data:M,error:re}=await Q.from("processing_records").select(`
          *,
          warehouse_entries!inner(
            entry_date,
            total_weight,
            total_pieces,
            condition,
            temperature,
            price_per_kg,
            total_value,
            notes,
            farmers!inner(
              name,
              phone,
              location,
              rating,
              reliability
            )
          )
        `).gt("ready_for_dispatch_count",0).order("processing_date",{ascending:!1});if(re)throw re;const ue=(M?.map(xe=>{let me=0;if(xe.size_distribution&&typeof xe.size_distribution=="object"){const vr=Object.keys(xe.size_distribution);vr.length>0&&(me=parseInt(vr[0])||0)}let pt="Unknown";if(xe.grading_results&&typeof xe.grading_results=="object"){const vr=Object.keys(xe.grading_results);vr.length>0&&(pt=vr[0])}const mt=xe.warehouse_entries,gt=mt?.farmers;return{...xe,final_grade:pt,final_size:me,storage_location:"Processing Area",farmer_name:gt?.name||"Unknown Farmer",entry_date:mt?.entry_date,total_pieces:mt?.total_pieces,condition:mt?.condition,temperature:mt?.temperature,price_per_kg:mt?.price_per_kg,total_value:mt?.total_value,notes:mt?.notes,farmer_phone:gt?.phone,farmer_location:gt?.location,farmer_rating:gt?.rating,farmer_reliability:gt?.reliability}})||[]).reduce((xe,me)=>{const pt=me.final_size,mt=me.storage_location,gt=`${pt}_${mt}`;xe[gt]||(xe[gt]={id:`grouped_${gt}`,final_size:pt,final_grade:me.final_grade,storage_location:mt,total_quantity:0,total_weight:0,total_value:0,processing_records:[],farmers:new Set,entry_dates:new Set,conditions:new Set,temperatures:[],processed_by_names:new Set,ready_for_dispatch_count:0,warehouse_entry_id:me.warehouse_entry_id,processing_date:me.processing_date,processed_by:me.processed_by,pre_processing_weight:me.pre_processing_weight,post_processing_weight:me.post_processing_weight,processing_waste:me.processing_waste,processing_yield:me.processing_yield,size_distribution:me.size_distribution,grading_results:me.grading_results,final_value:me.final_value,created_at:me.created_at,updated_at:me.updated_at,farmer_name:me.farmer_name,entry_date:me.entry_date,total_pieces:me.total_pieces,condition:me.condition,temperature:me.temperature,price_per_kg:me.price_per_kg,notes:me.notes,farmer_phone:me.farmer_phone,farmer_location:me.farmer_location,farmer_rating:me.farmer_rating,farmer_reliability:me.farmer_reliability});const vr=me.size_distribution||{},De=vr[pt]||0;xe[gt].total_quantity+=De;const ot=Object.values(vr).reduce((Ot,Rr)=>Ot+(Number(Rr)||0),0),xt=ot>0?me.post_processing_weight/ot:0,br=De*xt;return xe[gt].total_weight+=br,xe[gt].total_value+=me.final_value||0,xe[gt].processing_records.push(me.id),xe[gt].farmers.add(me.farmer_name),xe[gt].entry_dates.add(me.entry_date),xe[gt].conditions.add(me.condition),me.temperature&&xe[gt].temperatures.push(me.temperature),xe[gt].ready_for_dispatch_count+=me.ready_for_dispatch_count||0,xe},{}),Ce=Object.values(ue).map(xe=>({...xe,farmers:Array.from(xe.farmers).join(", "),entry_dates:Array.from(xe.entry_dates).join(", "),conditions:Array.from(xe.conditions).join(", "),average_temperature:xe.temperatures.length>0?(xe.temperatures.reduce((me,pt)=>me+pt,0)/xe.temperatures.length).toFixed(1):null,processing_count:xe.processing_records.length}));Ce.sort((xe,me)=>xe.final_size!==me.final_size?xe.final_size-me.final_size:xe.storage_location.localeCompare(me.storage_location)),l(Ce)}catch(M){console.error("Error fetching inventory:",M),fe.error("Failed to fetch inventory data",{description:"Please refresh the page or try again later",duration:5e3}),l([])}},ce=async()=>{try{d(!0);const[M,re]=await Promise.allSettled([S3.getOutletOrders(),sje.getOutlets()]);n(M.status==="fulfilled"?M.value:[]),i(re.status==="fulfilled"?re.value:[]),await A(),M.status==="rejected"&&console.warn("Outlet orders table not available yet:",M.reason),re.status==="rejected"&&console.warn("Outlets table not available yet:",re.reason)}catch(M){console.error("Error fetching data:",M),fe.error("Failed to load order data",{description:"Please refresh the page or check your connection",duration:5e3}),n([]),i([]),l([])}finally{d(!1)}};b.useEffect(()=>{ce()},[]);const we=M=>{switch(M){case"pending":return"bg-amber-500 text-white";case"confirmed":return"bg-blue-500 text-white";case"dispatched":return"bg-emerald-500 text-white";case"completed":return"bg-green-600 text-white";default:return"bg-gray-500 text-white"}},Ee=M=>{switch(M){case"pending":return a.jsx(Pr,{className:"h-4 w-4"});case"confirmed":return a.jsx(Je,{className:"h-4 w-4"});case"dispatched":return a.jsx(Je,{className:"h-4 w-4"});case"completed":return a.jsx(Je,{className:"h-4 w-4"});default:return a.jsx(Pr,{className:"h-4 w-4"})}},Se=M=>`KES ${M.toLocaleString()}`,Te=M=>{if(M.length===0)return"No sizes selected";const re=M.sort((ue,Ce)=>ue-Ce);return re.length===1?`Size ${re[0]}`:`Sizes ${re[0]}-${re[re.length-1]}`},Ie=M=>{$(re=>({...re,requested_sizes:re.requested_sizes.includes(M)?re.requested_sizes.filter(ue=>ue!==M):[...re.requested_sizes,M].sort((ue,Ce)=>ue-Ce),requested_grade:""}))},Ue=()=>{const M={};if(P.outlet_id||(M.outlet_id="Please select an outlet"),P.use_any_size)(!P.requested_quantity||parseFloat(P.requested_quantity)<=0)&&(M.requested_quantity="Please enter a valid total quantity (greater than 0)");else if(P.requested_sizes.length===0)M.requested_sizes="Please select at least one fish size";else{Object.values(P.size_quantities).reduce((re,ue)=>re+ue,0)<=0&&(M.requested_sizes="Please specify quantities for selected sizes");for(const re of P.requested_sizes){const ue=P.size_quantities[re]||0,Ce=U[re],xe=Ce?Ce.totalWeight:0;if(ue>xe){M.requested_sizes=`Size ${re}: Requested ${ue}kg exceeds available ${xe.toFixed(1)}kg`;break}}}return(!P.price_per_kg||parseFloat(P.price_per_kg)<=0)&&(M.price_per_kg="Please enter a valid price per kg (greater than 0)"),P.requested_grade||(M.requested_grade="Please select a grade preference"),P.delivery_date&&new Date(P.delivery_date)<new Date&&(M.delivery_date="Delivery date cannot be in the past"),I(M),Object.keys(M).length===0},er=async()=>{try{const{data:M,error:re}=await Q.from("outlet_orders").select("order_number").not("order_number","is",null).order("created_at",{ascending:!1}).limit(1);if(re)throw re;let ue=1;if(M&&M.length>0){const Ce=M[0].order_number?.match(/INV(\d+)/);Ce&&(ue=parseInt(Ce[1])+1)}return`INV${ue.toString().padStart(3,"0")}`}catch(M){return console.error("Error generating order number:",M),`INV${Date.now().toString().slice(-6)}`}},J=async()=>{if(Ue()){E(!0);try{const M=await er();let re,ue;P.use_any_size?(re=parseFloat(P.requested_quantity),ue=[]):(re=Object.values(P.size_quantities).reduce((pt,mt)=>pt+mt,0),ue=P.requested_sizes);const Ce=re*parseFloat(P.price_per_kg),xe={outlet_id:P.outlet_id,order_date:new Date().toISOString().split("T")[0],delivery_date:P.delivery_date||null,requested_sizes:ue,requested_quantity:re,requested_grade:P.requested_grade==="any"?null:P.requested_grade,price_per_kg:parseFloat(P.price_per_kg),total_value:Ce,status:"pending",notes:P.notes,order_number:M,size_quantities:P.use_any_size?{}:P.size_quantities,use_any_size:P.use_any_size};console.log("Creating order with data:",xe);const me=await S3.createOutletOrder(xe);n([me,...r]),$({outlet_id:"",requested_quantity:"",requested_grade:"",price_per_kg:"",requested_sizes:[],size_quantities:{},use_any_size:!1,delivery_date:"",notes:""}),I({}),h(!1),fe.success(`Order ${M} created successfully!`,{description:`Order Number: ${M}`,duration:5e3})}catch(M){console.error("Error creating order:",M),fe.error("Failed to create order",{description:M.message||"Unknown error occurred",duration:5e3})}finally{E(!1)}}},be=M=>{const re=r.find(ue=>ue.id===M);re&&(k(re),j(!0),F({confirmedBy:t?.email||"Current User",notes:"",action:"approve"}))},We=async()=>{if(!w){fe.error("No order selected for confirmation");return}L(!0);try{if(q.action==="approve"){const{error:M}=await Q.from("outlet_orders").update({status:"confirmed",confirmed_date:new Date().toISOString().split("T")[0],notes:q.notes||w.notes}).eq("id",w.id);if(M)throw M;await N("UPDATE","outlet_orders",w.id,{status:w.status},{status:"confirmed",confirmed_date:new Date().toISOString().split("T")[0]}),await at(w),await Oe(w),n(re=>re.map(ue=>ue.id===w.id?{...ue,status:"confirmed",confirmedDate:new Date().toISOString().split("T")[0]}:ue)),fe.success(`Order ${w.order_number||w.id} approved, confirmed, and moved to dispatch!`)}else{const{error:M}=await Q.from("outlet_orders").update({status:"cancelled",notes:`Order discarded by ${t?.email||"Current User"}. ${q.notes||""}`.trim()}).eq("id",w.id);if(M)throw M;await N("UPDATE","outlet_orders",w.id,{status:w.status},{status:"cancelled",notes:`Order discarded by ${t?.email||"Current User"}. ${q.notes||""}`.trim()}),n(re=>re.map(ue=>ue.id===w.id?{...ue,status:"cancelled"}:ue)),fe.success(`Order ${w.order_number||w.id} has been discarded.`)}j(!1),k(null)}catch(M){console.error("Error processing order confirmation:",M),fe.error("Failed to process order confirmation",{description:"Please try again or contact support if the issue persists",duration:5e3})}finally{L(!1)}},at=async M=>{try{const{data:re,error:ue}=await Q.from("sorting_results").select(`
          *,
          sorting_batch:sorting_batches!inner(
            id,
            status
          )
        `).eq("sorting_batch.status","completed").gt("total_weight_grams",0);if(ue)throw ue;if(!re||re.length===0)throw new Error("No available inventory found for order confirmation");let Ce=M.requested_quantity||0;const xe=[];if(M.size_quantities&&Object.keys(M.size_quantities).length>0)for(const[me,pt]of Object.entries(M.size_quantities)){const mt=parseInt(me),gt=pt,vr=re.filter(ot=>ot.size_class===mt&&ot.total_weight_grams>0);let De=gt;for(const ot of vr){if(De<=0)break;const xt=Math.min(De,ot.total_weight_grams/1e3),{error:br}=await Q.from("sorting_results").update({total_weight_grams:ot.total_weight_grams-xt*1e3,total_pieces:Math.max(0,ot.total_pieces-Math.ceil(xt))}).eq("id",ot.id);if(br)throw br;try{const{error:Ot}=await Q.from("inventory_entries").insert({size:mt,quantity_change:-Math.ceil(xt),entry_type:"order_dispatch",reference_id:M.id,notes:`Order dispatch - Size ${mt}, Weight: ${xt.toFixed(2)}kg`});Ot&&console.warn("Could not create inventory entry:",Ot)}catch(Ot){console.warn("Inventory entries table might not exist:",Ot)}xe.push({size:mt,weight_deducted:xt,remaining_stock:(ot.total_weight_grams-xt*1e3)/1e3}),De-=xt}}else for(const me of re){if(Ce<=0)break;const pt=Math.min(Ce,me.total_weight_grams/1e3),{error:mt}=await Q.from("sorting_results").update({total_weight_grams:me.total_weight_grams-pt*1e3,total_pieces:Math.max(0,me.total_pieces-Math.ceil(pt))}).eq("id",me.id);if(mt)throw mt;try{const{error:gt}=await Q.from("inventory_entries").insert({size:me.size_class||0,quantity_change:-Math.ceil(pt),entry_type:"order_dispatch",reference_id:M.id,notes:`Order dispatch - Size ${me.size_class||0}, Weight: ${pt.toFixed(2)}kg`});gt&&console.warn("Could not create inventory entry:",gt)}catch(gt){console.warn("Inventory entries table might not exist:",gt)}xe.push({size:me.size_class||0,weight_deducted:pt,remaining_stock:(me.total_weight_grams-pt*1e3)/1e3}),Ce-=pt}return console.log("Inventory deducted for order confirmation:",xe),xe}catch(re){throw console.error("Error deducting inventory on order confirmation:",re),re}},Oe=async M=>{try{const re=s.find(mt=>mt.id===M.outlet_id)?.name||"Unknown Outlet",ue=M.requested_quantity||0,Ce=M.requested_quantity||0,xe=M.size_quantities||{},{data:me,error:pt}=await Q.from("dispatch_records").insert({outlet_order_id:M.id,fish_ids:[],destination:re,dispatch_date:new Date().toISOString().split("T")[0],total_weight:ue,total_pieces:Ce,size_breakdown:xe,total_value:M.total_value||0,status:"scheduled",notes:`Auto-created dispatch for confirmed order ${M.order_number||M.id}`,dispatched_by:t?.id||null}).select().single();if(pt)throw console.error("Error creating dispatch record:",pt),pt;return console.log("Automatic dispatch record created:",me),me}catch(re){console.error("Failed to create automatic dispatch record:",re),fe.warning("Order confirmed but dispatch record creation failed. Please create dispatch manually.")}},Ne=async()=>{if(!ne||G.length===0){fe.error("Please select items from inventory");return}try{const M=G.map(De=>De.inventoryItem.id),{error:re}=await Q.from("processing_records").update({ready_for_dispatch_count:0}).in("id",M);if(re)throw re;const ue=G.reduce((De,ot)=>De+ot.weight,0),Ce=G.reduce((De,ot)=>De+ot.quantity,0),xe=G.reduce((De,ot)=>{const xt=ot.inventoryItem.final_size||0;return De[xt]=(De[xt]||0)+ot.quantity,De},{}),me=r.find(De=>De.id===ne),pt=s.find(De=>De.id===me?.outlet_id),{data:mt,error:gt}=await Q.from("dispatch_records").insert({outlet_order_id:ne,fish_ids:M,destination:pt?.name||"Unknown",dispatch_date:new Date().toISOString().split("T")[0],total_weight:ue,total_pieces:Ce,size_breakdown:xe,total_value:me?.total_value||0,status:"dispatched",notes:`Inventory picked for order ${me?.order_number||ne}`,dispatched_by:t?.id||null}).select().single();if(gt)throw gt;const{error:vr}=await Q.from("outlet_orders").update({status:"dispatched",dispatch_date:new Date().toISOString().split("T")[0]}).eq("id",ne);if(vr)throw vr;await ce(),await A(),m(!1),R(null),ee([]),fe.success("Order dispatched successfully!",{description:`Order ${me?.order_number||ne} has been dispatched with ${Ce} pieces`,duration:5e3})}catch(M){console.error("Error dispatching order:",M),fe.error("Failed to dispatch order",{description:"Please try again or contact support if the issue persists",duration:5e3})}},ke=()=>{switch(S){case"pending":return r.filter(M=>M.status==="pending");case"confirmed":return r.filter(M=>M.status==="confirmed");case"cancelled":return r.filter(M=>M.status==="cancelled");case"all":default:return r}},Ae=M=>{const re=r.find(ue=>ue.id===M);re&&(y(re),p(!0))},Z=(M,re)=>{const ue=G.findIndex(Ce=>Ce.inventoryItem.id===M.id);if(ue>=0){const Ce=[...G];Ce[ue].quantity+=re,Ce[ue].weight=Ce[ue].quantity*(M.post_processing_weight/(M.total_pieces||1)),ee(Ce)}else{const Ce=re*(M.post_processing_weight/(M.total_pieces||1));ee(xe=>[...xe,{inventoryItem:M,quantity:re,weight:Ce}])}},je=M=>{ee(re=>re.filter(ue=>ue.inventoryItem.id!==M))},st=(M,re)=>{if(re<=0){je(M);return}ee(ue=>ue.map(Ce=>{if(Ce.inventoryItem.id===M){const xe=re*(Ce.inventoryItem.post_processing_weight/(Ce.inventoryItem.total_pieces||1));return{...Ce,quantity:re,weight:xe}}return Ce}))},St=M=>o.filter(re=>!(!re.total_quantity||re.total_quantity<=0||re.ready_for_dispatch_count<=0||M.requested_sizes&&M.requested_sizes.length>0&&!M.requested_sizes.includes(re.final_size||0)||M.requested_grade&&M.requested_grade!=="any"&&re.final_grade!==M.requested_grade)),Ft={totalOrders:r.length,pendingOrders:r.filter(M=>M.status==="pending").length,confirmedOrders:r.filter(M=>M.status==="confirmed").length,totalValue:r.reduce((M,re)=>M+re.total_value,0),totalQuantity:r.reduce((M,re)=>M+(re.requested_quantity||0),0)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 md:p-8",children:[a.jsx(sg,{}),a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg",children:a.jsx(Ra,{className:"h-10 w-10 text-white"})}),"Order Management"]}),a.jsx("p",{className:"text-xl text-gray-600 ml-16",children:"Manage fish orders from outlets across Kenya  Size-based selection"})]}),a.jsxs(Rt,{open:u,onOpenChange:M=>{console.log("Dialog state changing to:",M),h(M)},children:[a.jsx(nf,{asChild:!0,children:a.jsxs(te,{onClick:()=>{console.log("New Order button clicked"),h(!0)},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-2xl font-semibold text-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[a.jsx(Ov,{className:"h-6 w-6 mr-3"}),"New Order"]})}),a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{className:"pb-4",children:[a.jsxs(zt,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:a.jsx(Ov,{className:"h-5 w-5 text-white"})}),"Create New Order"]}),a.jsx(sn,{className:"text-gray-600",children:"Create a new order for your outlet with real-time inventory validation"}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx(Pr,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-700 font-medium",children:"FIFO System Active: Orders will automatically use oldest batches first"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(de,{className:"text-base font-semibold text-gray-700",children:"Select Outlet *"}),a.jsxs(lr,{value:P.outlet_id,onValueChange:M=>{$({...P,outlet_id:M,requested_sizes:[]}),T.outlet_id&&I({...T,outlet_id:""}),X()},children:[a.jsx(dr,{className:`h-12 ${T.outlet_id?"border-red-500":"border-gray-300"}`,children:a.jsx(cr,{placeholder:"Choose an outlet..."})}),a.jsx(ur,{children:s.map(M=>a.jsx(Fe,{value:M.id,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:M.name}),a.jsx("span",{className:"text-sm text-gray-500",children:M.location})]})},M.id))})]}),T.outlet_id&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[a.jsx(wt,{className:"h-4 w-4"}),a.jsx("span",{children:T.outlet_id})]})]}),P.outlet_id&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(de,{className:"text-base font-semibold text-gray-700",children:"Select Fish Sizes *"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nd,{id:"any-size",checked:P.use_any_size,onCheckedChange:H,className:"h-4 w-4"}),a.jsx("label",{htmlFor:"any-size",className:"text-sm text-gray-600 cursor-pointer",children:"Use any available size"})]})]}),P.use_any_size?a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Je,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Any Size Selected"})]}),a.jsx("p",{className:"text-xs text-green-700",children:"The system will automatically select the best available sizes based on inventory and your total quantity requirement."})]}):a.jsxs(a.Fragment,{children:[oe?a.jsxs("div",{className:"p-6 text-center border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Loading available sizes..."})]}):a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-60 overflow-y-auto p-3 border border-gray-200 rounded-lg bg-gray-50",children:[s1e.filter(M=>Y.includes(M.size)).map(M=>{const re=U[M.size];return a.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${P.requested_sizes.includes(M.size)?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(nd,{id:`size-${M.size}`,checked:P.requested_sizes.includes(M.size),onCheckedChange:()=>Ie(M.size),className:"h-4 w-4"}),a.jsxs("label",{htmlFor:`size-${M.size}`,className:"cursor-pointer text-sm font-medium",children:["Size ",M.size]})]}),re&&a.jsxs("div",{className:"text-xs text-gray-600 pl-6 mb-2",children:[a.jsxs("div",{children:[re.quantity," pcs"]}),a.jsxs("div",{children:[re.totalWeight?re.totalWeight.toFixed(1):"0.0"," kg"]})]})]},M.size)}),Y.length===0&&a.jsxs("div",{className:"col-span-full text-center py-4 text-gray-500",children:[a.jsx(nt,{className:"h-6 w-6 mx-auto mb-1 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"No sizes available"})]})]})}),P.requested_sizes.length>0&&a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("p",{className:"text-sm font-medium text-blue-800 mb-3",children:["Selected: ",Te(P.requested_sizes)," (",P.requested_sizes.length," size",P.requested_sizes.length!==1?"s":"",")"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Specify quantity (kg) for each size:"}),P.requested_sizes.map(M=>{const re=U[M],ue=re?re.totalWeight:0,Ce=P.size_quantities[M]||0;return a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Size ",M]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Available: ",ue.toFixed(1)," kg"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qe,{type:"number",placeholder:"0.0",min:"0.1",max:ue,step:"0.1",className:"h-8 text-sm flex-1",value:Ce||"",onChange:xe=>W(M,parseFloat(xe.target.value)||0)}),a.jsx("span",{className:"text-xs text-gray-500",children:"kg"})]}),Ce>ue&&a.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-xs mt-1",children:[a.jsx(wt,{className:"h-3 w-3"}),a.jsx("span",{children:"Exceeds available stock"})]})]},M)}),a.jsx("div",{className:"pt-2 border-t border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-medium text-blue-800",children:"Total Requested:"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[Object.values(P.size_quantities).reduce((M,re)=>M+re,0).toFixed(1)," kg"]})]})})]})]})]}),T.requested_sizes&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[a.jsx(wt,{className:"h-4 w-4"}),a.jsx("span",{children:T.requested_sizes})]})]}),(P.requested_sizes.length>0||P.use_any_size)&&a.jsxs("div",{className:"space-y-4",children:[P.use_any_size?a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Total Quantity (kg) *"}),a.jsx(qe,{type:"number",placeholder:"100",min:"1",step:"0.1",className:`h-10 ${T.requested_quantity?"border-red-500":"border-gray-300"}`,value:P.requested_quantity,onChange:M=>{$({...P,requested_quantity:M.target.value}),T.requested_quantity&&I({...T,requested_quantity:""})}}),T.requested_quantity&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[a.jsx(wt,{className:"h-3 w-3"}),a.jsx("span",{children:T.requested_quantity})]})]}):a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Quantity:"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[Object.values(P.size_quantities).reduce((M,re)=>M+re,0).toFixed(1)," kg"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Calculated from individual size quantities above"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Price per kg (KES) *"}),a.jsx(qe,{type:"number",placeholder:"500",min:"1",step:"0.01",className:`h-10 ${T.price_per_kg?"border-red-500":"border-gray-300"}`,value:P.price_per_kg,onChange:M=>{$({...P,price_per_kg:M.target.value}),T.price_per_kg&&I({...T,price_per_kg:""})}}),T.price_per_kg&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[a.jsx(wt,{className:"h-3 w-3"}),a.jsx("span",{children:T.price_per_kg})]})]})]}),(P.requested_sizes.length>0||P.use_any_size)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Grade Preference"}),a.jsxs(lr,{value:P.requested_grade,onValueChange:M=>{$({...P,requested_grade:M}),T.requested_grade&&I({...T,requested_grade:""})},children:[a.jsx(dr,{className:`h-10 ${T.requested_grade?"border-red-500":"border-gray-300"}`,children:a.jsx(cr,{placeholder:"Select grade preference"})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"any",children:"Any Grade Available"}),a.jsx(Fe,{value:"A",children:"Grade A (Premium)"}),a.jsx(Fe,{value:"B",children:"Grade B (Standard)"}),a.jsx(Fe,{value:"C",children:"Grade C (Economy)"})]})]}),T.requested_grade&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[a.jsx(wt,{className:"h-3 w-3"}),a.jsx("span",{children:T.requested_grade})]})]}),P.requested_sizes.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Delivery Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(qe,{type:"date",className:`h-10 pl-10 ${T.delivery_date?"border-red-500":"border-gray-300"}`,value:P.delivery_date,min:new Date().toISOString().split("T")[0],onChange:M=>{$({...P,delivery_date:M.target.value}),T.delivery_date&&I({...T,delivery_date:""})}})]}),T.delivery_date&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[a.jsx(wt,{className:"h-3 w-3"}),a.jsx("span",{children:T.delivery_date})]})]}),P.requested_sizes.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),a.jsx($a,{placeholder:"Special requirements, delivery instructions, etc...",className:"h-20 border-gray-300 resize-none",value:P.notes,onChange:M=>$({...P,notes:M.target.value})})]}),T.inventory&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wt,{className:"h-5 w-5 text-red-600"}),a.jsx("p",{className:"text-red-800 font-medium",children:"Inventory Insufficient"})]}),a.jsx("p",{className:"text-red-700 text-sm mt-1",children:T.inventory})]}),(P.use_any_size&&P.requested_quantity||!P.use_any_size&&P.requested_sizes.length>0)&&P.price_per_kg&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 border border-blue-200 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:a.jsx(us,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Order Summary"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Review your order details"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Quantity"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.use_any_size?`${P.requested_quantity} kg`:`${Object.values(P.size_quantities).reduce((M,re)=>M+re,0).toFixed(1)} kg`})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Price per kg"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["KES ",parseFloat(P.price_per_kg||"0").toLocaleString()]})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl border border-blue-200 shadow-sm",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Value"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["KES ",((P.use_any_size?parseFloat(P.requested_quantity||"0"):Object.values(P.size_quantities).reduce((M,re)=>M+re,0))*parseFloat(P.price_per_kg||"0")).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[a.jsx(te,{variant:"outline",onClick:()=>{h(!1),I({})},className:"px-8 py-3 text-base border-gray-300 hover:bg-gray-50",disabled:D,children:"Cancel"}),a.jsx(te,{onClick:J,disabled:D||!P.outlet_id||!P.use_any_size&&P.requested_sizes.length===0||!P.price_per_kg||!P.requested_grade,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 px-8 py-3 text-base disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:D?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Order..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create Order"]})})]})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide",children:"Total Orders"}),a.jsx("p",{className:"text-4xl font-bold text-blue-900 mt-2",children:Ft.totalOrders})]}),a.jsx("div",{className:"p-4 bg-blue-600 rounded-2xl shadow-lg",children:a.jsx(Ra,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-amber-50 to-amber-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-amber-600 uppercase tracking-wide",children:"Pending"}),a.jsx("p",{className:"text-4xl font-bold text-amber-900 mt-2",children:Ft.pendingOrders})]}),a.jsx("div",{className:"p-4 bg-amber-600 rounded-2xl shadow-lg",children:a.jsx(Pr,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-emerald-50 to-emerald-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-600 uppercase tracking-wide",children:"Confirmed"}),a.jsx("p",{className:"text-4xl font-bold text-emerald-900 mt-2",children:Ft.confirmedOrders})]}),a.jsx("div",{className:"p-4 bg-emerald-600 rounded-2xl shadow-lg",children:a.jsx(Je,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-50 to-purple-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-purple-600 uppercase tracking-wide",children:"Total Quantity"}),a.jsx("p",{className:"text-4xl font-bold text-purple-900 mt-2",children:Ft.totalQuantity}),a.jsx("p",{className:"text-sm text-purple-600",children:"kg"})]}),a.jsx("div",{className:"p-4 bg-purple-600 rounded-2xl shadow-lg",children:a.jsx(It,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-green-50 to-green-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-green-600 uppercase tracking-wide",children:"Total Value"}),a.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:Se(Ft.totalValue)})]}),a.jsx("div",{className:"p-4 bg-green-600 rounded-2xl shadow-lg",children:a.jsx(Sg,{className:"h-8 w-8 text-white"})})]})})})]}),a.jsxs(le,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-t-3xl",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(Ng,{className:"h-8 w-8 text-purple-600"}),"Orders Management"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(te,{variant:S==="all"?"default":"outline",size:"sm",onClick:()=>O("all"),className:`flex items-center gap-2 ${S==="all"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(nt,{className:"h-4 w-4"}),"All Orders (",r.length,")"]}),a.jsxs(te,{variant:S==="pending"?"default":"outline",size:"sm",onClick:()=>O("pending"),className:`flex items-center gap-2 ${S==="pending"?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(Pr,{className:"h-4 w-4"}),"Pending (",r.filter(M=>M.status==="pending").length,")"]}),a.jsxs(te,{variant:S==="confirmed"?"default":"outline",size:"sm",onClick:()=>O("confirmed"),className:`flex items-center gap-2 ${S==="confirmed"?"bg-green-600 hover:bg-green-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(Bo,{className:"h-4 w-4"}),"Approved (",r.filter(M=>M.status==="confirmed").length,")"]}),a.jsxs(te,{variant:S==="cancelled"?"default":"outline",size:"sm",onClick:()=>O("cancelled"),className:`flex items-center gap-2 ${S==="cancelled"?"bg-red-600 hover:bg-red-700 text-white":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[a.jsx(lm,{className:"h-4 w-4"}),"Discarded (",r.filter(M=>M.status==="cancelled").length,")"]})]})]})}),a.jsx(he,{className:"p-8",children:ke().length===0?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:a.jsx(nt,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["No ",S==="all"?"":S," orders found"]}),a.jsx("p",{className:"text-gray-500",children:S==="all"?"No orders have been created yet.":`No ${S} orders at the moment.`})]})]})}):a.jsx("div",{className:"space-y-6",children:ke().map(M=>a.jsx("div",{className:`border-2 rounded-3xl p-8 hover:shadow-xl transition-all duration-300 ${M.status==="dispatched"?"border-green-200 bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100":"border-gray-100 bg-gradient-to-r from-white to-gray-50 hover:from-blue-50 hover:to-purple-50"}`,children:a.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[Ee(M.status),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["Order #",M.order_number||M.id]}),M.status==="dispatched"&&a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(Je,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Dispatched"})]})]}),a.jsx(pe,{className:`text-sm font-semibold px-4 py-2 rounded-xl ${we(M.status)}`,children:M.status.toUpperCase()}),M.requested_grade!=="any"&&a.jsxs(pe,{variant:"secondary",className:"text-sm px-3 py-1 bg-indigo-100 text-indigo-700 rounded-xl",children:["Grade ",M.requested_grade]}),a.jsx(pe,{variant:"outline",className:"text-sm px-3 py-1 bg-orange-100 text-orange-700 border-orange-200 rounded-xl",children:Te(M.requested_sizes||[])})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(fn,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:M.outlet?.name||"Unknown Outlet"}),a.jsx("div",{className:"text-sm text-gray-500",children:M.outlet?.location||"Unknown Location"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(xu,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:M.outlet?.phone||"Unknown Phone"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(Ia,{className:"h-5 w-5 text-purple-500"}),a.jsx("span",{className:"text-sm font-medium",children:new Date(M.order_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(It,{className:"h-5 w-5 text-cyan-500"}),a.jsxs("span",{className:"text-sm font-medium",children:[M.requested_quantity,"kg requested"]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-base text-gray-700",children:[a.jsxs("span",{className:"bg-gray-100 px-4 py-2 rounded-xl",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Sizes:"})," ",M.requested_sizes?.join(", ")||"Any"]}),a.jsxs("span",{className:"bg-gray-100 px-4 py-2 rounded-xl",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Quantity:"})," ",M.requested_quantity,"kg"]}),a.jsxs("span",{className:"bg-gray-100 px-4 py-2 rounded-xl",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Price:"})," ",Se(M.price_per_kg||0),"/kg"]})]}),M.notes&&a.jsxs("div",{className:"text-base text-gray-700 bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-2xl border-l-4 border-blue-400",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Notes:"})," ",M.notes]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-4 min-w-fit",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:Se(M.total_value)}),a.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Total Value"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{variant:"outline",size:"sm",onClick:()=>Ae(M.id),className:"px-3 py-2 border-gray-300 hover:bg-gray-50",children:[a.jsx(Jt,{className:"h-4 w-4 mr-1"}),"View"]}),M.status==="pending"&&a.jsx(te,{size:"sm",onClick:()=>be(M.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2",children:"Confirm"}),M.status==="confirmed"&&a.jsxs(te,{size:"sm",onClick:()=>e("dispatch",M.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2",children:[a.jsx(Jt,{className:"h-4 w-4 mr-1"}),"View Dispatch"]})]})]})]})},M.id))})})]})]}),a.jsx(Rt,{open:f,onOpenChange:m,children:a.jsxs(Mt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(nt,{className:"h-6 w-6 text-orange-600"}),"Pick Items from Inventory"]}),a.jsx(sn,{children:"Select items from available inventory to fulfill this order. Items will be deducted from inventory automatically."})]}),ne&&a.jsxs("div",{className:"space-y-6 py-4",children:[(()=>{const M=r.find(re=>re.id===ne);return M?a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border border-blue-200",children:[a.jsxs("h3",{className:"font-bold text-lg text-blue-900 mb-4 flex items-center gap-2",children:[a.jsx(Ra,{className:"h-5 w-5"}),"Order Requirements"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Outlet:"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:M.outlet?.name||"Unknown Outlet"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Requested Quantity:"}),a.jsxs("span",{className:"text-gray-900 font-semibold",children:[M.requested_quantity,"kg"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Requested Sizes:"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:M.requested_sizes?.join(", ")||"Any"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Grade:"}),a.jsxs(pe,{className:M.requested_grade==="A"?"bg-green-100 text-green-800":M.requested_grade==="B"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:["Grade ",M.requested_grade]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Price per kg:"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:Se(M.price_per_kg||0)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Total Value:"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:Se(M.total_value)})]})]})]}):null})(),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-900 flex items-center gap-2",children:[a.jsx(Nn,{className:"h-5 w-5 text-green-600"}),"Available Inventory"]}),(()=>{const M=r.find(ue=>ue.id===ne);if(!M)return null;const re=St(M).reduce((ue,Ce)=>ue+(Ce.total_quantity||0),0);return a.jsx("div",{className:"bg-green-50 px-3 py-1 rounded-full",children:a.jsxs("span",{className:"text-sm font-medium text-green-800",children:[re," pieces available"]})})})()]}),a.jsx("div",{className:"grid gap-4 max-h-96 overflow-y-auto",children:(()=>{const M=r.find(ue=>ue.id===ne);if(!M)return null;const re=St(M);return re.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(nt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No inventory items match the order requirements"})]}):re.map(ue=>a.jsx("div",{className:"border border-gray-200 rounded-xl p-4 bg-white hover:shadow-md transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 text-lg",children:["Size ",ue.final_size||"Unknown"," Fish"]}),a.jsxs(pe,{className:ue.final_grade==="A"?"bg-green-100 text-green-800":ue.final_grade==="B"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:["Grade ",ue.final_grade||"Unknown"]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Available Quantity:"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-blue-900",children:[ue.total_quantity||0," pieces"]}),a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["(",ue.total_weight?ue.total_weight.toFixed(1):"0.0"," kg)"]}),ue.total_quantity&&ue.total_quantity<=10&&a.jsx(pe,{className:"bg-orange-100 text-orange-800 border-orange-200 text-xs",children:"Low Stock"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Storage Location:"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ue.storage_location||"Processing Area"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Processing Date"}),a.jsx("span",{className:"text-gray-900 font-semibold",children:ue.processing_date?new Date(ue.processing_date).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Farmer"}),a.jsx("span",{className:"text-gray-900 font-semibold truncate",children:ue.farmer_name||"Unknown"})]})]})]}),a.jsx("div",{className:"flex items-center gap-3 ml-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(te,{size:"sm",variant:"outline",onClick:()=>Z(ue,1),className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-sm font-medium min-w-[2rem] text-center",children:G.find(Ce=>Ce.inventoryItem.id===ue.id)?.quantity||0}),a.jsx(te,{size:"sm",variant:"outline",onClick:()=>{const Ce=G.find(xe=>xe.inventoryItem.id===ue.id);Ce&&Ce.quantity>0&&st(ue.id,Ce.quantity-1)},className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:a.jsx(Ys,{className:"h-4 w-4"})})]})})]})},ue.id))})()})]}),G.length>0&&a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[a.jsxs("h3",{className:"font-bold text-lg text-green-900 mb-4 flex items-center gap-2",children:[a.jsx(Je,{className:"h-5 w-5"}),"Selected Items Summary"]}),a.jsxs("div",{className:"space-y-3",children:[G.map(M=>a.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-medium text-gray-900",children:["Size ",M.inventoryItem.final_size||"Unknown"," - Grade ",M.inventoryItem.final_grade||"Unknown"]}),a.jsxs(pe,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[M.quantity," pieces"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[M.weight.toFixed(1),"kg"]}),a.jsx(te,{size:"sm",variant:"outline",onClick:()=>je(M.inventoryItem.id),className:"border-red-200 text-red-700 hover:bg-red-50",children:a.jsx(Ys,{className:"h-4 w-4"})})]})]},M.inventoryItem.id)),a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs("div",{className:"flex justify-between items-center font-semibold text-green-900",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:[G.reduce((M,re)=>M+re.quantity,0)," pieces  "," ",G.reduce((M,re)=>M+re.weight,0).toFixed(1),"kg"]})]})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-4 border-t",children:[a.jsx(te,{variant:"outline",onClick:()=>{m(!1),ee([]),R(null)},className:"px-6 py-2",children:"Cancel"}),a.jsxs(te,{onClick:Ne,disabled:G.length===0,className:"px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white disabled:bg-gray-300 disabled:cursor-not-allowed",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Dispatch Order"]})]})]})]})}),a.jsx(Rt,{open:g,onOpenChange:p,children:a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(us,{className:"h-6 w-6 text-blue-600"})}),"Order Details - ",x?.order_number||x?.id]}),a.jsx(sn,{className:"text-gray-600",children:"Complete information for this outlet order"})]}),x&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[Ee(x.status),a.jsx(pe,{className:`text-sm font-semibold px-4 py-2 rounded-xl ${we(x.status)}`,children:x.status.toUpperCase()}),x.requested_grade!=="any"&&a.jsxs(pe,{variant:"secondary",className:"text-sm px-3 py-1 bg-indigo-100 text-indigo-700 rounded-xl",children:["Grade ",x.requested_grade]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Se(x.total_value)}),a.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Total Value"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order Date:"}),a.jsx("span",{className:"text-sm text-gray-900",children:new Date(x.order_date).toLocaleDateString()})]}),x.delivery_date&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Delivery Date:"}),a.jsx("span",{className:"text-sm text-gray-900",children:new Date(x.delivery_date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-cyan-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quantity:"}),a.jsxs("span",{className:"text-sm text-gray-900",children:[x.requested_quantity,"kg"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ds,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Price per kg:"}),a.jsx("span",{className:"text-sm text-gray-900",children:Se(x.price_per_kg||0)})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Vn,{className:"h-5 w-5 text-blue-600"}),"Outlet Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Outlet Name:"}),a.jsx("p",{className:"text-sm text-gray-900 font-semibold",children:x.outlet?.name||"Unknown Outlet"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Location:"}),a.jsx("p",{className:"text-sm text-gray-900",children:x.outlet?.location||"Unknown Location"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phone:"}),a.jsx("p",{className:"text-sm text-gray-900",children:x.outlet?.phone||"Unknown Phone"})]}),x.outlet?.manager_name&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Manager:"}),a.jsx("p",{className:"text-sm text-gray-900",children:x.outlet.manager_name})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(nt,{className:"h-5 w-5 text-orange-600"}),"Order Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Requested Sizes:"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:x.requested_sizes&&x.requested_sizes.length>0?x.requested_sizes.map((M,re)=>a.jsxs(pe,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:["Size ",M]},re)):a.jsx(pe,{variant:"outline",className:"bg-gray-50 text-gray-700",children:"Any Size"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Grade Preference:"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:x.requested_grade==="any"?"Any Grade Available":`Grade ${x.requested_grade}`})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quantity Breakdown:"}),a.jsxs("div",{className:"mt-2 bg-gray-50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Weight:"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[x.requested_quantity,"kg"]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Price per kg:"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Se(x.price_per_kg||0)})]}),a.jsxs("div",{className:"flex justify-between items-center mt-1 pt-2 border-t border-gray-200",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Value:"}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:Se(x.total_value)})]})]})]})})]})]}),x.notes&&a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(us,{className:"h-5 w-5 text-gray-600"}),"Order Notes"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-gray-700",children:x.notes})})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx(te,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Close"}),x.status==="pending"&&a.jsx(te,{onClick:()=>{be(x.id),p(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Confirm Order"}),x.status==="confirmed"&&a.jsxs(te,{onClick:()=>{e("dispatch",x.id),p(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"View Dispatch"]}),x.status==="dispatched"&&a.jsxs(te,{onClick:()=>{e("dispatch",x.id),p(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Check Dispatch Page"]})]})]})]})}),a.jsx(Rt,{open:v,onOpenChange:j,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Tv,{className:"h-6 w-6 text-blue-600"})}),"Confirm Order"]}),a.jsx(sn,{className:"text-gray-600",children:"Review and confirm this order. Select who is confirming and choose to approve or discard."})]}),w&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Order Number:"}),a.jsx("span",{className:"ml-2 font-medium",children:w.order_number||w.id})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Outlet:"}),a.jsx("span",{className:"ml-2 font-medium",children:s.find(M=>M.id===w.outlet_id)?.name||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsxs("span",{className:"ml-2 font-medium",children:[w.requested_quantity," kg"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Value:"}),a.jsxs("span",{className:"ml-2 font-medium",children:["KES ",w.total_value.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Confirmed By"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Tv,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:t?.email||"Current User"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Logged in user"})]})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Action *"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"approve",name:"action",value:"approve",checked:q.action==="approve",onChange:M=>F(re=>({...re,action:M.target.value})),className:"h-4 w-4 text-green-600"}),a.jsxs(de,{htmlFor:"approve",className:"flex items-center gap-2 text-green-700",children:[a.jsx(Je,{className:"h-4 w-4"}),"Approve Order"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"discard",name:"action",value:"discard",checked:q.action==="discard",onChange:M=>F(re=>({...re,action:M.target.value})),className:"h-4 w-4 text-red-600"}),a.jsxs(de,{htmlFor:"discard",className:"flex items-center gap-2 text-red-700",children:[a.jsx(lm,{className:"h-4 w-4"}),"Discard Order"]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),a.jsx($a,{placeholder:"Add any notes about this confirmation...",className:"h-20 resize-none",value:q.notes,onChange:M=>F(re=>({...re,notes:M.target.value}))})]})]}),a.jsxs(zo,{className:"flex gap-3",children:[a.jsx(te,{variant:"outline",onClick:()=>j(!1),disabled:V,className:"flex-1",children:"Cancel"}),a.jsx(te,{onClick:We,disabled:V,className:`flex-1 ${q.action==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white`,children:V?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):a.jsx(a.Fragment,{children:q.action==="approve"?a.jsxs(a.Fragment,{children:[a.jsx(Je,{className:"h-4 w-4 mr-2"}),"Approve Order"]}):a.jsxs(a.Fragment,{children:[a.jsx(lm,{className:"h-4 w-4 mr-2"}),"Discard Order"]})})})]})]})]})})]})}const o1e=Object.freeze(Object.defineProperty({__proto__:null,default:i1e},Symbol.toStringTag,{value:"Module"}));function l1e({onNavigate:e}){const[t,r]=b.useState([]),[n,s]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState(!0),[d,u]=b.useState([]),[h,f]=b.useState(!1),[m,g]=b.useState([]),[p,x]=b.useState(null),[y,v]=b.useState(!1),[j,w]=b.useState([]),[k,N]=b.useState({driverId:"",notes:"",pickingDate:"",pickingTime:""}),[S,O]=b.useState(!1),[P,$]=b.useState(null),T=async()=>{try{const{data:R,error:Y}=await Q.from("outlet_orders").select(`
          *,
          outlet:outlets(
            id,
            name,
            location,
            phone,
            manager_name,
            status
          )
        `).eq("status","confirmed").order("order_date",{ascending:!1});if(Y)throw Y;r(R||[])}catch(R){console.error("Error fetching confirmed orders:",R),fe.error("Failed to fetch confirmed orders",{description:"Please refresh the page or try again later",duration:5e3})}},I=async()=>{try{const{data:R,error:Y}=await Q.from("outlet_orders").select(`
          *,
          outlet:outlets(
            id,
            name,
            location,
            phone,
            manager_name,
            status
          )
        `).eq("status","dispatched").order("dispatch_date",{ascending:!1});if(Y)throw Y;if(R&&R.length>0){const se=R.map(U=>U.id),{data:oe,error:K}=await Q.from("dispatch_records").select("*").in("outlet_order_id",se);if(!K&&oe){const U=R.map(B=>{const W=oe.find(H=>H.outlet_order_id===B.id);return{...B,dispatch_record:W||null}});s(U)}else console.warn("Could not fetch dispatch records:",K),s(R)}else s([])}catch(R){console.error("Error fetching dispatched orders:",R),fe.error("Failed to fetch dispatched orders",{description:"Please refresh the page or try again later",duration:5e3})}},D=async()=>{try{const{data:R,error:Y}=await Q.from("outlets").select("*").order("name");if(Y)throw Y;o(R||[])}catch(R){console.error("Error fetching outlets:",R),fe.error("Failed to fetch outlets",{description:"Please refresh the page or try again later",duration:5e3})}},E=async()=>{try{const{data:R,error:Y}=await Q.from("profiles").select("id, first_name, last_name").eq("role","driver").order("first_name");if(Y)throw Y;const se=(R||[]).map(oe=>({id:oe.id,name:`${oe.first_name} ${oe.last_name}`}));w(se)}catch(R){console.error("Error fetching drivers:",R),fe.error("Failed to fetch drivers",{description:"Please refresh the page or try again later",duration:5e3})}},q=async()=>{try{const{data:R,error:Y}=await Q.from("processing_records").select(`
          id,
          post_processing_weight,
          ready_for_dispatch_count,
          processing_date,
          final_value
        `).gt("ready_for_dispatch_count",0).order("processing_date",{ascending:!1});if(Y)throw Y;u(R||[])}catch(R){console.error("Error fetching inventory:",R),fe.error("Failed to fetch inventory",{description:"Please refresh the page or try again later",duration:5e3}),u([])}},F=R=>{x(R),N({driverId:"",notes:"",pickingDate:"",pickingTime:""}),v(!0)},V=async()=>{if(!p||!k.driverId){fe.error("Please select a driver");return}if(!k.pickingDate||!k.pickingTime){fe.error("Please select picking date and time");return}try{const R=j.find(X=>X.id===k.driverId)?.name||"Unknown Driver",Y=t.find(X=>X.id===p),se=i.find(X=>X.id===Y?.outlet_id),oe=Y?.requested_quantity||0,K=Y?.requested_quantity||0,U=Y?.size_quantities||{},{data:B,error:W}=await Q.from("dispatch_records").insert({outlet_order_id:p,fish_ids:[],destination:se?.name||"Unknown",dispatch_date:new Date().toISOString().split("T")[0],total_weight:oe,total_pieces:K,size_breakdown:U,total_value:Y?.total_value||0,status:"scheduled",notes:k.notes,picking_date:k.pickingDate,picking_time:k.pickingTime,assigned_driver:R,assigned_date:new Date().toISOString().split("T")[0]}).select().single();if(W)throw W;const{error:H}=await Q.from("outlet_orders").update({status:"dispatched",dispatch_date:new Date().toISOString().split("T")[0],notes:k.notes}).eq("id",p);if(H)throw H;v(!1),x(null),await Promise.all([T(),I()]),fe.success("Dispatch approved successfully!",{description:`Driver ${R} assigned to order for picking on ${k.pickingDate} at ${k.pickingTime}`,duration:5e3})}catch(R){console.error("Error approving dispatch:",R),fe.error("Failed to approve dispatch",{description:"Please try again or contact support if the issue persists",duration:5e3})}},L=R=>{$(R),O(!0)},G=()=>{O(!1),$(null)},ee=()=>{window.print()},ne=async()=>{if(!p||m.length===0){fe.error("Please select items from inventory");return}try{const R=m.map(X=>X.inventoryItem.id),{error:Y}=await Q.from("processing_records").update({ready_for_dispatch_count:0}).in("id",R);if(Y)throw Y;const se=m.reduce((X,A)=>X+A.weight,0),oe=m.reduce((X,A)=>X+A.quantity,0),K=m.reduce((X,A)=>{const ce=A.inventoryItem.final_size||0;return X[ce]=(X[ce]||0)+A.quantity,X},{}),U=t.find(X=>X.id===p),{data:B,error:W}=await Q.from("dispatch_records").update({fish_ids:R,total_weight:se,total_pieces:oe,size_breakdown:K,status:"dispatched",notes:`Inventory picked for order ${U?.order_number||p}`}).eq("outlet_order_id",p).select().single();if(W)throw W;const{error:H}=await Q.from("outlet_orders").update({status:"dispatched",dispatch_date:new Date().toISOString().split("T")[0]}).eq("id",p);if(H)throw H;await Promise.all([T(),I(),q()]),f(!1),x(null),g([]),fe.success("Order dispatched successfully!",{description:`Order ${U?.order_number||p} has been dispatched with ${oe} pieces`,duration:5e3})}catch(R){console.error("Error dispatching order:",R),fe.error("Failed to dispatch order",{description:"Please try again or contact support if the issue persists",duration:5e3})}};return b.useEffect(()=>{(async()=>(c(!0),await Promise.all([T(),I(),D(),q(),E()]),c(!1)))()},[]),a.jsxs(a.Fragment,{children:[a.jsx("style",{jsx:"true",global:"true",children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .printable-invoice, .printable-invoice * {
            visibility: visible;
          }
          .printable-invoice {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            background: white !important;
            color: black !important;
            box-shadow: none !important;
            border: none !important;
            margin: 0 !important;
            padding: 20px !important;
            max-height: none !important;
            overflow: visible !important;
          }
          .printable-invoice .bg-gradient-to-r {
            background: #2563eb !important;
            color: white !important;
          }
          .printable-invoice .bg-green-600 {
            background: #16a34a !important;
            color: white !important;
          }
          .printable-invoice .bg-gray-50 {
            background: #f9fafb !important;
          }
          .printable-invoice .bg-yellow-50 {
            background: #fefce8 !important;
          }
          .printable-invoice .text-white {
            color: white !important;
          }
          .printable-invoice .text-blue-100 {
            color: #dbeafe !important;
          }
          .printable-invoice .text-green-100 {
            color: #dcfce7 !important;
          }
          .printable-invoice .border {
            border: 1px solid #d1d5db !important;
          }
          .printable-invoice .rounded-lg,
          .printable-invoice .rounded-xl,
          .printable-invoice .rounded-2xl {
            border-radius: 4px !important;
          }
          .printable-invoice .shadow-2xl,
          .printable-invoice .shadow-lg {
            box-shadow: none !important;
          }
          .printable-invoice .p-8 {
            padding: 16px !important;
          }
          .printable-invoice .p-6 {
            padding: 12px !important;
          }
          .printable-invoice .p-4 {
            padding: 8px !important;
          }
          .printable-invoice .p-3 {
            padding: 6px !important;
          }
          .printable-invoice .text-3xl {
            font-size: 24px !important;
          }
          .printable-invoice .text-2xl {
            font-size: 20px !important;
          }
          .printable-invoice .text-lg {
            font-size: 16px !important;
          }
          .printable-invoice .mb-6 {
            margin-bottom: 12px !important;
          }
          .printable-invoice .mb-4 {
            margin-bottom: 8px !important;
          }
          .printable-invoice .mb-2 {
            margin-bottom: 4px !important;
          }
          .printable-invoice .mb-1 {
            margin-bottom: 2px !important;
          }
          .printable-invoice .mt-4 {
            margin-top: 8px !important;
          }
          .printable-invoice .gap-6 {
            gap: 12px !important;
          }
          .printable-invoice .max-h-[60vh] {
            max-height: none !important;
          }
          .printable-invoice .overflow-hidden {
            overflow: visible !important;
          }
          .printable-invoice .overflow-y-auto {
            overflow: visible !important;
          }
          .printable-invoice .flex {
            display: block !important;
          }
          .printable-invoice .grid {
            display: block !important;
          }
          .printable-invoice .grid > * {
            margin-bottom: 8px !important;
          }
          .printable-invoice .hidden {
            display: none !important;
          }
          .printable-invoice table {
            width: 100% !important;
            border-collapse: collapse !important;
          }
          .printable-invoice th,
          .printable-invoice td {
            padding: 8px !important;
            text-align: left !important;
            border-bottom: 1px solid #d1d5db !important;
          }
        }
      `}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(rd,{size:"lg",showText:!1})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(ln,{className:"h-8 w-8"}),"Dispatch Management"]}),a.jsx("p",{className:"text-white/80 mt-2",children:"Assign drivers to confirmed orders and manage dispatch operations"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-white/70",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold",children:t.length+n.length})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-white/70",children:"Awaiting Dispatch"}),a.jsx("p",{className:"text-2xl font-bold text-orange-200",children:t.length})]})]})]})}),!l&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-orange-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Awaiting Dispatch"}),a.jsx("p",{className:"text-3xl font-bold text-orange-800",children:t.length})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:a.jsx(Pr,{className:"h-6 w-6 text-orange-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:"Dispatched"}),a.jsx("p",{className:"text-3xl font-bold text-green-800",children:n.length})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(ln,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Orders"}),a.jsx("p",{className:"text-3xl font-bold text-blue-800",children:t.length+n.length})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:a.jsx(Vn,{className:"h-6 w-6 text-blue-600"})})]})})]}),l&&a.jsxs("div",{className:"flex justify-center items-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-3 text-muted-foreground",children:"Loading dispatch data..."})]}),!l&&a.jsxs(le,{className:"shadow-lg border-0",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b",children:a.jsxs(Ye,{className:"flex items-center gap-2 text-orange-800",children:[a.jsx(Pr,{className:"h-5 w-5"}),"Orders Awaiting Driver Assignment (",t.length,")"]})}),a.jsx(he,{className:"p-6",children:t.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:a.jsx(ln,{className:"h-10 w-10 text-orange-600"})}),a.jsx("p",{className:"text-lg font-medium",children:"No orders awaiting dispatch"}),a.jsx("p",{className:"text-sm",children:"Confirmed orders will appear here for driver assignment"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(R=>a.jsxs("div",{className:"bg-white border border-orange-200 rounded-xl p-5 hover:shadow-xl transition-all duration-300 hover:border-orange-400 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(pe,{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1",children:"AWAITING DRIVER"})}),a.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",children:a.jsx(Jt,{className:"h-4 w-4 text-gray-600"})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Vn,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:R.outlet?.name||"Unknown Outlet"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(fn,{className:"h-3 w-3"}),a.jsx("span",{children:R.outlet?.location||"Unknown Location"})]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Order ID:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.order_number||R.id})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[R.requested_quantity,"kg"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Sizes:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.requested_sizes?.join(", ")||"Any"})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Date:"}),a.jsx("span",{className:"font-medium text-gray-900",children:new Date(R.order_date).toLocaleDateString()})]})]}),a.jsx("div",{className:"border-t border-gray-100 pt-3 mb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["KES ",R.total_value?.toLocaleString()||"0"]})]})}),a.jsx("div",{className:"space-y-2",children:a.jsxs(te,{size:"sm",onClick:()=>F(R.id),className:"w-full bg-green-600 hover:bg-green-700 text-white text-xs",children:[a.jsx(Je,{className:"h-3 w-3 mr-1"}),"Approve Dispatch"]})})]},R.id))})})]}),!l&&a.jsxs(le,{className:"shadow-lg border-0",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:a.jsxs(Ye,{className:"flex items-center gap-2 text-green-800",children:[a.jsx(ln,{className:"h-5 w-5"}),"Dispatched Orders (",n.length,")"]})}),a.jsx(he,{className:"p-6",children:n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("div",{className:"bg-green-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:a.jsx(ln,{className:"h-10 w-10 text-green-600"})}),a.jsx("p",{className:"text-lg font-medium",children:"No dispatched orders"}),a.jsx("p",{className:"text-sm",children:"Orders that have been dispatched will appear here"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(R=>a.jsxs("div",{className:"bg-white border border-green-200 rounded-xl p-5 hover:shadow-xl transition-all duration-300 hover:border-green-400 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(pe,{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1",children:"DISPATCHED"})}),a.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",onClick:()=>L(R),title:"View Invoice Details",children:a.jsx(Jt,{className:"h-4 w-4 text-gray-600"})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Vn,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:R.outlet?.name||"Unknown Outlet"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(fn,{className:"h-3 w-3"}),a.jsx("span",{children:R.outlet?.location||"Unknown Location"})]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Order ID:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.order_number||R.id})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Quantity:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[R.requested_quantity,"kg"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Sizes:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.requested_sizes?.join(", ")||"Any"})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Dispatched:"}),a.jsx("span",{className:"font-medium text-gray-900",children:new Date(R.dispatch_date||R.order_date).toLocaleDateString()})]}),(R.dispatch_record?.picking_date||R.dispatch_record?.notes?.includes("Picking:"))&&a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Picking Date:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.dispatch_record?.picking_date?new Date(R.dispatch_record.picking_date).toLocaleDateString():R.dispatch_record?.notes?.match(/Picking: ([^ ]+)/)?.[1]||"Not specified"})]}),(R.dispatch_record?.picking_time||R.dispatch_record?.notes?.includes("at "))&&a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Picking Time:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.dispatch_record?.picking_time||R.dispatch_record?.notes?.match(/at ([^.]+)/)?.[1]||"Not specified"})]}),(R.dispatch_record?.assigned_driver||R.dispatch_record?.notes?.includes("Driver:"))&&a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Driver:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.dispatch_record?.assigned_driver||R.dispatch_record?.notes?.match(/Driver: ([^,]+)/)?.[1]||"Not assigned"})]}),R.dispatch_record?.total_weight&&a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Weight:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[R.dispatch_record.total_weight," kg"]})]})]}),a.jsx("div",{className:"border-t border-gray-100 pt-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["KES ",R.total_value?.toLocaleString()||"0"]})]})})]},R.id))})})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pick Inventory for Order"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select items from inventory to fulfill this order"})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:d.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(nt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"No inventory available"}),a.jsx("p",{className:"text-sm",children:"No items are ready for dispatch"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(R=>{const Y=m.some(oe=>oe.inventoryItem.id===R.id),se=m.find(oe=>oe.inventoryItem.id===R.id);return a.jsxs("div",{className:`border rounded-lg p-4 ${Y?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-900",children:["Size ",R.final_size]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Available: ",R.ready_for_dispatch_count," pieces"]})]}),a.jsx(pe,{className:Y?"bg-orange-500":"bg-gray-500",children:Y?"Picked":"Available"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-xs text-gray-600",children:[a.jsxs("p",{children:["Weight: ",R.total_weight,"kg"]}),a.jsxs("p",{children:["Storage: ",R.storage_location||"Unknown"]}),a.jsxs("p",{children:["Farmer: ",R.farmer_name||"Unknown"]})]}),Y?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",max:R.ready_for_dispatch_count,value:se?.quantity||1,onChange:oe=>{const K=parseInt(oe.target.value)||1;g(U=>U.map(B=>B.inventoryItem.id===R.id?{...B,quantity:K,weight:K*(R.total_weight/R.ready_for_dispatch_count)}:B))},className:"w-20 px-2 py-1 border rounded text-sm"}),a.jsx(te,{size:"sm",variant:"outline",onClick:()=>{g(oe=>oe.filter(K=>K.inventoryItem.id!==R.id))},className:"text-red-600 hover:text-red-700",children:"Remove"})]}):a.jsx(te,{size:"sm",onClick:()=>{g(oe=>[...oe,{inventoryItem:R,quantity:1,weight:R.total_weight/R.ready_for_dispatch_count}])},className:"w-full bg-orange-600 hover:bg-orange-700 text-white",children:"Add to Pick List"})]})]},R.id)})})}),a.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-gray-600",children:m.length>0&&a.jsxs("p",{children:["Selected: ",m.reduce((R,Y)=>R+Y.quantity,0)," pieces,",m.reduce((R,Y)=>R+Y.weight,0).toFixed(2),"kg"]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(te,{variant:"outline",onClick:()=>{f(!1),x(null),g([])},children:"Cancel"}),a.jsx(te,{onClick:ne,disabled:m.length===0,className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Dispatch Order"})]})]})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Approve Dispatch"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Assign a driver and approve this dispatch"})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Select Driver"}),a.jsxs(lr,{onValueChange:R=>N(Y=>({...Y,driverId:R})),children:[a.jsx(dr,{className:"mt-1",children:a.jsx(cr,{placeholder:"Choose a driver"})}),a.jsx(ur,{children:j.map(R=>a.jsx(Fe,{value:R.id,children:R.name},R.id))})]})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Picking Date *"}),a.jsx("input",{type:"date",value:k.pickingDate,onChange:R=>N(Y=>({...Y,pickingDate:R.target.value})),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Picking Time *"}),a.jsx("input",{type:"time",value:k.pickingTime,onChange:R=>N(Y=>({...Y,pickingTime:R.target.value})),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),a.jsx("textarea",{value:k.notes,onChange:R=>N(Y=>({...Y,notes:R.target.value})),placeholder:"Add any notes for this dispatch...",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]}),a.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[a.jsx(te,{variant:"outline",onClick:()=>{v(!1),x(null),N({driverId:"",notes:"",pickingDate:"",pickingTime:""})},children:"Cancel"}),a.jsxs(te,{onClick:V,disabled:!k.driverId,className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(Je,{className:"h-4 w-4 mr-2"}),"Approve Dispatch"]})]})]})}),S&&P&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"printable-invoice bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:a.jsx(rd,{size:"lg",showText:!1})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Dispatch Invoice"}),a.jsxs("p",{className:"text-blue-100 text-lg mt-1",children:["Order #",P.order_number||P.id.slice(0,8)]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(te,{variant:"outline",size:"sm",onClick:ee,className:"bg-white/10 border-white/30 text-white hover:bg-white/20 px-4 py-2 rounded-xl font-semibold",children:"Print"}),a.jsx(te,{variant:"outline",size:"sm",onClick:G,className:"bg-white/10 border-white/30 text-white hover:bg-white/20 px-4 py-2 rounded-xl font-semibold",children:"Close"})]})]})}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"From:"}),a.jsx("p",{className:"text-gray-700",children:"Rio Fish Management"}),a.jsx("p",{className:"text-gray-700",children:"Nairobi, Kenya"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"To:"}),a.jsx("p",{className:"text-gray-700 font-medium",children:P.outlet?.name||"Unknown Outlet"}),a.jsx("p",{className:"text-gray-700",children:P.outlet?.location||"Unknown Location"})]})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"text-left py-2 font-semibold text-gray-700",children:"Item"}),a.jsx("th",{className:"text-left py-2 font-semibold text-gray-700",children:"Details"})]})}),a.jsxs("tbody",{className:"text-sm",children:[a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"py-2 text-gray-600",children:"Order #"}),a.jsx("td",{className:"py-2 font-medium",children:P.order_number||P.id.slice(0,8)})]}),a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"py-2 text-gray-600",children:"Date"}),a.jsx("td",{className:"py-2 font-medium",children:new Date(P.order_date).toLocaleDateString()})]}),a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"py-2 text-gray-600",children:"Quantity"}),a.jsxs("td",{className:"py-2 font-medium",children:[P.requested_quantity," kg"]})]}),a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"py-2 text-gray-600",children:"Sizes"}),a.jsx("td",{className:"py-2 font-medium",children:P.requested_sizes?.join(", ")||"Any Size"})]}),a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"py-2 text-gray-600",children:"Driver"}),a.jsx("td",{className:"py-2 font-medium",children:P.dispatch_record?.assigned_driver||P.dispatch_record?.notes?.match(/Driver: ([^,]+)/)?.[1]||"Not assigned"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 text-gray-600",children:"Price/kg"}),a.jsxs("td",{className:"py-2 font-medium",children:["KES ",P.price_per_kg?.toLocaleString()||"0"]})]})]})]})}),a.jsxs("div",{className:"bg-green-600 rounded-lg p-4 text-white text-center",children:[a.jsx("p",{className:"text-green-100 text-sm mb-1",children:"Total Amount"}),a.jsxs("p",{className:"text-3xl font-bold",children:["KES ",P.total_value?.toLocaleString()||"0"]})]}),P.notes&&a.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Notes:"})," ",P.notes]})})]})]})})]})})]})}const c1e=Object.freeze(Object.defineProperty({__proto__:null,default:l1e},Symbol.toStringTag,{value:"Module"}));class $n{static async logEvent(t){try{const r=JSON.parse(sessionStorage.getItem("currentUser")||"null");if(!r){console.warn("No authenticated user found for audit logging");return}const n={user_id:r.id,action:t.action,table_name:t.table_name,record_id:t.record_id,old_values:t.old_values?JSON.stringify(t.old_values):null,new_values:t.new_values?JSON.stringify(t.new_values):null,ip_address:t.ip_address||null,user_agent:t.user_agent||navigator.userAgent,created_at:new Date().toISOString()},s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBncGF6d2xlamh5c3hhYnRraWZ6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Mzg2MTQ4OSwiZXhwIjoyMDY5NDM3NDg5fQ.wnB6HLpF6vLuwDIWrHgZzU4PubvOqrzHxbLc3qgxIh8";let i=null;s&&(i=(await qg("https://pgpazwlejhysxabtkifz.supabase.co",s,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}}).from("audit_logs").insert([n])).error),i&&console.warn("Failed to log audit event:",i)}catch(r){console.warn("Failed to log audit event:",r)}}static async logCreate(t,r,n){await $n.logEvent({action:"CREATE",table_name:t,record_id:r,new_values:n})}static async logUpdate(t,r,n,s){await $n.logEvent({action:"UPDATE",table_name:t,record_id:r,old_values:n,new_values:s})}static async logDelete(t,r,n){await $n.logEvent({action:"DELETE",table_name:t,record_id:r,old_values:n})}static async logLogin(t,r){await $n.logEvent({action:"LOGIN",table_name:"profiles",record_id:t,new_values:{login_time:new Date().toISOString()},user_agent:r})}static async logLogout(t){await $n.logEvent({action:"LOGOUT",table_name:"profiles",record_id:t,new_values:{logout_time:new Date().toISOString()}})}static async logCustomAction(t,r,n,s){await $n.logEvent({action:t,table_name:r,record_id:n,new_values:s})}}const d1e={create:$n.logCreate,update:$n.logUpdate,delete:$n.logDelete,login:$n.logLogin,logout:$n.logLogout,custom:$n.logCustomAction};function u1e({onNavigate:e}){const{user:t}=oi(),[r,n]=b.useState([]),[s,i]=b.useState(!1),[o,l]=b.useState(!0),[c,d]=b.useState(!1),[u,h]=b.useState(!1),[f,m]=b.useState([]),[g,p]=b.useState(null),[x,y]=b.useState(null),[v,j]=b.useState(!1),[w,k]=b.useState(new Set),[N,S]=b.useState({dispatchId:"",outletId:"",actualWeight:"",actualValue:"",condition:"",receivedBy:t?`${t.first_name} ${t.last_name}`:"",notes:"",sizeDiscrepancies:{}});b.useEffect(()=>{t&&S(B=>({...B,receivedBy:`${t.first_name} ${t.last_name}`}))},[t]);const O=B=>`REC${String(B+1).padStart(4,"0")}`,P=B=>{const W={};return B.forEach((H,X)=>{const A=H.dispatch?.outlet_order?.outlet?.name||"Unknown Outlet";W[A]||(W[A]=[]),W[A].push({...H,displayIndex:X})}),W},$=B=>{const W=new Set(w);W.has(B)?W.delete(B):W.add(B),k(W)},T=B=>{y(B),j(!0)},I=async()=>{try{l(!0);const B=Py(t?.id),{data:W,error:H}=await _e(async()=>await B.from("outlet_receiving").select(`
            *,
            dispatch_records!inner(
              id,
              destination,
              dispatch_date,
              outlet_orders!inner(
                id,
                order_number,
                outlets!inner(
                  id,
                  name,
                  location
                )
              )
            )
          `).order("received_date",{ascending:!1}));if(H)throw H;const X=(W||[]).map(A=>({id:A.id,dispatch_id:A.dispatch_id,outlet_order_id:A.outlet_order_id,received_date:A.received_date,received_by:A.received_by,expected_weight:parseFloat(A.expected_weight)||0,actual_weight_received:parseFloat(A.actual_weight_received)||0,expected_value:parseFloat(A.expected_value)||0,actual_value_received:parseFloat(A.actual_value_received)||0,condition:A.condition||"good",size_discrepancies:A.size_discrepancies||null,discrepancy_notes:A.discrepancy_notes||null,status:A.status||"confirmed",outlet_name:A.outlet_name||"Unknown",outlet_location:A.outlet_location||"Unknown",created_at:A.created_at,updated_at:A.updated_at,dispatch:{id:A.dispatch_records?.id||A.dispatch_id,destination:A.dispatch_records?.destination||"Unknown",dispatch_date:A.dispatch_records?.dispatch_date,outlet_order:{order_number:A.dispatch_records?.outlet_orders?.order_number||"N/A",outlet:{name:A.dispatch_records?.outlet_orders?.outlets?.name||A.outlet_name||"Unknown",location:A.dispatch_records?.outlet_orders?.outlets?.location||A.outlet_location||"Unknown"}}}}));n(X)}catch(B){const W=$e(B,"fetching receiving records");fe.error(W),n([])}finally{l(!1)}},D=async()=>{try{const B=Py(t?.id),{data:W,error:H}=await _e(async()=>await B.from("dispatch_records").select(`
            id,
            outlet_order_id,
            destination,
            total_weight,
            total_value,
            size_breakdown,
            status,
            dispatch_date,
            notes,
            picking_date,
            picking_time,
            assigned_driver,
            outlet_order:outlet_orders(
              id,
              order_number,
              total_value,
              outlet:outlets(name, location, phone)
            )
          `).in("status",["in-transit","dispatched","scheduled"]).order("dispatch_date",{ascending:!1}));if(H)throw H;return console.log("Fetched dispatches:",W),W?.forEach((X,A)=>{console.log(`Dispatch ${A} size breakdown:`,X.size_breakdown)}),W||[]}catch(B){return console.error("Error fetching dispatches:",B),[]}},E=()=>{if(!g?.size_breakdown)return 0;let B=0;return Object.entries(g.size_breakdown).forEach(([W,H])=>{const X=N.sizeDiscrepancies[parseInt(W)]||0,A=H+X;B+=A}),B},q=()=>{const B=E(),W=parseFloat(N.actualWeight)||0,H=g?.size_breakdown&&Object.keys(g.size_breakdown).length>0,X=Object.keys(N.sizeDiscrepancies).length>0;return!!(N.dispatchId&&g&&N.actualWeight&&N.actualWeight.trim()!==""&&parseFloat(N.actualWeight)>0&&N.actualValue&&N.actualValue.trim()!==""&&parseFloat(N.actualValue)>0&&N.condition&&N.condition.trim()!==""&&t&&t.id&&(!H||X)&&(B===0||Math.abs(B-W)<=.1))},F=()=>{const B=[];(!N.dispatchId||!g)&&B.push("Please select a valid dispatch");const W=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;if(N.dispatchId&&!W.test(N.dispatchId)&&(B.push("Invalid dispatch ID format. Please refresh and select a dispatch again."),console.error("Invalid dispatch ID:",N.dispatchId)),!N.actualWeight||N.actualWeight.trim()===""?B.push("Please enter the weight received"):parseFloat(N.actualWeight)<=0?B.push("Weight received must be greater than 0"):parseFloat(N.actualWeight)<.1&&B.push("Weight received seems too low (<0.1kg). Please verify the value"),!N.actualValue||N.actualValue.trim()===""?B.push("Please enter the value received"):parseFloat(N.actualValue)<=0&&B.push("Value received must be greater than 0"),(!N.condition||N.condition.trim()==="")&&B.push("Please select the condition of received items"),(!t||!t.id)&&B.push("User session expired. Please refresh and try again"),g){const H=g.total_weight||0,X=g.total_value||0;H>1e4&&console.warn(` WARNING: Expected weight (${H}kg) seems unrealistic. Please verify dispatch data.`),X>1e6&&console.warn(` WARNING: Expected value (KES ${X.toLocaleString()}) seems unrealistic. Please verify dispatch data.`)}if(g&&g.total_weight>0){const H=g.total_weight||0,X=parseFloat(N.actualWeight)||0,A=Math.abs(X-H),ce=H>0?A/H*100:0;ce>20&&console.warn(`Weight discrepancy is ${ce.toFixed(1)}% - please verify the received weight`)}if(N.actualWeight&&isNaN(parseFloat(N.actualWeight))&&B.push("Weight received must be a valid number"),N.actualValue&&isNaN(parseFloat(N.actualValue))&&B.push("Value received must be a valid number"),g?.size_breakdown&&Object.keys(g.size_breakdown).length>0)if(!(Object.keys(N.sizeDiscrepancies).length>0))B.push("This dispatch has size breakdown data. Please fill in the size discrepancies section below.");else{const H=E(),X=parseFloat(N.actualWeight)||0,A=Math.abs(H-X);A>.1&&B.push(`Size breakdown total (${H.toFixed(1)}kg) does not match total weight received (${X.toFixed(1)}kg). Difference: ${A.toFixed(1)}kg`)}return B},V=async(B,W,H,X,A)=>{try{await d1e.custom(B,W,H,{old_values:X,new_values:A})}catch(ce){console.warn("Failed to log audit event:",ce)}},L=async()=>{if(u){fe.warning("Please wait, submission in progress...");return}try{h(!0);const B=F();if(B.length>0){B.forEach(ce=>fe.error(ce));return}if(g){const ce=g.total_weight||0,we=g.total_value||0,Ee=parseFloat(N.actualWeight)||0;ce>1e4&&fe.warning(` Large expected weight: ${ce}kg`),we>1e6&&fe.warning(` Large expected value: KES ${we.toLocaleString()}`),Ee>ce&&Ee>1e4&&fe.warning(` Received weight (${Ee}kg) is larger than expected (${ce}kg)`);const Se=ce>0?Math.abs(Ee-ce)/ce*100:0;Se>20&&fe.warning(` Large discrepancy: ${Se.toFixed(1)}%`)}const W={dispatch_id:N.dispatchId,outlet_order_id:g.outlet_order_id,received_date:new Date().toISOString().split("T")[0],received_by:t?.id||null,expected_weight:parseFloat((g.total_weight||0).toString()),actual_weight_received:parseFloat(N.actualWeight)||0,expected_pieces:0,actual_pieces_received:0,expected_value:parseFloat((g.total_value||g.outlet_order?.total_value||0).toString()),actual_value_received:parseFloat(N.actualValue)||0,condition:N.condition||"good",size_discrepancies:Object.keys(N.sizeDiscrepancies).length>0?N.sizeDiscrepancies:null,discrepancy_notes:N.notes||null,status:"confirmed",outlet_name:g.outlet_order?.outlet?.name||g.destination,outlet_location:g.outlet_order?.outlet?.location||"Unknown"};console.log("Creating receiving record with data:",W),console.log("Form data dispatchId:",N.dispatchId),console.log("Form data dispatchId type:",typeof N.dispatchId),console.log("Selected dispatch:",g),console.log("Selected dispatch ID:",g?.id),console.log("Selected dispatch ID type:",typeof g?.id);const H=Py(t?.id),{data:X,error:A}=await _e(async()=>await H.from("outlet_receiving").insert([W]).select("id").single());if(A)throw A;await H.from("dispatch_records").update({status:"delivered",updated_at:new Date().toISOString()}).eq("id",N.dispatchId);try{await V("INSERT","outlet_receiving",X.id,null,{...W,entry_code:`RCV-${Date.now()}`,fish_type:g.fish_type||"Tilapia",condition:W.condition,weight_received:W.actual_weight_received,outlet_id:g.outlet_order?.outlet_id,receiving_date:W.received_date})}catch(ce){console.warn("Audit logging failed (non-critical):",ce)}fe.success("Receiving record created successfully"),S({dispatchId:"",outletId:"",actualWeight:"",actualValue:"",condition:"",receivedBy:t?`${t.first_name} ${t.last_name}`:"",notes:"",sizeDiscrepancies:{}}),p(null),i(!1),await I()}catch(B){const W=$e(B,"creating receiving record");fe.error(W)}finally{h(!1)}},G=async()=>{try{const B=await D();console.log("Fetched dispatches:",B),m(B)}catch(B){console.error("Error loading dispatches:",B),fe.error("Failed to load available dispatches")}};b.useEffect(()=>{console.log("Available dispatches updated:",f),f.forEach((B,W)=>{console.log(`Dispatch ${W}:`,{id:B.id,idType:typeof B.id,destination:B.destination,total_weight:B.total_weight,size_breakdown:B.size_breakdown})})},[f]);const ee=B=>{console.log("Selected dispatch ID:",B),console.log("Available dispatches:",f);const W=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;if(!W.test(B)){console.error("Invalid dispatch ID format:",B),fe.error("Invalid dispatch selection. Please refresh and try again.");return}const H=f.find(X=>X.id===B);if(console.log("Found dispatch:",H),!H){console.error("Dispatch not found for ID:",B),fe.error("Selected dispatch not found. Please refresh and try again.");return}if(!H.id||!W.test(H.id)){console.error("Dispatch has invalid ID:",H.id),fe.error("Selected dispatch has invalid ID. Please refresh and try again.");return}p(H),console.log("Selected dispatch size breakdown:",H.size_breakdown),console.log("Size breakdown keys:",H.size_breakdown?Object.keys(H.size_breakdown):"No size breakdown"),console.log("Size breakdown entries:",H.size_breakdown?Object.entries(H.size_breakdown):"No size breakdown"),S(X=>({...X,dispatchId:H.id,outletId:H.outlet_order?.outlet?.name||"",actualWeight:H.total_weight?.toString()||"",actualValue:H.total_value?.toString()||"",condition:"good"}))},ne=async()=>{d(!0),await I(),d(!1)};b.useEffect(()=>{I()},[]),b.useEffect(()=>{s&&G()},[s]);const R=B=>{switch(B){case"confirmed":return"bg-emerald-500 text-white";case"disputed":return"bg-red-500 text-white";case"pending":return"bg-amber-500 text-white";default:return"bg-gray-500 text-white"}},Y=B=>{switch(B){case"excellent":return"bg-green-500 text-white";case"good":return"bg-blue-500 text-white";case"fair":return"bg-orange-500 text-white";case"poor":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},se=B=>`KES ${B.toLocaleString()}`,oe=(B,W)=>{const H=W-B,X=B>0?(H/B*100).toFixed(1):"0";return{diff:H,percentage:X}},K=B=>{if(!B)return"No size discrepancies";const W=Object.entries(B).filter(([H,X])=>X!==0).map(([H,X])=>`Size ${H}: ${X>0?"+":""}${X}`);return W.length>0?W.join(", "):"No size discrepancies"},U={totalReceivings:r.length,confirmed:r.filter(B=>B.status==="confirmed").length,disputed:r.filter(B=>B.status==="disputed").length,totalValue:r.reduce((B,W)=>B+(W.actual_value_received||0),0),totalWeight:r.reduce((B,W)=>B+(W.actual_weight_received||0),0)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 p-4 md:p-8",children:[a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-blue-600 rounded-2xl shadow-lg",children:a.jsx(Kl,{className:"h-10 w-10 text-white"})}),"Outlet Receiving Records"]}),a.jsx("p",{className:"text-xl text-gray-600 ml-16",children:"Track what outlets received  Size-based verification  Quality control"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(te,{variant:"outline",onClick:ne,disabled:c,className:"px-6 py-3 rounded-2xl font-semibold",children:[a.jsx(Tt,{className:`h-5 w-5 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),a.jsxs(Rt,{open:s,onOpenChange:i,children:[a.jsx(nf,{asChild:!0,children:a.jsxs(te,{className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-8 py-4 rounded-2xl font-semibold text-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[a.jsx(on,{className:"h-6 w-6 mr-3"}),"Record Receiving"]})}),a.jsxs(Mt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Lt,{children:[a.jsx(zt,{className:"text-2xl font-bold text-gray-900",children:"Record Outlet Receiving"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Fields marked with ",a.jsx("span",{className:"text-red-500",children:"*"})," are required"]})]}),a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-semibold text-gray-700",children:["Select Dispatch ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(lr,{value:N.dispatchId,onValueChange:ee,children:[a.jsx(dr,{className:"h-14 text-base",children:a.jsx(cr,{placeholder:"Select dispatch to receive"})}),a.jsx(ur,{children:f.map(B=>a.jsxs(Fe,{value:B.id,children:[B.outlet_order?.order_number||`ORD-${B.id?.slice(-6)}`," - ",B.destination,B.total_weight>0?` (${B.total_weight}kg)`:" (Not picked yet)"," ","- ",B.status.toUpperCase()]},B.id))})]})]}),g&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl border-l-4 border-blue-400",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Dispatch Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Outlet:"})," ",g.outlet_order?.outlet?.name||g.destination]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Location:"})," ",g.outlet_order?.outlet?.location||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Order Number:"})," ",g.outlet_order?.order_number||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-1 px-2 py-1 rounded text-xs font-medium ${g.status==="dispatched"?"bg-green-100 text-green-800":g.status==="in-transit"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:g.status.toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Expected Weight:"}),a.jsxs("span",{className:`font-medium ${g.total_weight>1e4?"text-red-600":"text-green-600"}`,children:[g.total_weight,"kg",g.total_weight>1e4&&a.jsx("span",{className:"text-xs text-red-500 ml-1",children:""})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Expected Value:"}),a.jsxs("span",{className:`font-medium ${(g.total_value||0)>1e6?"text-red-600":"text-gray-900"}`,children:["KES ",(g.total_value||g.outlet_order?.total_value||0).toLocaleString(),(g.total_value||0)>1e6&&a.jsx("span",{className:"text-xs text-red-500 ml-1",children:""})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Dispatch Date:"})," ",new Date(g.dispatch_date).toLocaleDateString()]}),g.assigned_driver&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Driver:"})," ",g.assigned_driver]}),g.picking_date&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Picking Date:"})," ",new Date(g.picking_date).toLocaleDateString()]})]}),g.size_breakdown&&Object.keys(g.size_breakdown).length>0?a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-semibold text-blue-900",children:"Size Breakdown Available:"}),a.jsxs("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium",children:[Object.keys(g.size_breakdown).length," sizes"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(g.size_breakdown).map(([B,W])=>a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-md text-sm font-medium border border-blue-300",children:["Size ",B,": ",W,"kg"]},B))}),a.jsx("div",{className:"mt-2 text-xs text-blue-700",children:" Size discrepancies must be filled below before submitting"})]}):a.jsx("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-600",children:"No size breakdown data available for this dispatch"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-semibold text-gray-700",children:["Weight Received (kg) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(qe,{type:"number",step:"0.1",placeholder:"202.5",className:"h-14 text-base",value:N.actualWeight,onChange:B=>S({...N,actualWeight:B.target.value})}),g&&N.actualWeight&&a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{className:"text-gray-600",children:["Expected: ",g.total_weight,"kg"]}),(()=>{const B=g.total_weight||0,W=parseFloat(N.actualWeight)||0,H=B-W,X=W-B,A=B>0?(X/B*100).toFixed(1):"0",ce=Math.abs(X)>B*.1;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`${ce?"text-orange-600 font-medium":"text-green-600"}`,children:X>0?`+${X.toFixed(1)}kg (${A}% over)`:X<0?`${X.toFixed(1)}kg (${A}% under)`:"Exact match"}),a.jsxs("div",{className:"text-blue-600 font-medium",children:["Remaining: ",H>0?H.toFixed(1):0,"kg"]})]})})()]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-semibold text-gray-700",children:["Value Received (KES) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(qe,{type:"number",placeholder:"101250",className:"h-14 text-base",value:N.actualValue,onChange:B=>S({...N,actualValue:B.target.value})}),g&&N.actualValue&&a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Expected: KES ",g.total_value?.toLocaleString()]}),(()=>{const B=g.total_value||0,W=(parseFloat(N.actualValue)||0)-B,H=B>0?(W/B*100).toFixed(1):"0",X=Math.abs(W)>B*.1;return a.jsxs("span",{className:`ml-2 ${X?"text-orange-600 font-medium":"text-green-600"}`,children:["(",W>0?"+":"","KES ",W.toLocaleString(),", ",H,"%)"]})})()]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-semibold text-gray-700",children:["Quality Condition ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(lr,{value:N.condition,onValueChange:B=>S({...N,condition:B}),children:[a.jsx(dr,{className:"h-14 text-base",children:a.jsx(cr,{placeholder:"Select condition"})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"excellent",children:" Excellent - Perfect condition"}),a.jsx(Fe,{value:"good",children:" Good - Minor issues"}),a.jsx(Fe,{value:"fair",children:" Fair - Some quality concerns"}),a.jsx(Fe,{value:"poor",children:" Poor - Significant quality issues"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(de,{className:"text-base font-semibold text-gray-700",children:"Received By"}),a.jsx(qe,{placeholder:"Staff member name",className:"h-14 text-base bg-gray-50",value:N.receivedBy,readOnly:!0,title:"Automatically set to logged-in user"})]}),g?.size_breakdown&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{className:"text-base font-semibold text-gray-700",children:["Size Discrepancies ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wt,{className:"h-4 w-4 text-blue-600"}),a.jsx("div",{className:"text-sm text-blue-800 font-medium",children:"This dispatch has size breakdown data. Please fill in the actual quantities received for each size."})]})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(g.size_breakdown).map(([B,W])=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(de,{className:"text-sm font-medium text-gray-600",children:["Size ",B," (Expected: ",W,"kg)"]}),a.jsx(qe,{type:"number",step:"0.1",placeholder:"Actual received",className:"h-10 text-sm",onChange:H=>{const X=(parseFloat(H.target.value)||0)-W;S(A=>({...A,sizeDiscrepancies:{...A.sizeDiscrepancies,[parseInt(B)]:X}}))}})]},B))}),Object.keys(N.sizeDiscrepancies).length>0&&a.jsxs("div",{className:"mt-4 p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Size Breakdown Total:"}),a.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[E().toFixed(1)," kg"]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Weight Received:"}),a.jsxs("span",{className:"text-sm font-bold text-green-600",children:[parseFloat(N.actualWeight||"0").toFixed(1)," kg"]})]}),(()=>{const B=E(),W=parseFloat(N.actualWeight||"0"),H=Math.abs(B-W),X=H<=.1;return a.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${X?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsx("span",{className:"text-sm font-medium",children:"Match Status:"}),a.jsx("span",{className:`text-sm font-bold ${X?"text-green-600":"text-red-600"}`,children:X?" Match":` ${H.toFixed(1)}kg difference`})]})})()]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(de,{className:"text-base font-semibold text-gray-700",children:"Quality & Discrepancy Notes"}),a.jsx($a,{placeholder:"Any quality issues, missing items, or other discrepancies...",className:"h-24 text-base",value:N.notes,onChange:B=>S({...N,notes:B.target.value})})]}),a.jsxs("div",{className:"flex flex-col gap-4 pt-6",children:[!q()&&a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wt,{className:"h-4 w-4 text-amber-600"}),a.jsx("div",{className:"text-sm text-amber-800 font-medium",children:(()=>{const B=E(),W=parseFloat(N.actualWeight||"0"),H=Math.abs(B-W),X=g?.size_breakdown&&Object.keys(g.size_breakdown).length>0,A=Object.keys(N.sizeDiscrepancies).length>0;return X&&!A?"This dispatch has size breakdown data. Please fill in the size discrepancies section below.":B>0&&H>.1?`Size breakdown total (${B.toFixed(1)}kg) does not match total weight (${W.toFixed(1)}kg). Please adjust the values.`:"Please fill in all required fields to continue"})()})]})}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx(te,{variant:"outline",onClick:()=>i(!1),className:"px-8 py-3 text-base",children:"Cancel"}),a.jsx(te,{onClick:L,disabled:u||!q(),className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 px-8 py-3 text-base disabled:opacity-50 disabled:cursor-not-allowed",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Tt,{className:"w-4 h-4 mr-2 animate-spin"}),"Recording..."]}):"Record Receiving"})]})]})]})]})]})]})," "]}),"   ",a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-green-50 to-emerald-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-green-600 uppercase tracking-wide",children:"Total Records"}),a.jsx("p",{className:"text-4xl font-bold text-green-900 mt-2",children:U.totalReceivings})]}),a.jsx("div",{className:"p-4 bg-green-600 rounded-2xl shadow-lg",children:a.jsx(Kl,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-emerald-50 to-green-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-600 uppercase tracking-wide",children:"Confirmed"}),a.jsx("p",{className:"text-4xl font-bold text-emerald-900 mt-2",children:U.confirmed})]}),a.jsx("div",{className:"p-4 bg-emerald-600 rounded-2xl shadow-lg",children:a.jsx(Je,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-red-50 to-red-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-red-600 uppercase tracking-wide",children:"Disputed"}),a.jsx("p",{className:"text-4xl font-bold text-red-900 mt-2",children:U.disputed})]}),a.jsx("div",{className:"p-4 bg-red-600 rounded-2xl shadow-lg",children:a.jsx(wt,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide",children:"Total Weight"}),a.jsx("p",{className:"text-4xl font-bold text-blue-900 mt-2",children:U.totalWeight.toFixed(1)}),a.jsx("p",{className:"text-sm text-blue-600",children:"kg"})]}),a.jsx("div",{className:"p-4 bg-blue-600 rounded-2xl shadow-lg",children:a.jsx(Xr,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-50 to-purple-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-purple-600 uppercase tracking-wide",children:"Total Value"}),a.jsx("p",{className:"text-3xl font-bold text-purple-900 mt-2",children:se(U.totalValue)})]}),a.jsx("div",{className:"p-4 bg-purple-600 rounded-2xl shadow-lg",children:a.jsx(oP,{className:"h-8 w-8 text-white"})})]})})})]}),a.jsxs(le,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-t-3xl",children:a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(Ng,{className:"h-8 w-8 text-green-600"}),"Receiving Records by Size"]})}),a.jsx(he,{className:"p-8",children:o?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-4",children:"Loading receiving records..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Kl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No receiving records found"}),a.jsx("p",{className:"text-gray-500",children:"Start by recording your first outlet receiving"})]}):a.jsx("div",{className:"space-y-6",children:Object.entries(P(r)).map(([B,W])=>a.jsxs("div",{className:"border-2 border-gray-100 rounded-3xl p-6 hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-white to-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>$(B),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(fn,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:B}),a.jsx("p",{className:"text-sm text-gray-500",children:W[0]?.dispatch?.outlet_order?.outlet?.location||"Unknown Location"})]})]}),a.jsxs(pe,{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[W.length," ",W.length===1?"Order":"Orders"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Total Received: ",W.reduce((H,X)=>H+(X.actual_weight_received||0),0).toFixed(1)," kg"]}),a.jsx(qa,{className:`h-5 w-5 text-gray-400 transition-transform duration-200 ${w.has(B)?"rotate-180":""}`})]})]}),w.has(B)&&a.jsx("div",{className:"mt-6 space-y-4",children:W.map((H,X)=>{const A=oe(H.expected_weight||0,H.actual_weight_received||0),ce=oe(H.expected_value||0,H.actual_value_received||0);return a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 hover:shadow-lg transition-all duration-200",children:a.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Kl,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:O(H.displayIndex||X)})]}),a.jsx(pe,{className:`text-sm font-semibold px-3 py-1 rounded-xl ${R(H.status)}`,children:H.status.toUpperCase()}),a.jsx(pe,{className:`text-sm font-semibold px-3 py-1 rounded-xl ${Y(H.condition)}`,children:H.condition.toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(It,{className:"h-4 w-4 text-green-500"}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium",children:["Order: ",H.dispatch?.outlet_order?.order_number||`ORD-${H.dispatch_id?.slice(-6)}`]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Dispatch: ",H.dispatch?.destination||`DSP-${H.dispatch_id?.slice(-6)}`]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(Je,{className:"h-4 w-4 text-purple-500"}),a.jsxs("span",{className:"text-sm font-medium",children:["By: ",H.received_by_user?`${H.received_by_user.first_name} ${H.received_by_user.last_name}`:"Unknown"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(Pr,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-sm font-medium",children:new Date(H.received_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(Hn,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{className:"text-sm font-medium",children:[H.actual_weight_received||0," kg"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Hn,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Weight"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Expected:"}),a.jsxs("span",{className:"font-medium",children:[H.expected_weight||0," kg"]})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Received:"}),a.jsxs("span",{className:"font-medium text-green-600",children:[H.actual_weight_received||0," kg"]})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Diff:"}),a.jsxs("span",{className:`font-medium ${A.diff>=0?"text-green-600":"text-red-600"}`,children:[A.diff>=0?"+":"",A.diff.toFixed(2)," kg"]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ds,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Value"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Expected:"}),a.jsxs("span",{className:"font-medium",children:["KSh ",(H.expected_value||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Received:"}),a.jsxs("span",{className:"font-medium text-green-600",children:["KSh ",(H.actual_value_received||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:"Diff:"}),a.jsxs("span",{className:`font-medium ${ce.diff>=0?"text-green-600":"text-red-600"}`,children:[ce.diff>=0?"+":"","KSh ",ce.diff.toLocaleString()]})]})]})]})]}),H.discrepancy_notes&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(wt,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-yellow-800 text-sm mb-1",children:"Discrepancy Notes"}),a.jsx("div",{className:"text-xs text-yellow-700",children:H.discrepancy_notes})]})]})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(te,{variant:"outline",size:"sm",className:"h-10 px-4 border-2 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300",onClick:()=>T(H),children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"View Details"]}),a.jsxs(te,{variant:"outline",size:"sm",className:"h-10 px-4 border-2 border-green-200 text-green-700 hover:bg-green-50 hover:border-green-300",children:[a.jsx(No,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})},H.id)})})]},B))})})]})]}),a.jsx(Rt,{open:v,onOpenChange:j,children:a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Lt,{children:a.jsxs(zt,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(Jt,{className:"h-6 w-6 text-blue-600"}),"Receiving Record Details - ",x&&O(0)]})}),x&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Outlet Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",x.dispatch?.outlet_order?.outlet?.name||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Location:"})," ",x.dispatch?.outlet_order?.outlet?.location||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Order Number:"})," ",x.dispatch?.outlet_order?.order_number||"N/A"]})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"Receiving Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Received By:"})," ",x.received_by_user?`${x.received_by_user.first_name} ${x.received_by_user.last_name}`:"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(x.received_date).toLocaleDateString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",a.jsx(pe,{className:R(x.status),children:x.status.toUpperCase()})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5 text-blue-600"}),"Weight Details"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Expected Weight:"}),a.jsxs("span",{className:"font-medium",children:[x.expected_weight||0," kg"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Actual Weight:"}),a.jsxs("span",{className:"font-medium text-green-600",children:[x.actual_weight_received||0," kg"]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2",children:[a.jsx("span",{className:"text-gray-600",children:"Difference:"}),a.jsxs("span",{className:`font-medium ${(x.actual_weight_received||0)>=(x.expected_weight||0)?"text-green-600":"text-red-600"}`,children:[(x.actual_weight_received||0)-(x.expected_weight||0)>=0?"+":"",((x.actual_weight_received||0)-(x.expected_weight||0)).toFixed(2)," kg"]})]})]})]})}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[a.jsxs("h3",{className:"font-semibold text-purple-900 mb-3 flex items-center gap-2",children:[a.jsx(ds,{className:"h-5 w-5 text-purple-600"}),"Value Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Expected Value"}),a.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["KSh ",(x.expected_value||0).toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Actual Value"}),a.jsxs("div",{className:"text-lg font-bold text-green-600",children:["KSh ",(x.actual_value_received||0).toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Difference"}),a.jsxs("div",{className:`text-lg font-bold ${(x.actual_value_received||0)-(x.expected_value||0)>=0?"text-green-600":"text-red-600"}`,children:[(x.actual_value_received||0)-(x.expected_value||0)>=0?"+":"","KSh ",((x.actual_value_received||0)-(x.expected_value||0)).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-orange-900 mb-3",children:"Condition"}),a.jsx(pe,{className:Y(x.condition),children:x.condition.toUpperCase()})]}),x.discrepancy_notes&&a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl",children:[a.jsxs("h3",{className:"font-semibold text-yellow-900 mb-3 flex items-center gap-2",children:[a.jsx(wt,{className:"h-5 w-5 text-yellow-600"}),"Discrepancy Notes"]}),a.jsx("p",{className:"text-sm text-yellow-800",children:x.discrepancy_notes})]})]}),x.size_discrepancies&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Size Discrepancies"}),a.jsx("div",{className:"text-sm text-gray-700",children:K(x.size_discrepancies)})]})]})]})})]})}const h1e=Object.freeze(Object.defineProperty({__proto__:null,default:u1e},Symbol.toStringTag,{value:"Module"}));function wD({className:e,...t}){return a.jsx(w8,{"data-slot":"tabs",className:Qe("flex flex-col gap-2",e),...t})}function jD({className:e,...t}){return a.jsx(j8,{"data-slot":"tabs-list",className:Qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function yn({className:e,...t}){return a.jsx(_8,{"data-slot":"tabs-trigger",className:Qe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function vn({className:e,...t}){return a.jsx(N8,{"data-slot":"tabs-content",className:Qe("flex-1 outline-none",e),...t})}function f1e({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(W8,{showOutsideDays:r,className:Qe("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Qe($w({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Qe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Qe($w({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:s,...i})=>a.jsx(lP,{className:Qe("size-4",s),...i}),IconRight:({className:s,...i})=>a.jsx(_g,{className:Qe("size-4",s),...i})},...n})}function m1e({...e}){return a.jsx(tA,{"data-slot":"popover",...e})}function p1e({...e}){return a.jsx(rA,{"data-slot":"popover-trigger",...e})}function g1e({className:e,align:t="center",sideOffset:r=4,...n}){return a.jsx(nA,{children:a.jsx(aA,{"data-slot":"popover-content",align:t,sideOffset:r,className:Qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}class x1e{async getOverallStats(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>{let T=Q.from("warehouse_entries").select("total_weight, total_pieces, total_value");return r&&(T=T.gte("entry_date",r)),n&&(T=T.lte("entry_date",n)),await T},2,1e3);if(i)throw i;const{data:o,error:l}=await _e(async()=>{let T=Q.from("processing_records").select("pre_processing_weight, post_processing_weight, processing_waste, processing_yield");return r&&(T=T.gte("processing_date",r)),n&&(T=T.lte("processing_date",n)),await T});if(l)throw l;const{data:c,error:d}=await _e(async()=>{let T=Q.from("outlet_orders").select("total_value, status");return r&&(T=T.gte("order_date",r)),n&&(T=T.lte("order_date",n)),await T});if(d)throw d;const{data:u,error:h}=await _e(async()=>{let T=Q.from("dispatch_records").select("status, dispatch_date");return r&&(T=T.gte("dispatch_date",r)),n&&(T=T.lte("dispatch_date",n)),await T});if(h)throw h;const f=s?.length||0,m=s?.reduce((T,I)=>T+(I.total_weight||0),0)||0,g=s?.reduce((T,I)=>T+(I.total_value||0),0)||0,p=o?.length||0,x=o?.length>0?o.reduce((T,I)=>T+(I.processing_yield||0),0)/o.length:0,y=o?.reduce((T,I)=>T+(I.processing_waste||0),0)||0,v=o?.reduce((T,I)=>T+(I.pre_processing_weight||0),0)||0,j=v>0?y/v*100:0,w=c?.length||0,k=u?.length||0,N=u?.filter(T=>T.status==="delivered").length||0,S=k>0?N/k*100:0,{data:O,error:P}=await _e(async()=>await Q.from("fish_inventory").select("size, weight"));let $=0;if(!P&&O&&O.length>0){const T=O.reduce((D,E)=>D+E.size*E.weight,0),I=O.reduce((D,E)=>D+E.weight,0);$=I>0?T/I:0}return{totalEntries:f,totalWeight:Number(m.toFixed(2)),totalValue:Number(g.toFixed(2)),totalProcessed:p,averageSize:Number($.toFixed(2)),processingEfficiency:Number(x.toFixed(2)),wastePercentage:Number(j.toFixed(2)),totalOrders:w,totalDispatches:k,onTimeDelivery:Number(S.toFixed(2))}}catch(r){throw new Error($e(r,"fetching overall stats"))}}async getDailyProcessingData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>{let l=Q.from("processing_records").select("processing_date, pre_processing_weight, post_processing_weight, processing_yield").order("processing_date",{ascending:!0});return r&&(l=l.gte("processing_date",r)),n&&(l=l.lte("processing_date",n)),await l});if(i)throw i;const o=(s||[]).reduce((l,c)=>{const d=c.processing_date;return l[d]||(l[d]={date:d,weight:0,pieces:0,efficiency:0,count:0}),l[d].weight+=c.pre_processing_weight||0,l[d].pieces+=1,l[d].efficiency+=c.processing_yield||0,l[d].count+=1,l},{});return Object.values(o).map(l=>({date:l.date,weight:Number(l.weight.toFixed(2)),pieces:l.pieces,efficiency:Number((l.efficiency/l.count).toFixed(2))}))}catch(r){throw new Error($e(r,"fetching daily processing data"))}}async getSizeDistributionData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>{let c=Q.from("processing_records").select("size_distribution, post_processing_weight, processing_date").not("size_distribution","is",null);return r&&(c=c.gte("processing_date",r)),n&&(c=c.lte("processing_date",n)),await c});if(i)throw i;const o={};(s||[]).forEach(c=>{const d=c.size_distribution;d&&typeof d=="object"&&Object.entries(d).forEach(([u,h])=>{const f=parseInt(u),m=c.post_processing_weight||0;o[f]||(o[f]={size:f,quantity:0,weight:0}),o[f].quantity+=h||0;const g=Object.values(d).reduce((p,x)=>p+(x||0),0);g>0&&(o[f].weight+=m*(h||0)/g)})});const l=Object.values(o).reduce((c,d)=>c+d.quantity,0);return Object.values(o).sort((c,d)=>c.size-d.size).map(c=>({size:c.size,quantity:c.quantity,weight:Number(c.weight.toFixed(2)),percentage:l>0?Number((c.quantity/l*100).toFixed(2)):0}))}catch(r){throw new Error($e(r,"fetching size distribution data"))}}async getGradeDistributionData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>{let d=Q.from("processing_records").select("grading_results, post_processing_weight, processing_date").not("grading_results","is",null);return r&&(d=d.gte("processing_date",r)),n&&(d=d.lte("processing_date",n)),await d});if(i)throw i;const o={};(s||[]).forEach(d=>{const u=d.grading_results;u&&typeof u=="object"&&Object.entries(u).forEach(([h,f])=>{o[h]||(o[h]={grade:h,quantity:0}),o[h].quantity+=f||0})});const l=Object.values(o).reduce((d,u)=>d+u.quantity,0),c=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];return Object.values(o).sort((d,u)=>d.grade.localeCompare(u.grade)).map((d,u)=>({grade:d.grade,quantity:d.quantity,percentage:l>0?Number((d.quantity/l*100).toFixed(2)):0,color:c[u%c.length]}))}catch(r){throw new Error($e(r,"fetching grade distribution data"))}}async getFarmerPerformanceData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>await Q.from("farmers").select(`
            id,
            name,
            location,
            rating,
            reliability,
            warehouse_entries(
              entry_date,
              total_weight,
              total_value,
              total_pieces
            )
          `));if(i)throw i;const o=new Map;return(s||[]).forEach(l=>{const c=l.id;o.has(c)||o.set(c,{id:l.id,name:l.name,location:l.location,rating:l.rating||0,reliability:l.reliability||"fair",deliveries:0,totalWeight:0,totalValue:0,totalPieces:0,lastDelivery:null});const d=o.get(c);l.warehouse_entries&&Array.isArray(l.warehouse_entries)&&l.warehouse_entries.forEach(u=>{r&&u.entry_date<r||n&&u.entry_date>n||(d.deliveries+=1,d.totalWeight+=u.total_weight||0,d.totalValue+=u.total_value||0,d.totalPieces+=u.total_pieces||0,(!d.lastDelivery||u.entry_date>d.lastDelivery)&&(d.lastDelivery=u.entry_date))})}),Array.from(o.values()).filter(l=>l.deliveries>0).map(l=>({id:l.id,name:l.name,location:l.location,deliveries:l.deliveries,totalWeight:Number(l.totalWeight.toFixed(2)),totalValue:Number(l.totalValue.toFixed(2)),avgSize:l.totalPieces>0?Number((l.totalWeight/l.totalPieces).toFixed(2)):0,rating:Number(l.rating.toFixed(1)),reliability:l.reliability,lastDelivery:l.lastDelivery})).sort((l,c)=>c.totalValue-l.totalValue)}catch(r){throw new Error($e(r,"fetching farmer performance data"))}}async getOutletPerformanceData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>await Q.from("outlets").select(`
            id,
            name,
            location,
            outlet_orders(
              order_date,
              total_value,
              requested_quantity,
              status,
              dispatch_date,
              completed_date
            )
          `));if(i)throw i;const o=new Map;return(s||[]).forEach(l=>{const c=l.id;o.has(c)||o.set(c,{id:l.id,name:l.name,location:l.location,orders:0,totalWeight:0,totalValue:0,totalQuantity:0,onTimeDeliveries:0,totalDeliveries:0,lastOrder:null});const d=o.get(c);l.outlet_orders&&Array.isArray(l.outlet_orders)&&l.outlet_orders.forEach(u=>{if(!(r&&u.order_date<r)&&!(n&&u.order_date>n)&&(d.orders+=1,d.totalValue+=u.total_value||0,d.totalQuantity+=u.requested_quantity||0,(!d.lastOrder||u.order_date>d.lastOrder)&&(d.lastOrder=u.order_date),u.dispatch_date&&u.completed_date)){d.totalDeliveries+=1;const h=new Date(u.dispatch_date),f=new Date(u.completed_date);Math.abs(f.getTime()-h.getTime())/(1e3*60*60*24)<=1&&(d.onTimeDeliveries+=1)}})}),Array.from(o.values()).filter(l=>l.orders>0).map(l=>({id:l.id,name:l.name,location:l.location,orders:l.orders,totalWeight:Number(l.totalQuantity.toFixed(2)),totalValue:Number(l.totalValue.toFixed(2)),avgOrderSize:l.orders>0?Number((l.totalQuantity/l.orders).toFixed(2)):0,onTimeDelivery:l.totalDeliveries>0?Number((l.onTimeDeliveries/l.totalDeliveries*100).toFixed(2)):0,lastOrder:l.lastOrder})).sort((l,c)=>c.totalValue-l.totalValue)}catch(r){throw new Error($e(r,"fetching outlet performance data"))}}async getInventoryData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>await Q.from("storage_locations").select("id, name"));if(i)throw i;const o=new Map;s?.forEach(u=>{o.set(u.id,u.name)});const{data:l,error:c}=await _e(async()=>{let u=Q.from("sorting_results").select(`
            id,
            size_class,
            total_pieces,
            total_weight_grams,
            storage_location_id,
            sorting_batch_id,
            sorting_batch:sorting_batches(
              id,
              batch_number,
              status,
              created_at,
              processing_record:processing_records(
                id,
                processing_date,
                grading_results
              )
            )
          `).eq("sorting_batch.status","completed").not("storage_location_id","is",null);return r&&(u=u.gte("sorting_batch.created_at",r)),n&&(u=u.lte("sorting_batch.created_at",n)),await u});if(c)throw c;const d=new Map;return(l||[]).forEach(u=>{const h=u.size_class,f=u.total_pieces||0,m=(u.total_weight_grams||0)/1e3,g=u.storage_location_id,p=o.get(g)||"Unknown Location",x=u.sorting_batch?.created_at||new Date().toISOString(),y=u.sorting_batch?.processing_record?.grading_results,v=y&&typeof y=="object"&&Object.keys(y)[0]||"B",j=`${g}-${h}-${v}`;d.has(j)||d.set(j,{size:h,quantity:0,weight:0,grade:v,location:p,lastUpdated:x,status:"Available"});const w=d.get(j);w.quantity+=f,w.weight+=m,x>w.lastUpdated&&(w.lastUpdated=x)}),Array.from(d.values()).sort((u,h)=>u.location.localeCompare(h.location)||u.size-h.size||u.grade.localeCompare(h.grade)).map(u=>({...u,weight:Number(u.weight.toFixed(2))}))}catch(r){throw new Error($e(r,"fetching inventory data by storage location"))}}async getStorageLocationPerformanceData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>await Q.from("storage_locations").select("*").order("name"));if(i)throw i;const{data:o,error:l}=await _e(async()=>{let d=Q.from("sorting_results").select(`
            id,
            size_class,
            total_pieces,
            total_weight_grams,
            storage_location_id,
            sorting_batch_id,
            sorting_batch:sorting_batches(
              id,
              batch_number,
              status,
              created_at,
              processing_record:processing_records(
                id,
                processing_date,
                grading_results
              )
            )
          `).eq("sorting_batch.status","completed").not("storage_location_id","is",null);return r&&(d=d.gte("sorting_batch.created_at",r)),n&&(d=d.lte("sorting_batch.created_at",n)),await d});if(l)throw l;const c=new Map;return(s||[]).forEach(d=>{c.set(d.id,{id:d.id,name:d.name,description:d.description,locationType:d.location_type,capacityKg:Number(d.capacity_kg||0),temperatureCelsius:d.temperature_celsius,humidityPercent:d.humidity_percent,status:d.status,totalItems:0,totalWeight:0,utilizationPercent:0})}),(o||[]).forEach(d=>{const u=d.total_pieces||0,h=(d.total_weight_grams||0)/1e3,f=d.storage_location_id,m=c.get(f);m&&(m.totalItems+=u,m.totalWeight+=h)}),Array.from(c.values()).map(d=>(d.utilizationPercent=d.capacityKg>0?Number((d.totalWeight/d.capacityKg*100).toFixed(1)):0,d.totalWeight=Number(d.totalWeight.toFixed(2)),d)).sort((d,u)=>d.name.localeCompare(u.name))}catch(r){throw new Error($e(r,"fetching storage location performance data"))}}async getStorageLocationData(t){try{const{startDate:r,endDate:n}=t||{},{data:s,error:i}=await _e(async()=>await Q.from("storage_locations").select("*").order("name"));if(i)throw i;const{data:o,error:l}=await _e(async()=>{let d=Q.from("sorting_results").select(`
            id,
            size_class,
            total_pieces,
            total_weight_grams,
            storage_location_id,
            sorting_batch:sorting_batches(
              id,
              batch_number,
              status,
              created_at,
              processing_record:processing_records(
                id,
                processing_date,
                grading_results
              )
            )
          `).eq("sorting_batch.status","completed").not("storage_location_id","is",null);return r&&(d=d.gte("sorting_batch.created_at",r)),n&&(d=d.lte("sorting_batch.created_at",n)),await d});if(l)throw l;const c=new Map;return(s||[]).forEach(d=>{c.set(d.id,{id:d.id,name:d.name,description:d.description,locationType:d.location_type,capacityKg:Number(d.capacity_kg||0),currentUsageKg:0,temperatureCelsius:d.temperature_celsius,humidityPercent:d.humidity_percent,status:d.status,utilizationPercent:0,inventoryItems:[],totalItems:0,totalWeight:0,sizeDistribution:{},gradeDistribution:{},lastUpdated:d.updated_at||d.created_at})}),(o||[]).forEach(d=>{const u=d.size_class,h=d.total_pieces||0,f=(d.total_weight_grams||0)/1e3,m=d.storage_location_id,g=d.sorting_batch?.created_at||new Date().toISOString(),p=d.sorting_batch?.processing_record?.grading_results,x=p&&typeof p=="object"&&Object.keys(p)[0]||"B",y=c.get(m);y&&(y.inventoryItems.push({size:u,quantity:h,weight:Number(f.toFixed(2)),grade:x,location:y.name,lastUpdated:g,status:"Available"}),y.totalItems+=h,y.totalWeight+=f,y.currentUsageKg+=f,y.sizeDistribution[u]=(y.sizeDistribution[u]||0)+h,y.gradeDistribution[x]=(y.gradeDistribution[x]||0)+h,g>y.lastUpdated&&(y.lastUpdated=g))}),Array.from(c.values()).map(d=>(d.utilizationPercent=d.capacityKg>0?Number((d.currentUsageKg/d.capacityKg*100).toFixed(1)):0,d.totalWeight=Number(d.totalWeight.toFixed(2)),d.currentUsageKg=Number(d.currentUsageKg.toFixed(2)),d.inventoryItems.sort((u,h)=>u.size-h.size||u.grade.localeCompare(h.grade)),d)).sort((d,u)=>d.name.localeCompare(u.name))}catch(r){throw new Error($e(r,"fetching storage location data"))}}getEstimatedWeightPerFish(t){return{0:.2,1:.3,2:.4,3:.5,4:.6,5:.7,6:.8,7:.9,8:1,9:1.1,10:1.2}[t]||.5}async exportToCSV(t,r,n){try{if(!r||r.length===0)throw new Error("No data to export");const s=Object.keys(r[0]),i=[s.join(","),...r.map(d=>s.map(u=>{const h=d[u];return typeof h=="string"&&h.includes(",")?`"${h}"`:h}).join(","))].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);l.setAttribute("href",c),l.setAttribute("download",n||`${t}_report_${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(s){throw new Error(`Failed to export CSV: ${s instanceof Error?s.message:"Unknown error"}`)}}}const Es=new x1e;function y1e(e){const[t,r]=b.useState(null),[n,s]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState([]),[d,u]=b.useState([]),[h,f]=b.useState([]),[m,g]=b.useState([]),[p,x]=b.useState([]),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[k,N]=b.useState(!1),[S,O]=b.useState(!1),[P,$]=b.useState(!1),[T,I]=b.useState(!1),[D,E]=b.useState(!1),[q,F]=b.useState(!1),[V,L]=b.useState(!1),[G,ee]=b.useState(null),ne=b.useCallback(async X=>{w(!0),ee(null);try{const A=await Es.getOverallStats(X);r(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch overall stats")}finally{w(!1)}},[]),R=b.useCallback(async X=>{N(!0),ee(null);try{const A=await Es.getDailyProcessingData(X);s(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch daily processing data")}finally{N(!1)}},[]),Y=b.useCallback(async X=>{O(!0),ee(null);try{const A=await Es.getSizeDistributionData(X);o(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch size distribution data")}finally{O(!1)}},[]),se=b.useCallback(async X=>{$(!0),ee(null);try{const A=await Es.getGradeDistributionData(X);c(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch grade distribution data")}finally{$(!1)}},[]),oe=b.useCallback(async X=>{I(!0),ee(null);try{const A=await Es.getFarmerPerformanceData(X);u(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch farmer performance data")}finally{I(!1)}},[]),K=b.useCallback(async X=>{E(!0),ee(null);try{const A=await Es.getOutletPerformanceData(X);f(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch outlet performance data")}finally{E(!1)}},[]),U=b.useCallback(async X=>{F(!0),ee(null);try{const A=await Es.getInventoryData(X);g(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch inventory data")}finally{F(!1)}},[]),B=b.useCallback(async X=>{L(!0),ee(null);try{const A=await Es.getStorageLocationPerformanceData(X);x(A)}catch(A){ee(A instanceof Error?A.message:"Failed to fetch storage location data")}finally{L(!1)}},[]),W=b.useCallback(async X=>{v(!0),ee(null);try{await Promise.all([ne(X),R(X),Y(X),se(X),oe(X),K(X),U(X),B(X)])}catch(A){ee(A instanceof Error?A.message:"Failed to refresh data")}finally{v(!1)}},[ne,R,Y,se,oe,K,U,B]),H=b.useCallback(async(X,A,ce)=>{try{await Es.exportToCSV(X,A,ce)}catch(we){throw ee(we instanceof Error?we.message:"Failed to export report"),we}},[]);return b.useEffect(()=>{let X=!0;return(async()=>{if(X){v(!0),ee(null);try{await Promise.all([ne(e),R(e),Y(e),se(e),oe(e),K(e),U(e),B(e)])}catch(A){X&&ee(A instanceof Error?A.message:"Failed to load initial data")}finally{X&&v(!1)}}})(),()=>{X=!1}},[]),{overallStats:t,dailyProcessingData:n,sizeDistributionData:i,gradeDistributionData:l,farmerPerformanceData:d,outletPerformanceData:h,inventoryData:m,storageLocationData:p,loading:y,loadingStats:j,loadingDaily:k,loadingSize:S,loadingGrade:P,loadingFarmers:T,loadingOutlets:D,loadingInventory:q,loadingStorageLocations:V,error:G,refreshData:W,refreshStats:ne,refreshDaily:R,refreshSize:Y,refreshGrade:se,refreshFarmers:oe,refreshOutlets:K,refreshInventory:U,refreshStorageLocations:B,exportReport:H}}function v1e({onNavigate:e}){const[t,r]=b.useState("overview"),[n,s]=b.useState(),[i,o]=b.useState(!1),l={startDate:n?.from?da(n.from,"yyyy-MM-dd"):void 0,endDate:n?.to?da(n.to,"yyyy-MM-dd"):void 0},{overallStats:c,dailyProcessingData:d,sizeDistributionData:u,gradeDistributionData:h,farmerPerformanceData:f,outletPerformanceData:m,storageLocationData:g,loading:p,loadingStats:x,loadingDaily:y,loadingSize:v,loadingGrade:j,loadingFarmers:w,loadingOutlets:k,loadingStorageLocations:N,error:S,refreshData:O,exportReport:P}=y1e(l),$=D=>`KES ${D.toLocaleString()}`,T=D=>D>=0?a.jsx(_n,{className:"h-4 w-4 text-green-500"}):a.jsx(qj,{className:"h-4 w-4 text-red-500"});b.useEffect(()=>{(n?.from||n?.to)&&(o(!1),O(l))},[n?.from,n?.to]),b.useEffect(()=>{if(p){const D=setTimeout(()=>{o(!0)},1e4);return()=>clearTimeout(D)}else o(!1)},[p]);const I=async D=>{try{let E=[],q="";switch(D){case"overall":c&&(E=[c],q="overall_stats");break;case"daily":E=d,q="daily_processing";break;case"size":E=u,q="size_distribution";break;case"grade":E=h,q="grade_distribution";break;case"farmers":E=f,q="farmer_performance";break;case"outlets":E=m,q="outlet_performance";break;case"inventory":E=g,q="storage_location_report";break;default:throw new Error("Invalid report type")}if(E.length>0)await P(D,E,q);else throw new Error("No data to export")}catch(E){console.error("Export failed:",E)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(rd,{size:"lg",showText:!1})}),a.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-cyan-600 rounded-2xl shadow-lg",children:a.jsx(fa,{className:"h-10 w-10 text-white"})}),"Reports & Analytics"]}),a.jsx("p",{className:"text-xl text-gray-600 ml-16",children:"Comprehensive fish warehouse management insights  Performance metrics  Trends analysis"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(m1e,{children:[a.jsx(p1e,{asChild:!0,children:a.jsxs(te,{variant:"outline",className:"px-6 py-3 rounded-2xl font-semibold",children:[a.jsx(Ia,{className:"h-5 w-5 mr-2"}),n?.from&&n?.to?`${da(n.from,"MMM dd")} - ${da(n.to,"MMM dd")}`:"Date Range"]})}),a.jsx(g1e,{className:"w-auto p-0",align:"end",children:a.jsx(f1e,{initialFocus:!0,mode:"range",selected:n,onSelect:s,numberOfMonths:2})})]}),a.jsxs(te,{onClick:()=>O(l),disabled:p,variant:"outline",className:"px-6 py-3 rounded-2xl font-semibold",children:[a.jsx(Tt,{className:`h-5 w-5 mr-2 ${p?"animate-spin":""}`}),"Refresh"]}),a.jsxs(te,{onClick:()=>I(t),className:"bg-gradient-to-r from-indigo-600 to-cyan-600 hover:from-indigo-700 hover:to-cyan-700 text-white px-6 py-3 rounded-2xl font-semibold shadow-lg",children:[a.jsx(Uo,{className:"h-5 w-5 mr-2"}),"Export Reports"]})]})]}),(S||i)&&a.jsx(le,{className:"border-red-200 bg-red-50",children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rr,{className:"h-5 w-5 text-red-600"}),a.jsxs("div",{children:[S&&a.jsxs("p",{className:"text-red-800 font-medium",children:["Error loading reports: ",S]}),i&&a.jsx("p",{className:"text-red-800 font-medium",children:"Reports are taking longer than expected to load. This might be due to network issues or database connectivity problems."})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wide",children:"Total Entries"}),a.jsx("p",{className:"text-4xl font-bold text-blue-900 mt-2",children:x?"...":c?.totalEntries||0}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[T(12.5),a.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+12.5%"})]})]}),a.jsx("div",{className:"p-4 bg-blue-600 rounded-2xl shadow-lg",children:a.jsx(It,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-emerald-50 to-emerald-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-600 uppercase tracking-wide",children:"Total Weight"}),a.jsx("p",{className:"text-4xl font-bold text-emerald-900 mt-2",children:x?"...":c?.totalWeight?.toFixed(1)||"0.0"}),a.jsx("p",{className:"text-sm text-emerald-600",children:"kg"})]}),a.jsx("div",{className:"p-4 bg-emerald-600 rounded-2xl shadow-lg",children:a.jsx(Xr,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-50 to-purple-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-purple-600 uppercase tracking-wide",children:"Total Value"}),a.jsx("p",{className:"text-3xl font-bold text-purple-900 mt-2",children:x?"...":$(c?.totalValue||0)}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[T(8.3),a.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+8.3%"})]})]}),a.jsx("div",{className:"p-4 bg-purple-600 rounded-2xl shadow-lg",children:a.jsx(ds,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-orange-50 to-orange-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-orange-600 uppercase tracking-wide",children:"Processing Efficiency"}),a.jsx("p",{className:"text-4xl font-bold text-orange-900 mt-2",children:x?"...":c?.processingEfficiency||0}),a.jsx("p",{className:"text-sm text-orange-600",children:"%"})]}),a.jsx("div",{className:"p-4 bg-orange-600 rounded-2xl shadow-lg",children:a.jsx(Je,{className:"h-8 w-8 text-white"})})]})})}),a.jsx(le,{className:"border-0 shadow-xl bg-gradient-to-br from-cyan-50 to-cyan-100 hover:shadow-2xl transition-all duration-300",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-cyan-600 uppercase tracking-wide",children:"Avg Fish Size"}),a.jsx("p",{className:"text-4xl font-bold text-cyan-900 mt-2",children:x?"...":c?.averageSize||0}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[T(.3),a.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+0.3"})]})]}),a.jsx("div",{className:"p-4 bg-cyan-600 rounded-2xl shadow-lg",children:a.jsx(nt,{className:"h-8 w-8 text-white"})})]})})})]}),a.jsxs(le,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"pb-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-t-3xl",children:a.jsx(Ye,{className:"text-2xl font-bold text-gray-900",children:"Detailed Analytics"})}),a.jsx(he,{className:"p-8",children:a.jsxs(wD,{value:t,onValueChange:r,className:"space-y-8",children:[a.jsxs(jD,{className:"flex w-full bg-white border border-gray-200 rounded-lg p-1 shadow-sm",children:[a.jsx(yn,{value:"overview",className:"flex-1 rounded-md font-medium text-sm px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=inactive]:text-gray-600 hover:text-gray-900 transition-colors",children:"Overview"}),a.jsx(yn,{value:"size-analysis",className:"flex-1 rounded-md font-medium text-sm px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=inactive]:text-gray-600 hover:text-gray-900 transition-colors",children:"Size Analysis"}),a.jsx(yn,{value:"processing",className:"flex-1 rounded-md font-medium text-sm px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=inactive]:text-gray-600 hover:text-gray-900 transition-colors",children:"Processing"}),a.jsx(yn,{value:"orders",className:"flex-1 rounded-md font-medium text-sm px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=inactive]:text-gray-600 hover:text-gray-900 transition-colors",children:"Orders"}),a.jsx(yn,{value:"inventory",className:"flex-1 rounded-md font-medium text-sm px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=inactive]:text-gray-600 hover:text-gray-900 transition-colors",children:"Storage Location"}),a.jsx(yn,{value:"farmers",className:"flex-1 rounded-md font-medium text-sm px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=inactive]:text-gray-600 hover:text-gray-900 transition-colors",children:"Farmers"}),a.jsx(yn,{value:"outlets",className:"flex-1 rounded-md font-medium text-sm px-4 py-2 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=inactive]:text-gray-600 hover:text-gray-900 transition-colors",children:"Outlets"})]}),a.jsx(vn,{value:"overview",className:"space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(le,{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-0 shadow-lg",children:[a.jsx(Ke,{className:"pb-4",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:"Daily Processing Trend"})}),a.jsx(he,{children:y?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-blue-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading processing data..."})]})}):d.length>0?a.jsx(Ml,{width:"100%",height:300,children:a.jsxs(Q7,{data:d,children:[a.jsx(Jl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(is,{dataKey:"date",stroke:"#6b7280"}),a.jsx(os,{stroke:"#6b7280"}),a.jsx(an,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"}}),a.jsx(ii,{type:"monotone",dataKey:"weight",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fa,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No processing data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once processing records are available"})]})})})]}),a.jsxs(le,{className:"p-6 bg-gradient-to-br from-emerald-50 to-green-50 border-0 shadow-lg",children:[a.jsx(Ke,{className:"pb-4",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:"Grade Distribution"})}),a.jsx(he,{children:j?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-green-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading grade data..."})]})}):h.length>0?a.jsx(Ml,{width:"100%",height:300,children:a.jsxs(X7,{children:[a.jsx(_s,{data:h,cx:"50%",cy:"50%",outerRadius:100,dataKey:"quantity",label:({grade:D,percentage:E})=>`${D}: ${E}%`,children:h.map((D,E)=>a.jsx(Xh,{fill:D.color},`cell-${E}`))}),a.jsx(an,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"}})]})}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx($j,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No grade data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once inventory records are available"})]})})})]})]})}),a.jsxs(vn,{value:"size-analysis",className:"space-y-8",children:[a.jsxs(le,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-0 shadow-lg",children:[a.jsx(Ke,{className:"pb-4",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:"Fish Size Distribution (0-10 Scale)"})}),a.jsx(he,{children:v?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-purple-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading size distribution data..."})]})}):u.length>0?a.jsx(Ml,{width:"100%",height:400,children:a.jsxs(Lw,{data:u,children:[a.jsx(Jl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(is,{dataKey:"size",stroke:"#6b7280"}),a.jsx(os,{stroke:"#6b7280"}),a.jsx(an,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"}}),a.jsx(Li,{}),a.jsx(ti,{dataKey:"quantity",fill:"#8b5cf6",radius:[4,4,0,0]})]})}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fa,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No size distribution data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once inventory records are available"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(le,{className:"p-6 bg-gradient-to-br from-orange-50 to-orange-100 border-0 shadow-lg",children:a.jsxs(he,{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-800 mb-2",children:"Small Fish (0-3)"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:v?"...":u.length>0?u.slice(0,4).reduce((D,E)=>D+(E.quantity||0),0):0}),a.jsx("p",{className:"text-sm text-orange-600",children:"pieces"})]})}),a.jsx(le,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-0 shadow-lg",children:a.jsxs(he,{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Medium Fish (4-6)"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:v?"...":u.length>0?u.slice(4,7).reduce((D,E)=>D+(E.quantity||0),0):0}),a.jsx("p",{className:"text-sm text-green-600",children:"pieces"})]})}),a.jsx(le,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 border-0 shadow-lg",children:a.jsxs(he,{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Large Fish (7-10)"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:v?"...":u.length>0?u.slice(7).reduce((D,E)=>D+(E.quantity||0),0):0}),a.jsx("p",{className:"text-sm text-blue-600",children:"pieces"})]})})]})]}),a.jsxs(vn,{value:"processing",className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(le,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-0 shadow-lg",children:[a.jsx(Ke,{className:"pb-4",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:"Processing Efficiency Trend"})}),a.jsx(he,{children:y?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-purple-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading processing efficiency data..."})]})}):d.length>0?a.jsx(Ml,{width:"100%",height:300,children:a.jsxs(Y7,{data:d,children:[a.jsx(Jl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(is,{dataKey:"date",stroke:"#6b7280"}),a.jsx(os,{stroke:"#6b7280"}),a.jsx(an,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"}}),a.jsx(Pd,{type:"monotone",dataKey:"efficiency",stroke:"#8b5cf6",strokeWidth:3})]})}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_n,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No processing efficiency data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once processing records are available"})]})})})]}),a.jsxs(le,{className:"p-6 bg-gradient-to-br from-orange-50 to-red-50 border-0 shadow-lg",children:[a.jsx(Ke,{className:"pb-4",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:"Processing Volume"})}),a.jsx(he,{children:y?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-orange-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading processing volume data..."})]})}):d.length>0?a.jsx(Ml,{width:"100%",height:300,children:a.jsxs(Lw,{data:d,children:[a.jsx(Jl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(is,{dataKey:"date",stroke:"#6b7280"}),a.jsx(os,{stroke:"#6b7280"}),a.jsx(an,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"}}),a.jsx(ti,{dataKey:"weight",fill:"#f97316",radius:[4,4,0,0]})]})}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(nt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No processing volume data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once processing records are available"})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(le,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 border-0 shadow-lg",children:a.jsxs(he,{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Total Processed"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:x?"...":c?.totalProcessed||0}),a.jsx("p",{className:"text-sm text-blue-600",children:"batches"})]})}),a.jsx(le,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-0 shadow-lg",children:a.jsxs(he,{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Avg Efficiency"}),a.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[x?"...":c?.processingEfficiency||0,"%"]}),a.jsx("p",{className:"text-sm text-green-600",children:"yield rate"})]})}),a.jsx(le,{className:"p-6 bg-gradient-to-br from-red-50 to-red-100 border-0 shadow-lg",children:a.jsxs(he,{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Waste Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-red-900",children:[x?"...":c?.wastePercentage||0,"%"]}),a.jsx("p",{className:"text-sm text-red-600",children:"waste percentage"})]})})]})]}),a.jsx(vn,{value:"orders",className:"space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(le,{className:"p-6 bg-gradient-to-br from-indigo-50 to-purple-50 border-0 shadow-lg",children:[a.jsx(Ke,{className:"pb-4",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:"Order Status Distribution"})}),a.jsx(he,{children:k?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-indigo-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading order data..."})]})}):m.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:m.reduce((D,E)=>D+E.orders,0)})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800",children:"Total Value"}),a.jsx("p",{className:"text-xl font-bold text-blue-900",children:$(m.reduce((D,E)=>D+E.totalValue,0))})]})]}),a.jsx("div",{className:"space-y-2",children:m.map((D,E)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:D.name}),a.jsx("p",{className:"text-sm text-gray-500",children:D.location})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[D.orders," orders"]}),a.jsx("p",{className:"text-sm text-gray-600",children:$(D.totalValue)})]})]},E))})]}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(nt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No order data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once orders are created"})]})})})]}),a.jsxs(le,{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 border-0 shadow-lg",children:[a.jsx(Ke,{className:"pb-4",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:"Order Performance Metrics"})}),a.jsx(he,{children:k?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-emerald-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading performance data..."})]})}):m.length>0?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800",children:"Avg Order Size"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[m.length>0?(m.reduce((D,E)=>D+E.avgOrderSize,0)/m.length).toFixed(1):0," kg"]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"On-Time Delivery"}),a.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[m.length>0?(m.reduce((D,E)=>D+E.onTimeDelivery,0)/m.length).toFixed(1):0,"%"]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Top Performing Outlets"}),m.slice(0,3).map((D,E)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["#",E+1]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:D.name}),a.jsx("p",{className:"text-sm text-gray-500",children:D.location})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[D.orders," orders"]}),a.jsxs("p",{className:"text-sm text-green-600",children:[D.onTimeDelivery,"% on-time"]})]})]},E))]})]}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_n,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No performance data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once orders are processed"})]})})})]})]})}),a.jsx(vn,{value:"inventory",className:"space-y-8",children:N?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-blue-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading storage location data..."})]})}):g.length>0?a.jsx("div",{className:"space-y-6",children:(()=>{const D=g.filter(q=>q.totalItems>0),E=g.filter(q=>q.totalItems===0);return a.jsxs(a.Fragment,{children:[D.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Used Storage Locations"}),a.jsx("p",{className:"text-gray-600",children:"Storage areas currently holding inventory"})]}),D.map((q,F)=>{const V=q.capacityKg-q.totalWeight;return a.jsx(le,{className:"border-2 border-gray-100 rounded-3xl p-8 hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-white to-gray-50",children:a.jsx("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-6",children:a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-2xl",children:a.jsx(Vn,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:q.name}),a.jsx("p",{className:"text-gray-500",children:q.description||`${q.locationType?.replace("_"," ")} storage`})]}),a.jsx(pe,{className:`px-3 py-1 rounded-xl ${q.status==="active"?"bg-green-500 text-white":q.status==="maintenance"?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:q.status?.toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:q.totalItems})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Used Weight"}),a.jsxs("p",{className:"text-xl font-bold text-green-900",children:[q.totalWeight,"kg"]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-purple-600",children:"Remaining"}),a.jsxs("p",{className:"text-lg font-bold text-purple-900",children:[V.toFixed(1),"kg"]})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-orange-600",children:"Utilization"}),a.jsxs("p",{className:"text-xl font-bold text-orange-900",children:[q.utilizationPercent,"%"]})]})]})]})})},`used-${F}`)})]}),E.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 mt-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Storage Locations"}),a.jsx("p",{className:"text-gray-600",children:"Storage areas ready for new inventory"})]}),E.map((q,F)=>a.jsx(le,{className:"border-2 border-gray-100 rounded-3xl p-8 hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-white to-gray-50",children:a.jsx("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-6",children:a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gray-100 rounded-2xl",children:a.jsx(Vn,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:q.name}),a.jsx("p",{className:"text-gray-500",children:q.description||`${q.locationType?.replace("_"," ")} storage`})]}),a.jsx(pe,{className:`px-3 py-1 rounded-xl ${q.status==="active"?"bg-green-500 text-white":q.status==="maintenance"?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:q.status?.toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Available Capacity"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[q.capacityKg,"kg"]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-blue-900",children:"Ready for Use"})]})]})]})})},`empty-${F}`))]})]})})()}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Vn,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No storage location data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once storage locations are configured and inventory is processed"})]})})}),a.jsx(vn,{value:"farmers",className:"space-y-8",children:w?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-green-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading farmer performance data..."})]})}):f.length>0?a.jsx("div",{className:"space-y-6",children:f.map((D,E)=>a.jsx(le,{className:"border-2 border-gray-100 rounded-3xl p-8 hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-white to-gray-50",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-2xl",children:a.jsx(Un,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:D.name}),a.jsxs("p",{className:"text-gray-500 flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4"}),D.location]})]}),a.jsx(pe,{className:`px-3 py-1 rounded-xl ${D.reliability==="excellent"?"bg-green-500 text-white":D.reliability==="good"?"bg-blue-500 text-white":"bg-orange-500 text-white"}`,children:D.reliability.toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600",children:"Deliveries"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:D.deliveries})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Total Weight"}),a.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[D.totalWeight,"kg"]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-purple-600",children:"Total Value"}),a.jsx("p",{className:"text-xl font-bold text-purple-900",children:$(D.totalValue)})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-orange-600",children:"Avg Size"}),a.jsx("p",{className:"text-2xl font-bold text-orange-900",children:D.avgSize})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[" ",D.rating]}),a.jsx("div",{className:"text-sm text-gray-500",children:"Rating"})]})]})},E))}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Un,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No farmer data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once farmers and warehouse entries are available"})]})})}),a.jsx(vn,{value:"outlets",className:"space-y-8",children:k?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"h-8 w-8 mx-auto mb-4 animate-spin text-blue-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading outlet performance data..."})]})}):m.length>0?a.jsx("div",{className:"space-y-6",children:m.map((D,E)=>a.jsx(le,{className:"border-2 border-gray-100 rounded-3xl p-8 hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-white to-gray-50",children:a.jsx("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-6",children:a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-2xl",children:a.jsx(fn,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:D.name}),a.jsx("p",{className:"text-gray-500",children:D.location})]}),a.jsxs(pe,{className:`px-3 py-1 rounded-xl ${D.onTimeDelivery>=95?"bg-green-500 text-white":D.onTimeDelivery>=90?"bg-blue-500 text-white":"bg-orange-500 text-white"}`,children:[D.onTimeDelivery,"% ON TIME"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-600",children:"Orders"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:D.orders})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Total Weight"}),a.jsxs("p",{className:"text-xl font-bold text-green-900",children:[D.totalWeight,"kg"]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-purple-600",children:"Total Value"}),a.jsx("p",{className:"text-lg font-bold text-purple-900",children:$(D.totalValue)})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-sm font-semibold text-orange-600",children:"Avg Order Size"}),a.jsxs("p",{className:"text-xl font-bold text-orange-900",children:[D.avgOrderSize,"kg"]})]})]})]})})},E))}):a.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fn,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"No outlet data available"}),a.jsx("p",{className:"text-sm",children:"Data will appear here once outlets and orders are available"})]})})})]})})]})]})})}const b1e=Object.freeze(Object.defineProperty({__proto__:null,default:v1e},Symbol.toStringTag,{value:"Module"}));function Fw({className:e,children:t,...r}){return a.jsxs(cD,{"data-slot":"scroll-area",className:Qe("relative",e),...r,children:[a.jsx(dD,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(w1e,{}),a.jsx(uD,{})]})}function w1e({className:e,orientation:t="vertical",...r}){return a.jsx(W_,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Qe("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:a.jsx(H_,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const El=[{id:"*",name:"All Permissions",description:"Full system access - can do everything (Admin only)",category:"System Administration",icon:"Crown"},{id:"manage_users",name:"Manage Users",description:"Create, edit, and delete user accounts and roles",category:"System Administration",icon:"Users"},{id:"view_audit_logs",name:"View Audit Logs",description:"Access system audit logs and activity history",category:"System Administration",icon:"FileText"},{id:"export_data",name:"Export Data",description:"Export system data in various formats",category:"System Administration",icon:"Download"},{id:"view_dashboard",name:"View Dashboard",description:"Access the main dashboard and overview",category:"Dashboard & Overview",icon:"Home"},{id:"view_fish_entry",name:"View Fish Entry",description:"View fish entry records and warehouse operations",category:"Fish Entry & Warehouse",icon:"Warehouse"},{id:"manage_fish_entry",name:"Manage Fish Entry",description:"Create and update fish entry records",category:"Fish Entry & Warehouse",icon:"Warehouse"},{id:"view_warehouse",name:"View Warehouse",description:"View warehouse storage and operations",category:"Fish Entry & Warehouse",icon:"Package"},{id:"manage_warehouse",name:"Manage Warehouse",description:"Update warehouse storage and operations",category:"Fish Entry & Warehouse",icon:"Package"},{id:"view_processing",name:"View Processing",description:"View fish processing operations and records",category:"Processing Operations",icon:"Scissors"},{id:"manage_processing",name:"Manage Processing",description:"Create and update fish processing operations",category:"Processing Operations",icon:"Scissors"},{id:"view_sorting",name:"View Sorting",description:"View fish sorting operations and records",category:"Processing Operations",icon:"Filter"},{id:"manage_sorting",name:"Manage Sorting",description:"Create and update fish sorting operations",category:"Processing Operations",icon:"Filter"},{id:"view_inventory",name:"View Inventory",description:"View fish inventory and stock levels",category:"Inventory Management",icon:"Package"},{id:"manage_inventory",name:"Manage Inventory",description:"Update inventory records and stock levels",category:"Inventory Management",icon:"Package"},{id:"view_outlet_orders",name:"View Outlet Orders",description:"View outlet order records and status",category:"Outlet Operations",icon:"ShoppingCart"},{id:"manage_outlet_orders",name:"Manage Outlet Orders",description:"Create and update outlet orders",category:"Outlet Operations",icon:"ShoppingCart"},{id:"view_outlet_receiving",name:"View Outlet Receiving",description:"View outlet receiving records and confirmations",category:"Outlet Operations",icon:"CheckSquare"},{id:"manage_outlet_receiving",name:"Manage Outlet Receiving",description:"Update outlet receiving records and confirmations",category:"Outlet Operations",icon:"CheckSquare"},{id:"view_dispatch",name:"View Dispatch",description:"View dispatch operations and delivery records",category:"Dispatch & Delivery",icon:"Truck"},{id:"manage_dispatch",name:"Manage Dispatch",description:"Create and update dispatch operations",category:"Dispatch & Delivery",icon:"Truck"},{id:"view_delivery",name:"View Delivery",description:"View delivery records and status",category:"Dispatch & Delivery",icon:"Truck"},{id:"manage_delivery",name:"Manage Delivery",description:"Update delivery records and status",category:"Dispatch & Delivery",icon:"Truck"},{id:"view_disposal",name:"View Disposal",description:"View disposal records and waste management",category:"Disposal Management",icon:"Trash2"},{id:"manage_disposal",name:"Manage Disposal",description:"Create and update disposal records",category:"Disposal Management",icon:"Trash2"},{id:"view_clients",name:"View Clients",description:"View client information and records",category:"Client Management",icon:"Users"},{id:"manage_clients",name:"Manage Clients",description:"Create and update client records",category:"Client Management",icon:"Users"},{id:"view_reports",name:"View Reports",description:"View system reports and analytics",category:"Reports & Analytics",icon:"BarChart3"},{id:"export_reports",name:"Export Reports",description:"Export reports to CSV and other formats",category:"Reports & Analytics",icon:"Download"}],Cy=["System Administration","Dashboard & Overview","Fish Entry & Warehouse","Processing Operations","Inventory Management","Outlet Operations","Dispatch & Delivery","Disposal Management","Client Management","Reports & Analytics"];function j1e({selectedPermissions:e,onPermissionsChange:t,className:r=""}){const[n,s]=b.useState(!1),[i,o]=b.useState(""),[l,c]=b.useState(Cy),d=b.useRef(null);b.useEffect(()=>{const v=w=>{d.current&&!d.current.contains(w.target)&&(s(!1),o(""))},j=w=>{w.key==="Escape"&&(s(!1),o(""))};return n&&(document.addEventListener("mousedown",v),document.addEventListener("keydown",j)),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",j)}},[n]);const u=El.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.description.toLowerCase().includes(i.toLowerCase())||v.category.toLowerCase().includes(i.toLowerCase())),h=Cy.reduce((v,j)=>(v[j]=u.filter(w=>w.category===j),v),{}),f=v=>{if(v==="*")t(["*"]);else{const j=e.filter(N=>N!=="*"),w=j.includes(v)?j.filter(N=>N!==v):[...j,v],k=[...new Set(w)];t(k)}},m=v=>{c(j=>j.includes(v)?j.filter(w=>w!==v):[...j,v])},g=()=>{t([])},p=()=>{t(["*"])},x=v=>{const j=El.filter(N=>N.category===v).map(N=>N.id),w=[...e.filter(N=>N!=="*"),...j],k=[...new Set(w)];t(k)},y=v=>{const j=El.filter(k=>k.category===v).map(k=>k.id),w=e.filter(k=>!j.includes(k));t(w)};return a.jsxs("div",{ref:d,className:`relative ${r}`,children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>s(!n),className:"w-full justify-between h-auto min-h-[40px] p-3",children:a.jsxs("div",{className:"flex flex-col items-start w-full",children:[a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{className:"text-sm font-medium",children:e.length===0?"Select permissions...":e.includes("*")?"All Permissions":`${e.length} permissions selected`}),n?a.jsx(jc,{className:"h-4 w-4"}):a.jsx(qa,{className:"h-4 w-4"})]}),e.length>0&&e.length<=3&&!e.includes("*")&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2 w-full",children:e.map(v=>{const j=El.find(w=>w.id===v);return a.jsx(pe,{variant:"secondary",className:"text-xs",children:j?.name||v},v)})})]})}),n&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-xl max-h-96",children:[a.jsxs("div",{className:"p-3 border-b",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Wo,{className:"h-4 w-4 text-gray-400"}),a.jsx(qe,{placeholder:"Search permissions...",value:i,onChange:v=>o(v.target.value),className:"flex-1"})]}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx(te,{size:"sm",variant:"outline",onClick:p,children:"Select All"}),a.jsx(te,{size:"sm",variant:"outline",onClick:g,children:"Clear All"})]}),e.length>0&&a.jsxs("div",{className:"text-xs text-gray-600 bg-blue-50 p-2 rounded",children:[a.jsx("strong",{children:"Currently selected:"})," ",e.includes("*")?"All Permissions":e.map(v=>El.find(j=>j.id===v)?.name||v).join(", ")]})]}),a.jsx(Fw,{className:"max-h-80",children:a.jsx("div",{className:"p-2",children:Cy.map(v=>{const j=h[v];if(j.length===0)return null;const w=l.includes(v),k=j.filter(N=>e.includes(N.id)).length;return a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>m(v),className:"flex-1 justify-between p-2 h-auto",children:[a.jsxs("span",{className:"font-medium text-sm",children:[v," (",k,"/",j.length,")"]}),w?a.jsx(jc,{className:"h-4 w-4"}):a.jsx(qa,{className:"h-4 w-4"})]}),w&&a.jsxs("div",{className:"flex gap-1",children:[a.jsx(te,{variant:"outline",size:"sm",onClick:()=>x(v),className:"h-6 px-2 text-xs",title:"Select all in category",children:"All"}),a.jsx(te,{variant:"outline",size:"sm",onClick:()=>y(v),className:"h-6 px-2 text-xs",title:"Clear all in category",children:"Clear"})]})]}),w&&a.jsx("div",{className:"ml-4 space-y-1",children:j.map(N=>{const S=e.includes(N.id);return a.jsx("div",{className:`flex items-start gap-2 p-2 rounded cursor-pointer transition-colors ${S?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,onClick:()=>f(N.id),children:a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${S?"bg-blue-600 border-blue-600":"border-gray-300"}`,children:S&&a.jsx(Bo,{className:"h-3 w-3 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-sm",children:N.name}),N.id==="*"&&a.jsx(pe,{variant:"destructive",className:"text-xs",children:"Admin"})]}),a.jsx("div",{className:"text-xs text-gray-500",children:N.description})]})]})},N.id)})})]},v)})})}),a.jsx("div",{className:"p-3 border-t bg-gray-50",children:a.jsx("div",{className:"flex justify-end",children:a.jsx(te,{size:"sm",onClick:()=>s(!1),className:"h-7 px-3 text-xs",children:"Done"})})}),e.length>0&&a.jsx("div",{className:"p-3 border-t bg-gray-50",children:a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:e.map(v=>{const j=El.find(w=>w.id===v);return a.jsxs(pe,{variant:"secondary",className:"text-xs",children:[j?.name||v,a.jsx(Ys,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:w=>{w.stopPropagation(),f(v)}})]},v)})})})]})]})}const Ay={"System Administration":{icon:Lh,color:"bg-red-100 text-red-800 border-red-200"},"Basic Access":{icon:Ba,color:"bg-blue-100 text-blue-800 border-blue-200"},"Inventory Management":{icon:nt,color:"bg-green-100 text-green-800 border-green-200"},"Processing Operations":{icon:ca,color:"bg-purple-100 text-purple-800 border-purple-200"},"Quality Control":{icon:Je,color:"bg-yellow-100 text-yellow-800 border-yellow-200"},"Farming Operations":{icon:Si,color:"bg-orange-100 text-orange-800 border-orange-200"},"Sales & Customer Management":{icon:Ra,color:"bg-pink-100 text-pink-800 border-pink-200"},"Logistics & Dispatch":{icon:ln,color:"bg-indigo-100 text-indigo-800 border-indigo-200"},"Orders Management":{icon:Um,color:"bg-teal-100 text-teal-800 border-teal-200"},"Warehouse Operations":{icon:Nn,color:"bg-gray-100 text-gray-800 border-gray-200"},"Reports & Analytics":{icon:fa,color:"bg-cyan-100 text-cyan-800 border-cyan-200"}},_1e={"*":Lh,admin_access:or,manage_users:Un,manage_roles:pP,view_audit_logs:us,system_settings:kg,export_data:Uo,basic_access:Ba,read_all_data:Jt,view_inventory:nt,manage_inventory:nt,delete_inventory:Fr,view_processing:ca,manage_processing:ca,delete_processing:Fr,view_quality:Je,manage_quality:Je,delete_quality:Fr,view_farming:Si,manage_farming:Si,delete_farming:Fr,view_harvests:Dv,manage_harvests:Dv,delete_harvests:Fr,view_sales:Ra,manage_sales:Ra,delete_sales:Fr,view_customers:Un,manage_customers:yP,delete_customers:xP,view_logistics:ln,manage_logistics:ln,delete_logistics:Fr,view_dispatch:Cv,manage_dispatch:Cv,delete_dispatch:Fr,view_orders:Um,manage_orders:Um,delete_orders:Fr,view_warehouse:Nn,manage_warehouse:Nn,delete_warehouse:Fr,view_reports:fa,create_reports:dP,export_reports:Uo},Ty=[{id:"*",name:"All Permissions",description:"Full system access - can do everything (Admin only)",category:"System Administration"},{id:"admin_access",name:"Admin Access",description:"Full administrative access to all system functions",category:"System Administration"},{id:"manage_users",name:"Manage Users",description:"Create, edit, and delete user accounts",category:"System Administration"},{id:"manage_roles",name:"Manage Roles",description:"Create, edit, and delete user roles and permissions",category:"System Administration"},{id:"view_audit_logs",name:"View Audit Logs",description:"Access system audit logs and activity history",category:"System Administration"},{id:"system_settings",name:"System Settings",description:"Configure system-wide settings and preferences",category:"System Administration"},{id:"export_data",name:"Export Data",description:"Export system data in various formats",category:"System Administration"},{id:"basic_access",name:"Basic Access",description:"Basic system access and navigation",category:"Basic Access"},{id:"read_all_data",name:"Read All Data",description:"View all system data without modification rights",category:"Basic Access"},{id:"view_inventory",name:"View Inventory",description:"View fish inventory and stock levels",category:"Inventory Management"},{id:"manage_inventory",name:"Manage Inventory",description:"Add, update, and modify inventory records",category:"Inventory Management"},{id:"delete_inventory",name:"Delete Inventory",description:"Remove inventory records and items",category:"Inventory Management"},{id:"view_processing",name:"View Processing",description:"View fish processing operations and records",category:"Processing Operations"},{id:"manage_processing",name:"Manage Processing",description:"Create and update processing operations",category:"Processing Operations"},{id:"delete_processing",name:"Delete Processing",description:"Remove processing records and operations",category:"Processing Operations"},{id:"view_quality",name:"View Quality",description:"View quality control records and assessments",category:"Quality Control"},{id:"manage_quality",name:"Manage Quality",description:"Create and update quality control assessments",category:"Quality Control"},{id:"delete_quality",name:"Delete Quality",description:"Remove quality control records",category:"Quality Control"},{id:"view_farming",name:"View Farming",description:"View farming operations and records",category:"Farming Operations"},{id:"manage_farming",name:"Manage Farming",description:"Create and update farming operations",category:"Farming Operations"},{id:"delete_farming",name:"Delete Farming",description:"Remove farming operation records",category:"Farming Operations"},{id:"view_harvests",name:"View Harvests",description:"View harvest records and data",category:"Farming Operations"},{id:"manage_harvests",name:"Manage Harvests",description:"Create and update harvest records",category:"Farming Operations"},{id:"delete_harvests",name:"Delete Harvests",description:"Remove harvest records",category:"Farming Operations"},{id:"view_sales",name:"View Sales",description:"View sales records and transactions",category:"Sales & Customer Management"},{id:"manage_sales",name:"Manage Sales",description:"Create and update sales transactions",category:"Sales & Customer Management"},{id:"delete_sales",name:"Delete Sales",description:"Remove sales records and transactions",category:"Sales & Customer Management"},{id:"view_customers",name:"View Customers",description:"View customer information and records",category:"Sales & Customer Management"},{id:"manage_customers",name:"Manage Customers",description:"Create and update customer information",category:"Sales & Customer Management"},{id:"delete_customers",name:"Delete Customers",description:"Remove customer records",category:"Sales & Customer Management"},{id:"view_logistics",name:"View Logistics",description:"View logistics and transportation records",category:"Logistics & Dispatch"},{id:"manage_logistics",name:"Manage Logistics",description:"Create and update logistics operations",category:"Logistics & Dispatch"},{id:"delete_logistics",name:"Delete Logistics",description:"Remove logistics records",category:"Logistics & Dispatch"},{id:"view_dispatch",name:"View Dispatch",description:"View dispatch records and deliveries",category:"Logistics & Dispatch"},{id:"manage_dispatch",name:"Manage Dispatch",description:"Create and update dispatch operations",category:"Logistics & Dispatch"},{id:"delete_dispatch",name:"Delete Dispatch",description:"Remove dispatch records",category:"Logistics & Dispatch"},{id:"view_orders",name:"View Orders",description:"View outlet orders and requests",category:"Orders Management"},{id:"manage_orders",name:"Manage Orders",description:"Create, update, and process orders",category:"Orders Management"},{id:"delete_orders",name:"Delete Orders",description:"Remove order records",category:"Orders Management"},{id:"view_warehouse",name:"View Warehouse",description:"View warehouse operations and storage",category:"Warehouse Operations"},{id:"manage_warehouse",name:"Manage Warehouse",description:"Create and update warehouse operations",category:"Warehouse Operations"},{id:"delete_warehouse",name:"Delete Warehouse",description:"Remove warehouse operation records",category:"Warehouse Operations"},{id:"view_reports",name:"View Reports",description:"View system reports and analytics",category:"Reports & Analytics"},{id:"create_reports",name:"Create Reports",description:"Generate custom reports and analytics",category:"Reports & Analytics"},{id:"export_reports",name:"Export Reports",description:"Export reports to CSV and other formats",category:"Reports & Analytics"}];function N1e({className:e="",showAsModal:t=!1,onClose:r}){const{userProfile:n,userRole:s,permissions:i,loading:o}=Y0(),[l,c]=b.useState(!1),d=o?[]:!i||i.length===0?[]:i.includes("*")?Ty:i.map(m=>Ty.find(g=>g.id===m)).filter(Boolean),u=d.reduce((m,g)=>(m[g.category]||(m[g.category]=[]),m[g.category].push(g),m),{}),h=i.includes("*"),f=()=>a.jsxs("div",{className:e,children:[o&&a.jsx(le,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:a.jsx(or,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm text-gray-900",children:"Loading permissions..."}),a.jsx("p",{className:"text-xs text-gray-600",children:"Please wait while we fetch your permissions"})]})]})})}),!o&&(!n||!i)&&a.jsx(le,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:a.jsx(or,{className:"h-4 w-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm text-gray-900",children:"Unable to load permissions"}),a.jsx("p",{className:"text-xs text-gray-600",children:"There was an issue loading your permissions. Please try refreshing the page."})]})]})})}),!o&&n&&i&&a.jsxs(le,{children:[a.jsx(Ke,{className:"pb-3",children:a.jsxs(Ye,{className:"flex items-center gap-2 text-lg",children:[a.jsx(or,{className:"h-5 w-5 text-blue-600"}),"Your Permissions"]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:a.jsx(yu,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-semibold text-sm text-blue-900",children:[n?.first_name," ",n?.last_name]}),a.jsx("p",{className:"text-xs text-blue-600",children:n?.email})]}),a.jsx(pe,{className:"bg-blue-100 text-blue-800 border-blue-200",children:s?.name?.replace("_"," ").toUpperCase()||s?.display_name?.toUpperCase()||"USER"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Permissions:"}),a.jsx(pe,{variant:"outline",className:"bg-white",children:h?"All Permissions":`${d.length} permissions`})]}),h&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx(Lh,{className:"h-4 w-4"}),a.jsx("span",{children:"You have full administrative access to the system"})]})]}),!h&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-sm text-gray-700",children:"Permission Categories"}),a.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"h-6 px-2 text-xs",children:[l?"Collapse":"Expand"," All",a.jsx(_g,{className:`h-3 w-3 ml-1 transition-transform ${l?"rotate-90":""}`})]})]}),a.jsx(Fw,{className:"max-h-96",children:a.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([m,g])=>{const p=Ay[m]?.icon||or;return Ay[m]?.color,a.jsxs("div",{className:"border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border-b",children:[a.jsx(p,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{className:"font-medium text-sm text-gray-700",children:m}),a.jsxs(pe,{variant:"outline",className:"ml-auto text-xs",children:[g.length," permissions"]})]}),a.jsx("div",{className:"p-3 space-y-2",children:g.map(x=>{const y=_1e[x.id]||fP;return a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border",children:[a.jsx(y,{className:"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm text-gray-900",children:x.name}),a.jsx("p",{className:"text-xs text-gray-500",children:x.description})]})]},x.id)})})]},m)})})})]}),h&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-sm text-gray-700",children:"Available System Permissions"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(Ay).map(([m,g])=>{const p=g.icon,x=Ty.filter(y=>y.category===m);return a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(p,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{className:"font-medium text-sm text-gray-700",children:m}),a.jsx(pe,{variant:"outline",className:"ml-auto text-xs",children:x.length})]}),a.jsxs("div",{className:"space-y-1",children:[x.slice(0,3).map(y=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600",children:y.name})]},y.id)),x.length>3&&a.jsxs("div",{className:"text-xs text-gray-500 ml-3.5",children:["+",x.length-3," more permissions"]})]})]},m)})})]})]})]})]});return t?a.jsx(Rt,{open:!0,onOpenChange:r,children:a.jsxs(Mt,{className:"max-w-4xl max-h-[80vh]",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-blue-600"}),"Your Role & Permissions"]}),a.jsx(sn,{children:"View your assigned role and the permissions you have in the Fish Management System"})]}),a.jsx(Fw,{className:"max-h-[60vh]",children:a.jsx(f,{})})]})}):a.jsx(f,{})}function k1e({onNavigate:e}){const[t,r]=b.useState([]),[n,s]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState([]),[d,u]=b.useState([]),[h,f]=b.useState([]),[m,g]=b.useState([]),[p,x]=b.useState({provider:"sendgrid",from_email:"noreply@riofish.com",from_name:"RioFish System",api_key:""}),[y,v]=b.useState(!0),[j,w]=b.useState("users"),[k,N]=b.useState(!1),[S,O]=b.useState(!1),[P,$]=b.useState(!1),[T,I]=b.useState(!1),[D,E]=b.useState(!1),[q,F]=b.useState(!1),[V,L]=b.useState(!1),[G,ee]=b.useState(!1),[ne,R]=b.useState(!1),[Y,se]=b.useState(null),[oe,K]=b.useState(null),[U,B]=b.useState(null),[W,H]=b.useState(null),[X,A]=b.useState(""),[ce,we]=b.useState("all"),[Ee,Se]=b.useState("all"),[Te,Ie]=b.useState(null),[Ue,er]=b.useState({}),[J,be]=b.useState({isValid:!0,message:""}),[We,at]=b.useState({isValid:!0,message:""}),[Oe,Ne]=b.useState({isValid:!0,message:""}),[ke,Ae]=b.useState({email:"",first_name:"",last_name:"",role:"",phone:"",is_active:!0,password:"",confirm_password:""}),[Z,je]=b.useState({name:"",display_name:"",description:"",permissions:[],icon:"Shield",color:"bg-gray-100 text-gray-800 border-gray-200",is_active:!0}),st=async C=>{if(!C||C.length<3){be({isValid:!0,message:""});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C)){be({isValid:!1,message:"Please enter a valid email address"});return}try{let ae=Q.from("profiles").select("id").eq("email",C.toLowerCase().trim());Y?.id&&(ae=ae.neq("id",Y.id));const{data:rt,error:ge}=await ae;if(ge&&ge.code!=="PGRST116"){be({isValid:!0,message:""});return}rt&&rt.length>0?be({isValid:!1,message:"This email is already in use"}):be({isValid:!0,message:"Email is available"})}catch{be({isValid:!0,message:""})}},St=async C=>{if(!C||C.length<6){at({isValid:!1,message:"Password must be at least 6 characters long"});return}try{const{data:ae,error:rt}=await Q.from("profiles").select("password_hash").not("password_hash","is",null);if(rt){at({isValid:!0,message:""});return}if(ae&&ae.length>0){const ge=await mr(()=>Q0(()=>Promise.resolve().then(()=>Oy),void 0).then(yt=>yt.bt),[]);for(const yt of ae)if(yt.password_hash&&await ge.compare(C,yt.password_hash)){at({isValid:!1,message:"This password is already in use"});return}}at({isValid:!0,message:"Password is available"})}catch{at({isValid:!0,message:""})}},Ft=async C=>{if(!C||C.trim()===""){Ne({isValid:!0,message:""});return}if(!/^[\+]?[1-9][\d]{0,15}$/.test(C.replace(/[\s\-\(\)]/g,""))){Ne({isValid:!1,message:"Please enter a valid phone number"});return}try{let ae=Q.from("profiles").select("id").eq("phone",C.trim());Y?.id&&(ae=ae.neq("id",Y.id));const{data:rt,error:ge}=await ae;if(ge&&ge.code!=="PGRST116"){Ne({isValid:!0,message:""});return}rt&&rt.length>0?Ne({isValid:!1,message:"This phone number is already in use"}):Ne({isValid:!0,message:"Phone number is available"})}catch{Ne({isValid:!0,message:""})}},[M,re]=b.useState({name:"",phone:"",location:"",rating:0,reliability:"fair",status:"active"}),[ue,Ce]=b.useState({name:"",description:"",capacity_kg:1e3,temperature_celsius:4,humidity_percent:85,location_type:"cold_storage",status:"active"}),[xe,me]=b.useState({name:"",location:"",phone:"",manager_name:"",status:"active"}),pt=async()=>{try{const{data:C,error:ae}=await Q.from("user_roles").select("*").order("name");if(ae)throw ae;s(C||[])}catch(C){console.warn("Could not fetch roles:",C),s([])}},mt=async()=>{try{const{data:C,error:ae}=await Q.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(ae)console.warn("Could not fetch audit logs:",ae),o([]);else{const rt=await Promise.all((C||[]).map(async ge=>{if(ge.user_id)try{const{data:yt}=await Q.from("profiles").select("first_name, last_name, email").eq("id",ge.user_id).single();return{...ge,user:yt}}catch(yt){return console.warn("Could not fetch user for audit log:",yt),ge}return ge}));o(rt)}}catch(C){console.warn("Could not fetch audit logs:",C),o([])}},gt=C=>{const ae=C.user?`${C.user.first_name} ${C.user.last_name}`:"Unknown User",rt=C.action.toLowerCase(),ge=C.table_name.toLowerCase().replace("_"," ");let yt=null,At=null;try{yt=C.old_values?JSON.parse(C.old_values):null,At=C.new_values?JSON.parse(C.new_values):null}catch{}switch(rt){case"insert":switch(ge){case"profiles":return`${ae} created a new user account${At?.email?` (${At.email})`:""}`;case"farmers":return`${ae} added a new farmer${At?.name?` (${At.name})`:""}`;case"warehouse entries":const Ed=At?.fish_type||"fish",ao=At?.total_weight?`${At.total_weight}kg`:"",X0=At?.entry_code?` (${At.entry_code})`:"";return`${ae} recorded a new ${Ed} entry${ao?` (${ao})`:""}${X0}`;case"outlet receiving inventory":const PD=At?.fish_type||"fish",Q_=At?.weight_received?`${At.weight_received}kg`:"",ED=At?.entry_code?` (${At.entry_code})`:"";return`${ae} received ${PD} at outlet${Q_?` (${Q_})`:""}${ED}`;case"outlet orders":return`${ae} created a new order`;default:return`${ae} created a new ${ge} record`}case"update":switch(ge){case"profiles":const Ed=yt?.email!==At?.email?` (${yt?.email}  ${At?.email})`:"",ao=yt?.role!==At?.role?` (${yt?.role}  ${At?.role})`:"";return`${ae} updated user information${Ed||ao||""}`;case"farmers":const X0=yt?.name!==At?.name?` (${yt?.name}  ${At?.name})`:"";return`${ae} updated farmer details${X0||""}`;case"outlet orders":return At?.status==="confirmed"?`${ae} confirmed order ${C.record_id?.substring(0,8)||""}`:At?.status==="cancelled"?`${ae} cancelled order ${C.record_id?.substring(0,8)||""}`:`${ae} updated order details`;default:return`${ae} updated ${ge} information`}case"delete":switch(ge){case"profiles":return`${ae} deleted user account${yt?.email?` (${yt.email})`:""}`;case"farmers":return`${ae} removed farmer${yt?.name?` (${yt.name})`:""}`;default:return`${ae} deleted ${ge} record`}case"login":return`${ae} logged into the system`;case"logout":return`${ae} logged out of the system`;default:return`${ae} performed ${rt} on ${ge}`}},vr=C=>{const ae=[];C.ip_address&&ae.push(`IP: ${C.ip_address}`),C.record_id&&ae.push(`ID: ${C.record_id.substring(0,8)}...`);try{const rt=C.old_values?JSON.parse(C.old_values):null,ge=C.new_values?JSON.parse(C.new_values):null;C.table_name==="warehouse_entries"&&ge&&(ge.entry_code&&ae.push(`Entry Code: ${ge.entry_code}`),ge.fish_type&&ae.push(`Type: ${ge.fish_type}`),ge.condition&&ae.push(`Grade: ${ge.condition}`),ge.total_weight&&ae.push(`Weight: ${ge.total_weight}kg`),ge.total_pieces&&ae.push(`Pieces: ${ge.total_pieces}`),ge.price_per_kg&&ae.push(`Price: $${ge.price_per_kg}/kg`),ge.farmer_id&&ae.push(`Farmer ID: ${ge.farmer_id}`)),C.table_name==="outlet_receiving"&&ge&&(ge.actual_weight_received&&ae.push(`Weight Received: ${ge.actual_weight_received}kg`),ge.condition&&ae.push(`Condition: ${ge.condition}`),ge.outlet_name&&ae.push(`Outlet: ${ge.outlet_name}`),ge.received_date&&ae.push(`Date: ${ge.received_date}`)),C.table_name==="outlet_orders"&&ge&&(ge.order_number&&ae.push(`Order #: ${ge.order_number}`),ge.status&&ae.push(`Status: ${ge.status}`),ge.delivery_date&&ae.push(`Delivery: ${ge.delivery_date}`)),C.table_name==="profiles"&&ge&&(ge.role&&ae.push(`Role: ${ge.role}`),ge.is_active!==void 0&&ae.push(`Active: ${ge.is_active?"Yes":"No"}`),ge.phone&&ae.push(`Phone: ${ge.phone}`)),C.table_name==="farmers"&&ge&&(ge.location&&ae.push(`Location: ${ge.location}`),ge.phone&&ae.push(`Phone: ${ge.phone}`),ge.rating&&ae.push(`Rating: ${ge.rating}/5`),ge.reliability&&ae.push(`Reliability: ${ge.reliability}`))}catch{}return ae},De=async(C,ae,rt,ge,yt)=>{try{const At=JSON.parse(sessionStorage.getItem("currentUser")||"null");if(!At)return;const Ed={user_id:At.id,action:C,table_name:ae,record_id:rt,old_values:ge?JSON.stringify(ge):null,new_values:yt?JSON.stringify(yt):null,ip_address:null,user_agent:navigator.userAgent,created_at:new Date().toISOString()},{error:ao}=await Q.from("audit_logs").insert([Ed]);ao&&console.warn("Failed to log audit event:",ao)}catch(At){console.warn("Failed to log audit event:",At)}},ot=async()=>{x({provider:"sendgrid",from_email:"noreply@riofish.com",from_name:"Rio Fish Management",api_key:""})},xt=async()=>{try{console.log("Fetching storage locations...");const{data:C,error:ae}=await Q.from("storage_locations").select("*").order("name");if(ae)throw console.error("Error fetching storage locations:",ae),ae;console.log("Storage locations fetched successfully:",C),f(C||[])}catch(C){console.error("Could not fetch storage locations:",C),f([])}},br=async()=>{try{v(!0);const{data:C,error:ae}=await Q.from("profiles").select("*").order("created_at",{ascending:!1});if(ae)throw ae;r(C||[])}catch(C){console.warn("Could not fetch users:",C),r([])}finally{v(!1)}},Ot=async()=>{try{const{data:C,error:ae}=await Q.from("farmers").select("*").order("name");if(ae)throw ae;u(C||[])}catch(C){console.warn("Could not fetch farmers:",C),u([])}},Rr=async()=>{try{console.log("Fetching outlets...");const{data:C,error:ae}=await Q.from("outlets").select("*").order("name");if(ae)throw console.error("Error fetching outlets:",ae),ae.message.includes('relation "outlets" does not exist')&&(console.warn("Outlets table does not exist. Please run the database setup script."),fe.error("Outlets table not found. Please contact administrator.")),ae;console.log("Outlets fetched successfully:",C?.length||0,"records"),g(C||[])}catch(C){console.warn("Could not fetch outlets:",C),g([])}};b.useEffect(()=>{pt(),br(),Ot(),Rr(),mt(),ot(),xt()},[]);const ro=()=>{const C={};return Z.name.trim()?Z.name.trim().length<2?C.name="Role name must be at least 2 characters":Z.name.trim().length>50?C.name="Role name must be less than 50 characters":/^[a-zA-Z0-9_\s-]+$/.test(Z.name.trim())||(C.name="Role name can only contain letters, numbers, spaces, hyphens, and underscores"):C.name="Role name is required",Z.display_name.trim()?Z.display_name.trim().length<2?C.display_name="Display name must be at least 2 characters":Z.display_name.trim().length>100&&(C.display_name="Display name must be less than 100 characters"):C.display_name="Display name is required",Z.description.trim().length>500&&(C.description="Description must be less than 500 characters"),!Array.isArray(Z.permissions)||Z.permissions.length===0?C.permissions="At least one permission must be selected":Z.permissions.length>50&&(C.permissions="Too many permissions selected (maximum 50)"),er(C),Object.keys(C).length===0},ea=async()=>{try{if(Ie("saving-role"),!ro())return;const C=Z.name.toLowerCase().trim().replace(/\s+/g,"_");if(oe){if(C!==oe.name){const{data:ge,error:yt}=await Q.from("user_roles").select("id").eq("name",C).neq("id",oe.id).single();if(yt&&yt.code!=="PGRST116")throw yt;if(ge){fe.error("Role name already exists",{description:"Please choose a different name for the role"});return}}const ae=[...new Set(Z.permissions)],{error:rt}=await Q.from("user_roles").update({...Z,name:C,permissions:ae}).eq("id",oe.id);if(rt)throw rt;fe.success("Role updated successfully")}else{const{data:ae,error:rt}=await Q.from("user_roles").select("id").eq("name",C).single();if(rt&&rt.code!=="PGRST116")throw rt;if(ae){fe.error("Role name already exists",{description:"Please choose a different name for the role"});return}const ge=[...new Set(Z.permissions)],{error:yt}=await Q.from("user_roles").insert([{...Z,name:C,permissions:ge}]);if(yt){if(yt.code==="23505"){fe.error("Role name already exists",{description:"Please choose a different name for the role"});return}throw yt}fe.success("Role created successfully")}I(!1),K(null),je({name:"",display_name:"",description:"",permissions:[],icon:"Shield",color:"bg-gray-100 text-gray-800 border-gray-200",is_active:!0}),er({}),pt()}catch(C){fe.error(`Role operation failed: ${C.message}`)}finally{Ie(null)}},Tn=async()=>{try{if(Ie("saving-user"),!ke.email||!ke.first_name||!ke.last_name){fe.error("Please fill in all required fields");return}if(!J.isValid){fe.error("Please fix email validation errors");return}if(!Oe.isValid){fe.error("Please fix phone number validation errors");return}if(!Y){if(!ke.password||ke.password.length<6){fe.error("Password must be at least 6 characters long");return}if(!We.isValid){fe.error("Please fix password validation errors");return}if(ke.password!==ke.confirm_password){fe.error("Passwords do not match");return}}if(!Y?.id){const{data:C,error:ae}=await Q.from("profiles").select("id, email").eq("email",ke.email.toLowerCase().trim());if(ae&&ae.code!=="PGRST116")throw ae;if(C&&C.length>0){fe.error("Email already exists",{description:"Please choose a different email address"});return}}if(!Y?.id&&ke.phone&&ke.phone.trim()!==""){const{data:C,error:ae}=await Q.from("profiles").select("id, phone").eq("phone",ke.phone.trim());if(ae&&ae.code!=="PGRST116")throw ae;if(C&&C.length>0){fe.error("Phone number already exists",{description:"Please choose a different phone number"});return}}if(!Y){const{data:C,error:ae}=await Q.from("profiles").select("id, password_hash").not("password_hash","is",null);if(ae)throw ae;if(C&&C.length>0){const rt=await mr(()=>Q0(()=>Promise.resolve().then(()=>Oy),void 0).then(ge=>ge.bt),[]);for(const ge of C)if(ge.password_hash&&await rt.compare(ke.password,ge.password_hash)){fe.error("Password already in use",{description:"Please choose a different password for security reasons"});return}}}if(Y){const C={email:Y.email,first_name:Y.first_name,last_name:Y.last_name,role:Y.role,phone:Y.phone,is_active:Y.is_active},ae={email:ke.email,first_name:ke.first_name,last_name:ke.last_name,role:ke.role,phone:ke.phone,is_active:ke.is_active},{error:rt}=await Q.from("profiles").update(ae).eq("id",Y.id);if(rt)throw rt;await De("UPDATE","profiles",Y.id,C,ae),fe.success("User updated successfully")}else{const C=await(await mr(()=>Q0(()=>Promise.resolve().then(()=>Oy),void 0).then(yt=>yt.bt),[])).hash(ke.password,10),ae={email:ke.email.toLowerCase().trim(),password_hash:C,first_name:ke.first_name.trim(),last_name:ke.last_name.trim(),role:ke.role,phone:ke.phone?.trim()||null,is_active:ke.is_active},{data:rt,error:ge}=await Q.from("profiles").insert([ae]).select().single();if(ge){if(ge.code==="23505"){fe.error("Email already exists",{description:"Please choose a different email address"});return}throw ge}await De("INSERT","profiles",rt.id,null,ae),fe.success("User created successfully")}N(!1),se(null),Ae({email:"",first_name:"",last_name:"",role:"",phone:"",is_active:!0,password:"",confirm_password:""}),be({isValid:!0,message:""}),at({isValid:!0,message:""}),Ne({isValid:!0,message:""}),br(),mt()}catch(C){fe.error(`User operation failed: ${C.message}`)}finally{Ie(null)}},no=async()=>{try{if(Ie("saving-farmer"),!M.name||!M.phone||!M.location){fe.error("Please fill in all required fields");return}if(U){const C={name:U.name,phone:U.phone,location:U.location,rating:U.rating,reliability:U.reliability,status:U.status},{error:ae}=await Q.from("farmers").update(M).eq("id",U.id);if(ae)throw ae;await De("UPDATE","farmers",U.id,C,M),fe.success("Farmer updated successfully")}else{const{data:C,error:ae}=await Q.from("farmers").insert([M]).select().single();if(ae)throw ae;await De("INSERT","farmers",C.id,null,M),fe.success("Farmer created successfully")}F(!1),B(null),re({name:"",phone:"",location:"",rating:0,reliability:"fair",status:"active"}),Ot(),mt()}catch(C){fe.error(`Farmer operation failed: ${C.message}`)}finally{Ie(null)}},ks=async C=>{if(confirm("Are you sure you want to delete this farmer?"))try{Ie("deleting-farmer");const ae=d.find(ge=>ge.id===C),{error:rt}=await Q.from("farmers").delete().eq("id",C);if(rt)throw rt;ae&&await De("DELETE","farmers",C,ae,null),fe.success("Farmer deleted successfully"),Ot(),mt()}catch(ae){fe.error(`Failed to delete farmer: ${ae.message}`)}finally{Ie(null)}},_D=async()=>{try{Ie("saving-storage");const{error:C}=await Q.from("storage_locations").insert([ue]);if(C)throw C;fe.success("Storage location created successfully"),ee(!1),Ce({name:"",description:"",capacity_kg:1e3,temperature_celsius:4,humidity_percent:85,location_type:"cold_storage",status:"active"}),xt()}catch(C){fe.error(`Storage location creation failed: ${C.message}`)}finally{Ie(null)}},ND=async(C,ae)=>{try{Ie(`toggle-storage-${C}`);const rt=ae==="active"?"inactive":"active",{error:ge}=await Q.from("storage_locations").update({status:rt,updated_at:new Date().toISOString()}).eq("id",C);if(ge)throw ge;fe.success(`Storage location marked as ${rt}`),xt()}catch(rt){fe.error(`Failed to update storage status: ${rt.message}`)}finally{Ie(null)}},kD=async()=>{try{Ie("saving-outlet");const C={name:xe.name,location:xe.location,phone:xe.phone,manager_name:xe.manager_name||null,status:xe.status};if(console.log("Submitting outlet data:",C),W){const{error:ae}=await Q.from("outlets").update(C).eq("id",W.id);if(ae)throw console.error("Update outlet error:",ae),ae;fe.success("Outlet updated successfully")}else{const{error:ae}=await Q.from("outlets").insert([C]);if(ae)throw console.error("Create outlet error:",ae),ae;fe.success("Outlet created successfully")}R(!1),H(null),me({name:"",location:"",phone:"",manager_name:"",status:"active"}),Rr()}catch(C){fe.error(`Outlet operation failed: ${C.message}`)}finally{Ie(null)}},SD=async C=>{if(confirm("Are you sure you want to delete this outlet?"))try{Ie("deleting-outlet");const{error:ae}=await Q.from("outlets").delete().eq("id",C);if(ae)throw ae;fe.success("Outlet deleted successfully"),Rr()}catch(ae){fe.error(`Failed to delete outlet: ${ae.message}`)}finally{Ie(null)}},X_=t.filter(C=>{const ae=C.first_name.toLowerCase().includes(X.toLowerCase())||C.last_name.toLowerCase().includes(X.toLowerCase())||C.email.toLowerCase().includes(X.toLowerCase()),rt=ce==="all"||C.role===ce;return ae&&rt}),OD=C=>({Shield:or,Crown:Lh,Package:nt,Building:gu,Eye:Jt,Tractor:Si,Warehouse:Nn})[C]||or;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:a.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 p-8 text-white shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 bg-black/10"}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(Un,{className:"h-8 w-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"User Management"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Comprehensive user, role, and system administration"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-medium",children:"System Active"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[a.jsx(Un,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[t.length," Users"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[a.jsx(Si,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:[d.length," Farmers"]})]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(te,{onClick:()=>E(!0),variant:"secondary",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",children:[a.jsx(kg,{className:"h-4 w-4 mr-2"}),"Email Config"]})})]})}),a.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),a.jsx("div",{className:"absolute -bottom-8 -left-8 w-32 h-32 bg-white/5 rounded-full blur-2xl"})]}),a.jsxs(wD,{value:j,onValueChange:w,className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:a.jsxs(jD,{className:"flex w-full bg-gradient-to-r from-gray-50 to-gray-100 p-1 h-auto overflow-x-auto",children:[a.jsxs(yn,{value:"users",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-100 data-[state=active]:bg-blue-600 transition-colors duration-200",children:a.jsx(Un,{className:"h-5 w-5 data-[state=active]:text-white text-blue-600"})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Users"}),a.jsx("span",{className:"text-xs text-gray-500",children:t.length})]})]}),a.jsxs(yn,{value:"farmers",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-green-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-100 data-[state=active]:bg-green-600 transition-colors duration-200",children:a.jsx(Si,{className:"h-5 w-5 data-[state=active]:text-white text-green-600"})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Farmers"}),a.jsx("span",{className:"text-xs text-gray-500",children:d.length})]})]}),a.jsxs(yn,{value:"storage",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-purple-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[a.jsx("div",{className:"p-2 rounded-lg bg-purple-100 data-[state=active]:bg-purple-600 transition-colors duration-200",children:a.jsx(Nn,{className:"h-5 w-5 data-[state=active]:text-white text-purple-600"})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Storage"}),a.jsx("span",{className:"text-xs text-gray-500",children:h.length})]})]}),a.jsxs(yn,{value:"roles",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-orange-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[a.jsx("div",{className:"p-2 rounded-lg bg-orange-100 data-[state=active]:bg-orange-600 transition-colors duration-200",children:a.jsx(or,{className:"h-5 w-5 data-[state=active]:text-white text-orange-600"})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Roles"}),a.jsx("span",{className:"text-xs text-gray-500",children:n.length})]})]}),a.jsxs(yn,{value:"frontend",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-indigo-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[a.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 data-[state=active]:bg-indigo-600 transition-colors duration-200",children:a.jsx(Jt,{className:"h-5 w-5 data-[state=active]:text-white text-indigo-600"})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Public View"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Config"})]})]}),a.jsxs(yn,{value:"audit",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-red-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-100 data-[state=active]:bg-red-600 transition-colors duration-200",children:a.jsx(cc,{className:"h-5 w-5 data-[state=active]:text-white text-red-600"})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Audit Logs"}),a.jsx("span",{className:"text-xs text-gray-500",children:i.length})]})]}),a.jsxs(yn,{value:"outlets",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-purple-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[a.jsx("div",{className:"p-2 rounded-lg bg-purple-100 data-[state=active]:bg-purple-600 transition-colors duration-200",children:a.jsx(Vn,{className:"h-5 w-5 data-[state=active]:text-white text-purple-600"})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Outlets"}),a.jsx("span",{className:"text-xs text-gray-500",children:m.length})]})]})]})}),a.jsx(vn,{value:"users",className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:a.jsx(Un,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["User Management",a.jsxs(pe,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:[X_.length," Active"]})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage system users and their permissions"})]})]}),a.jsxs(te,{onClick:()=>{se(null),Ae({email:"",first_name:"",last_name:"",role:"",phone:"",is_active:!0,password:"",confirm_password:""}),be({isValid:!0,message:""}),at({isValid:!0,message:""}),Ne({isValid:!0,message:""}),N(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),a.jsxs(he,{className:"p-6",children:[a.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(qe,{placeholder:"Search users by name or email...",value:X,onChange:C=>A(C.target.value),className:"pl-10 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})}),a.jsxs(lr,{value:ce,onValueChange:we,children:[a.jsxs(dr,{className:"w-full sm:w-[200px] bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:[a.jsx(cd,{className:"mr-2 h-4 w-4"}),a.jsx(cr,{placeholder:"Filter by role"})]}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"all",children:"All Roles"}),n.filter(C=>C.name&&C.name.trim()!=="").map(C=>a.jsx(Fe,{value:C.name,children:C.display_name||C.name},C.id))]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"mobile-table-container",children:a.jsxs(ec,{className:"mobile-table",children:[a.jsx(tc,{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsxs(aa,{className:"border-b border-gray-200",children:[a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"User"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Contact"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Role"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Status"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Last Login"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4 text-center",children:"Actions"})]})}),a.jsx(rc,{children:X_.map((C,ae)=>a.jsxs(aa,{className:`hover:bg-blue-50/50 transition-colors duration-200 border-b border-gray-100 ${ae%2===0?"bg-white":"bg-gray-50/30"}`,children:[a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:[C.first_name.charAt(0),C.last_name.charAt(0)]}),a.jsx("div",{children:a.jsxs("div",{className:"font-semibold text-gray-900",children:[C.first_name," ",C.last_name]})})]})}),a.jsxs(dt,{className:"py-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ev,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:C.email})]}),C.phone&&a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(xu,{className:"h-3 w-3 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-500",children:C.phone})]})]}),a.jsx(dt,{className:"py-4",children:a.jsx(pe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 font-medium",children:C.role.replace("_"," ")})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${C.is_active?"bg-green-500":"bg-gray-400"}`}),a.jsx(pe,{variant:C.is_active?"default":"secondary",className:C.is_active?"bg-green-100 text-green-700 border-green-200":"",children:C.is_active?"Active":"Inactive"})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pr,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:C.last_login?new Date(C.last_login).toLocaleDateString():"Never"})]})}),a.jsx(dt,{className:"py-4",children:a.jsx("div",{className:"flex justify-center gap-2",children:a.jsx(te,{size:"sm",variant:"outline",className:"hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 transition-all duration-200",onClick:()=>{se(C),Ae({email:C.email,first_name:C.first_name,last_name:C.last_name,role:C.role,phone:C.phone||"",is_active:C.is_active,password:"",confirm_password:""}),be({isValid:!0,message:""}),at({isValid:!0,message:""}),Ne({isValid:!0,message:""}),N(!0)},children:a.jsx(No,{className:"h-4 w-4"})})})})]},C.id))})]})})})]})]})}),a.jsx(vn,{value:"farmers",className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(Si,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Farmer Management",a.jsxs(pe,{variant:"secondary",className:"bg-green-100 text-green-700 border-green-200",children:[d.length," Registered"]})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage farmer profiles and relationships"})]})]}),a.jsxs(te,{onClick:()=>F(!0),className:"bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Farmer"]})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"mobile-table-container",children:a.jsxs(ec,{className:"mobile-table",children:[a.jsx(tc,{className:"bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsxs(aa,{className:"border-b border-green-100",children:[a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Farmer"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Contact"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Location"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Rating"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Reliability"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Status"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4 text-center",children:"Actions"})]})}),a.jsx(rc,{children:d.map((C,ae)=>a.jsxs(aa,{className:`hover:bg-green-50/50 transition-colors duration-200 border-b border-gray-100 ${ae%2===0?"bg-white":"bg-gray-50/30"}`,children:[a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:C.name.charAt(0)}),a.jsx("div",{children:a.jsx("div",{className:"font-semibold text-gray-900",children:C.name})})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xu,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:C.phone})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:C.location})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((rt,ge)=>a.jsx("div",{className:`w-4 h-4 ${ge<C.rating?"text-yellow-400":"text-gray-300"}`,children:""},ge))}),a.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",C.rating,"/5)"]})]})}),a.jsx(dt,{className:"py-4",children:a.jsx(pe,{variant:"outline",className:`font-medium ${C.reliability==="excellent"?"bg-green-100 text-green-700 border-green-200":C.reliability==="good"?"bg-blue-100 text-blue-700 border-blue-200":C.reliability==="fair"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-red-100 text-red-700 border-red-200"}`,children:C.reliability})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${C.status==="active"?"bg-green-500":"bg-gray-400"}`}),a.jsx(pe,{variant:C.status==="active"?"default":"secondary",className:C.status==="active"?"bg-green-100 text-green-700 border-green-200":"",children:C.status})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex justify-center gap-2",children:[a.jsx(te,{size:"sm",variant:"outline",className:"hover:bg-green-50 hover:border-green-300 hover:text-green-700 transition-all duration-200",onClick:()=>{B(C),re({name:C.name,phone:C.phone,location:C.location,rating:C.rating,reliability:C.reliability,status:C.status}),F(!0)},children:a.jsx(No,{className:"h-4 w-4"})}),a.jsx(te,{size:"sm",variant:"outline",className:"hover:bg-red-50 hover:border-red-300 hover:text-red-700 transition-all duration-200",onClick:()=>ks(C.id),disabled:Te==="deleting-farmer",children:a.jsx(Fr,{className:"h-4 w-4"})})]})})]},C.id))})]})})})})]})}),a.jsx(vn,{value:"storage",className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-purple-50 to-violet-50 border-b border-purple-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:a.jsx(Nn,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Storage Management",a.jsxs(pe,{variant:"secondary",className:"bg-purple-100 text-purple-700 border-purple-200",children:[h.length," Locations"]})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor storage capacity and conditions"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(te,{onClick:xt,variant:"outline",className:"border-purple-200 text-purple-700 hover:bg-purple-50",children:[a.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs(te,{onClick:()=>ee(!0),className:"bg-purple-600 hover:bg-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Location"]})]})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map(C=>a.jsxs(le,{className:"hover:shadow-lg transition-all duration-200 border border-gray-200 bg-white",children:[a.jsx(Ke,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ye,{className:"text-lg font-semibold text-gray-900",children:C.name}),a.jsx(pe,{variant:C.status==="active"?"default":"secondary",className:C.status==="active"?"bg-green-100 text-green-700 border-green-200":"",children:C.status})]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Type:"}),a.jsx("span",{className:"font-medium capitalize",children:C.location_type.replace("_"," ")})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Capacity:"}),a.jsxs("span",{className:"font-medium",children:[C.current_usage_kg,"/",C.capacity_kg," kg"]})]}),C.temperature_celsius&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Temperature:"}),a.jsxs("span",{className:"font-medium",children:[C.temperature_celsius,"C"]})]}),C.humidity_percent&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Humidity:"}),a.jsxs("span",{className:"font-medium",children:[C.humidity_percent,"%"]})]}),a.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[Math.round(C.current_usage_kg/C.capacity_kg*100),"% occupied"]}),a.jsx("div",{className:"pt-2 border-t border-gray-100",children:a.jsx(te,{size:"sm",variant:C.status==="active"?"destructive":"default",className:`w-full text-xs ${C.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200 border-red-200":"bg-green-100 text-green-700 hover:bg-green-200 border-green-200"}`,onClick:()=>ND(C.id,C.status),disabled:Te===`toggle-storage-${C.id}`,children:Te===`toggle-storage-${C.id}`?"Updating...":C.status==="active"?"Mark Inactive":"Mark Active"})})]})})]},C.id))})})]})}),a.jsxs(vn,{value:"roles",className:"space-y-6",children:[a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b border-orange-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:a.jsx(or,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Role Management",a.jsxs(pe,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[n.length," Roles"]})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Define user roles and permissions"})]})]}),a.jsxs(te,{onClick:()=>I(!0),className:"bg-orange-600 hover:bg-orange-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(C=>{const ae=OD(C.icon);return a.jsxs(le,{className:"hover:shadow-lg transition-all duration-200 border border-gray-200 bg-white",children:[a.jsx(Ke,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(pe,{className:`${C.color} px-3 py-1 font-medium`,children:[a.jsx(ae,{className:"w-4 h-4 mr-2"}),C.display_name]}),a.jsx("div",{className:"flex gap-1",children:a.jsx(te,{size:"sm",variant:"outline",className:"hover:bg-orange-50 hover:border-orange-300 hover:text-orange-700 transition-all duration-200",onClick:()=>{K(C),je({name:C.name,display_name:C.display_name,description:C.description,permissions:Array.isArray(C.permissions)?C.permissions:typeof C.permissions=="string"?JSON.parse(C.permissions):[],icon:C.icon,color:C.color,is_active:C.is_active}),I(!0)},children:a.jsx(No,{className:"h-4 w-4"})})})]})}),a.jsxs(he,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Permissions:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[Array.isArray(C.permissions)&&C.permissions.slice(0,3).map((rt,ge)=>a.jsx(pe,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:rt},ge)),Array.isArray(C.permissions)&&C.permissions.length>3&&a.jsxs(pe,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",C.permissions.length-3," more"]})]})]})]})]},C.id)})})})]}),oe&&a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(or,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900",children:["Permissions for: ",oe.display_name]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View permissions assigned to this role"})]})]})}),a.jsx(he,{className:"p-6",children:a.jsx(N1e,{className:"border-0 shadow-none bg-transparent"})})]})]}),a.jsx(vn,{value:"frontend",className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b border-indigo-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:a.jsx(Jt,{className:"h-6 w-6 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx(Ye,{className:"text-2xl font-bold text-gray-900",children:"Public View Configuration"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Configure public-facing settings and appearance"})]})]})}),a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(tn,{className:"border-indigo-200 bg-indigo-50",children:[a.jsx(hP,{className:"h-4 w-4 text-indigo-600"}),a.jsx(rn,{className:"text-indigo-800",children:"Configure public-facing settings and frontend appearance."})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"site_name",className:"text-sm font-medium text-gray-700",children:"Site Name"}),a.jsx(qe,{id:"site_name",placeholder:"Rio Fish Management",className:"mt-1 border-gray-200 focus:border-indigo-500 focus:ring-indigo-500/20"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"site_description",className:"text-sm font-medium text-gray-700",children:"Site Description"}),a.jsx($a,{id:"site_description",placeholder:"Professional fish management system",className:"mt-1 border-gray-200 focus:border-indigo-500 focus:ring-indigo-500/20"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"contact_email",className:"text-sm font-medium text-gray-700",children:"Contact Email"}),a.jsx(qe,{id:"contact_email",type:"email",placeholder:"contact@riofish.com",className:"mt-1 border-gray-200 focus:border-indigo-500 focus:ring-indigo-500/20"})]})]}),a.jsx(te,{className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:"Save Configuration"})]})})]})}),a.jsx(vn,{value:"audit",className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-red-50 to-pink-50 border-b border-red-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:a.jsx(cc,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Audit Logs",a.jsxs(pe,{variant:"secondary",className:"bg-red-100 text-red-700 border-red-200",children:[i.length," Entries"]})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor system activity and user actions"})]})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"mobile-table-container",children:a.jsxs(ec,{className:"mobile-table",children:[a.jsx(tc,{className:"bg-gradient-to-r from-red-50 to-pink-50",children:a.jsxs(aa,{className:"border-b border-red-100",children:[a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Activity"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"User"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Details"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Date & Time"})]})}),a.jsx(rc,{children:i.map((C,ae)=>a.jsxs(aa,{className:`hover:bg-red-50/50 transition-colors duration-200 border-b border-gray-100 ${ae%2===0?"bg-white":"bg-gray-50/30"}`,children:[a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:a.jsx(cc,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 font-medium",children:gt(C)}),a.jsxs("p",{className:"text-sm text-gray-500",children:[C.table_name,"  ",C.action]})]})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-semibold text-xs",children:C.user?C.user.first_name.charAt(0):"U"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 font-medium",children:C.user?`${C.user.first_name} ${C.user.last_name}`:"Unknown User"}),a.jsx("p",{className:"text-sm text-gray-500",children:C.user?.email||"No email"})]})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"space-y-1",children:[vr(C).map((rt,ge)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-600",children:rt})]},ge)),vr(C).length===0&&a.jsx("span",{className:"text-sm text-gray-400 italic",children:"No additional details"})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-900 font-medium",children:new Date(C.created_at).toLocaleDateString()}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(C.created_at).toLocaleTimeString()})]})})]},C.id))})]})})})})]})}),a.jsx(vn,{value:"outlets",className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[a.jsx(Ke,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-b border-purple-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:a.jsx(Vn,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsxs(Ye,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Outlet Management",a.jsxs(pe,{variant:"secondary",className:"bg-purple-100 text-purple-700 border-purple-200",children:[m.length," Outlets"]})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage retail outlets and distribution partners"})]})]}),a.jsxs(te,{onClick:()=>R(!0),className:"bg-purple-600 hover:bg-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Outlet"]})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:a.jsxs(ec,{children:[a.jsx(tc,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:a.jsxs(aa,{className:"border-b border-purple-100",children:[a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Outlet Name"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Location"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Contact"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Status"}),a.jsx(ct,{className:"font-semibold text-gray-700 py-4",children:"Actions"})]})}),a.jsx(rc,{children:m.map((C,ae)=>a.jsxs(aa,{className:`hover:bg-purple-50/50 transition-colors duration-200 border-b border-gray-100 ${ae%2===0?"bg-white":"bg-gray-50/30"}`,children:[a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold",children:C.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:C.name}),C.manager_name&&a.jsx("div",{className:"text-sm text-gray-500",children:C.manager_name})]})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:C.location})]})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xu,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:C.phone})]})}),a.jsx(dt,{className:"py-4",children:a.jsx(pe,{className:`${C.status==="active"?"bg-green-100 text-green-800 border-green-200":C.status==="inactive"?"bg-gray-100 text-gray-800 border-gray-200":"bg-red-100 text-red-800 border-red-200"}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})}),a.jsx(dt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(te,{size:"sm",variant:"outline",onClick:()=>{H(C),me({name:C.name,location:C.location,phone:C.phone,manager_name:C.manager_name||"",status:C.status}),R(!0)},className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:a.jsx(No,{className:"h-4 w-4"})}),a.jsx(te,{size:"sm",variant:"outline",onClick:()=>SD(C.id),className:"border-red-200 text-red-700 hover:bg-red-50",children:a.jsx(Fr,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]})})]}),a.jsx(Rt,{open:k,onOpenChange:N,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsxs(Lt,{children:[a.jsx(zt,{className:"text-xl font-semibold text-gray-900",children:Y?"Edit User":"Add New User"}),a.jsx(sn,{className:"text-gray-600",children:Y?"Update user information":"Create a new user account with a secure password"})]}),a.jsxs("form",{onSubmit:C=>{C.preventDefault(),Tn()},className:"space-y-6",children:[!Y&&a.jsxs(tn,{className:"border-blue-200 bg-blue-50",children:[a.jsx(Fj,{className:"h-4 w-4 text-blue-600"}),a.jsx(rn,{className:"text-blue-800",children:"Password must be at least 6 characters long. The user will use this password to log in."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"first_name",className:"text-sm font-medium text-gray-700",children:"First Name *"}),a.jsx(qe,{id:"first_name",value:ke.first_name,onChange:C=>Ae({...ke,first_name:C.target.value}),required:!0,className:"w-full",placeholder:"Enter first name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"last_name",className:"text-sm font-medium text-gray-700",children:"Last Name *"}),a.jsx(qe,{id:"last_name",value:ke.last_name,onChange:C=>Ae({...ke,last_name:C.target.value}),required:!0,className:"w-full",placeholder:"Enter last name"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address *"}),a.jsx(qe,{id:"email",type:"email",value:ke.email,onChange:C=>{Ae({...ke,email:C.target.value}),st(C.target.value)},required:!0,className:`w-full ${J.isValid?J.message==="Email is available"?"border-green-300 focus:border-green-500":"":"border-red-300 focus:border-red-500"}`,placeholder:"user@example.com"}),J.message&&a.jsx("p",{className:`text-xs ${J.isValid?"text-green-600":"text-red-600"}`,children:J.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Role *"}),a.jsxs(lr,{value:ke.role,onValueChange:C=>Ae({...ke,role:C}),children:[a.jsx(dr,{className:"w-full",children:a.jsx(cr,{placeholder:"Select a role"})}),a.jsx(ur,{children:n.filter(C=>C.name&&C.name.trim()!=="").map(C=>a.jsx(Fe,{value:C.name,children:C.display_name||C.name},C.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number"}),a.jsx(qe,{id:"phone",value:ke.phone,onChange:C=>{Ae({...ke,phone:C.target.value}),Ft(C.target.value)},className:`w-full ${Oe.isValid?Oe.message==="Phone number is available"?"border-green-300 focus:border-green-500":"":"border-red-300 focus:border-red-500"}`,placeholder:"+254 700 000 000"}),Oe.message&&a.jsx("p",{className:`text-xs ${Oe.isValid?"text-green-600":"text-red-600"}`,children:Oe.message})]}),!Y&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),a.jsx(qe,{id:"password",type:"password",value:ke.password,onChange:C=>{Ae({...ke,password:C.target.value}),St(C.target.value)},required:!0,className:`w-full ${We.isValid?We.message==="Password is available"?"border-green-300 focus:border-green-500":"":"border-red-300 focus:border-red-500"}`,placeholder:"Enter a secure password"}),We.message&&a.jsx("p",{className:`text-xs ${We.isValid?"text-green-600":"text-red-600"}`,children:We.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(de,{htmlFor:"confirm_password",className:"text-sm font-medium text-gray-700",children:"Confirm Password *"}),a.jsx(qe,{id:"confirm_password",type:"password",value:ke.confirm_password,onChange:C=>Ae({...ke,confirm_password:C.target.value}),required:!0,className:`w-full ${ke.confirm_password&&ke.password!==ke.confirm_password?"border-red-300 focus:border-red-500":ke.confirm_password&&ke.password===ke.confirm_password?"border-green-300 focus:border-green-500":""}`,placeholder:"Confirm the password"}),ke.confirm_password&&a.jsx("p",{className:`text-xs ${ke.password===ke.confirm_password?"text-green-600":"text-red-600"}`,children:ke.password===ke.confirm_password?"Passwords match":"Passwords do not match"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:ke.is_active,onChange:C=>Ae({...ke,is_active:C.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx(de,{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"User is active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>N(!1),className:"px-6",children:"Cancel"}),a.jsx(te,{type:"submit",disabled:Te==="saving-user",className:"px-6 bg-blue-600 hover:bg-blue-700",children:Te==="saving-user"?"Saving...":Y?"Update User":"Create User"})]})]})]})}),a.jsx(Rt,{open:T,onOpenChange:C=>{I(C),C||er({})},children:a.jsxs(Mt,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx(Lt,{className:"pb-6 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-sm",children:a.jsx(or,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx(zt,{className:"text-xl font-semibold text-gray-900",children:oe?"Edit Role":"Create New Role"}),a.jsx(sn,{className:"text-gray-600 mt-1",children:oe?"Update role information and permissions":"Define a new role with specific permissions and access levels"})]})]})}),a.jsxs("form",{onSubmit:C=>{C.preventDefault(),ea()},className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{htmlFor:"name",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Role Name *"]}),a.jsx(qe,{id:"name",value:Z.name,onChange:C=>{je({...Z,name:C.target.value}),Ue.name&&er({...Ue,name:""})},className:`transition-all duration-200 ${Ue.name?"border-red-400 focus:border-red-500 focus:ring-red-500/20 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 hover:border-gray-300"} ${oe?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"e.g., warehouse_manager",maxLength:50,required:!0,disabled:!!oe}),Ue.name&&a.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[a.jsx(wt,{className:"h-3 w-3"}),Ue.name]}),a.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:oe?"Role name cannot be changed after creation":"Internal identifier (lowercase, no spaces)"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{htmlFor:"display_name",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Display Name *"]}),a.jsx(qe,{id:"display_name",value:Z.display_name,onChange:C=>{je({...Z,display_name:C.target.value}),Ue.display_name&&er({...Ue,display_name:""})},className:`transition-all duration-200 ${Ue.display_name?"border-red-400 focus:border-red-500 focus:ring-red-500/20 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 hover:border-gray-300"} ${oe?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"e.g., Warehouse Manager",maxLength:100,required:!0,disabled:!!oe}),Ue.display_name&&a.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[a.jsx(wt,{className:"h-3 w-3"}),Ue.display_name]}),a.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:oe?"Display name cannot be changed after creation":"User-friendly name shown in the interface"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{htmlFor:"description",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Description"]}),a.jsx($a,{id:"description",value:Z.description,onChange:C=>{je({...Z,description:C.target.value}),Ue.description&&er({...Ue,description:""})},className:`transition-all duration-200 resize-none ${Ue.description?"border-red-400 focus:border-red-500 focus:ring-red-500/20 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 hover:border-gray-300"}`,placeholder:"Describe the role's responsibilities and scope...",maxLength:500,rows:3}),Ue.description&&a.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[a.jsx(wt,{className:"h-3 w-3"}),Ue.description]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:"Optional description of the role's purpose"}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${Z.description.length>450?"text-orange-600 bg-orange-50":"text-gray-500 bg-gray-50"}`,children:[Z.description.length,"/500"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 hover:shadow-sm transition-all duration-200",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:Z.is_active,onChange:C=>je({...Z,is_active:C.target.checked}),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(de,{htmlFor:"is_active",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Active Role"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Inactive roles cannot be assigned to users"})]}),a.jsx("div",{className:`p-2 rounded-full transition-all duration-200 ${Z.is_active?"bg-green-100 shadow-sm":"bg-gray-200"}`,children:Z.is_active?a.jsx(Je,{className:"h-5 w-5 text-green-600"}):a.jsx(_c,{className:"h-5 w-5 text-gray-400"})})]})]}),Z.is_active&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{htmlFor:"permissions",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Select Permissions *"]}),a.jsx("div",{className:`border-2 rounded-xl p-5 transition-all duration-200 ${Ue.permissions?"border-red-300 bg-red-50":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:a.jsx("div",{className:"min-h-[60px] flex items-center",children:a.jsx(j1e,{selectedPermissions:Z.permissions,onPermissionsChange:C=>{je({...Z,permissions:C}),Ue.permissions&&er({...Ue,permissions:""})},className:"w-full"})})}),Ue.permissions?a.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[a.jsx(wt,{className:"h-3 w-3"}),Ue.permissions]}):a.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:'Choose the specific permissions this role should have. Use "All Permissions" for full admin access.'})]}),Array.isArray(Z.permissions)&&Z.permissions.length>0&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:a.jsx(or,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Selected Permissions (",(Array.isArray(Z.permissions)?Z.permissions:[]).length,")"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(Z.permissions)?Z.permissions:[]).slice(0,8).map(C=>a.jsx(pe,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-200 transition-colors duration-200",children:C},C)),(Array.isArray(Z.permissions)?Z.permissions:[]).length>8&&a.jsxs(pe,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 border border-blue-200",children:["+",(Array.isArray(Z.permissions)?Z.permissions:[]).length-8," more"]})]})]})]}),!Z.is_active&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsx(_c,{className:"h-6 w-6 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Role is Inactive"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Permissions are not available for inactive roles. Enable the role to configure permissions."})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-200 flex-shrink-0",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>{I(!1),er({})},className:"px-6 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),a.jsx(te,{type:"submit",disabled:Te==="saving-role",className:"px-6 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:Te==="saving-role"?a.jsxs(a.Fragment,{children:[a.jsx(Tt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(or,{className:"h-4 w-4 mr-2"}),oe?"Update Role":"Create Role"]})})]})]})]})}),a.jsx(Rt,{open:q,onOpenChange:F,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsxs(Lt,{children:[a.jsx(zt,{children:U?"Edit Farmer":"Add New Farmer"}),a.jsx(sn,{children:U?"Update farmer information":"Add a new farmer to the system"})]}),a.jsxs("form",{onSubmit:C=>{C.preventDefault(),no()},children:[a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"name",children:"Name"}),a.jsx(qe,{id:"name",value:M.name,onChange:C=>re({...M,name:C.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"phone",children:"Phone"}),a.jsx(qe,{id:"phone",value:M.phone,onChange:C=>re({...M,phone:C.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"location",children:"Location"}),a.jsx(qe,{id:"location",value:M.location,onChange:C=>re({...M,location:C.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"rating",children:"Rating (0-5)"}),a.jsx(qe,{id:"rating",type:"number",min:"0",max:"5",value:M.rating,onChange:C=>re({...M,rating:parseInt(C.target.value)||0})})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"reliability",children:"Reliability"}),a.jsxs(lr,{value:M.reliability,onValueChange:C=>re({...M,reliability:C}),children:[a.jsx(dr,{children:a.jsx(cr,{})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"excellent",children:"Excellent"}),a.jsx(Fe,{value:"good",children:"Good"}),a.jsx(Fe,{value:"fair",children:"Fair"}),a.jsx(Fe,{value:"poor",children:"Poor"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>F(!1),children:"Cancel"}),a.jsx(te,{type:"submit",disabled:Te==="saving-farmer",children:Te==="saving-farmer"?"Saving...":U?"Update":"Create"})]})]})]})}),a.jsx(Rt,{open:D,onOpenChange:E,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ev,{className:"h-5 w-5 text-blue-600"}),"Email Configuration"]}),a.jsx(sn,{children:"Configure email settings for notifications and communications"})]}),a.jsxs("form",{onSubmit:C=>{C.preventDefault()},children:[a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"provider",className:"text-sm font-medium text-gray-700",children:"Email Provider"}),a.jsxs(lr,{value:p.provider,onValueChange:C=>x({...p,provider:C}),children:[a.jsx(dr,{className:"mt-1",children:a.jsx(cr,{})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"sendgrid",children:"SendGrid"}),a.jsx(Fe,{value:"ses",children:"AWS SES"}),a.jsx(Fe,{value:"smtp",children:"SMTP"}),a.jsx(Fe,{value:"resend",children:"Resend"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"from_email",className:"text-sm font-medium text-gray-700",children:"From Email"}),a.jsx(qe,{id:"from_email",type:"email",value:p.from_email,onChange:C=>x({...p,from_email:C.target.value}),className:"mt-1",placeholder:"noreply@riofish.com",required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"from_name",className:"text-sm font-medium text-gray-700",children:"From Name"}),a.jsx(qe,{id:"from_name",value:p.from_name,onChange:C=>x({...p,from_name:C.target.value}),className:"mt-1",placeholder:"Rio Fish Management",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"api_key",className:"text-sm font-medium text-gray-700",children:"API Key *"}),a.jsx(qe,{id:"api_key",name:"api_key",type:"password",autoComplete:"off",value:p.api_key,onChange:C=>x({...p,api_key:C.target.value}),className:"mt-1",disabled:Te==="saving-email-config",placeholder:"Your email service API key",required:!0})]}),p.provider==="smtp"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"smtp_host",className:"text-sm font-medium text-gray-700",children:"SMTP Host"}),a.jsx(qe,{id:"smtp_host",value:p.smtp_host||"",onChange:C=>x({...p,smtp_host:C.target.value}),className:"mt-1",placeholder:"smtp.gmail.com"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"smtp_port",className:"text-sm font-medium text-gray-700",children:"SMTP Port"}),a.jsx(qe,{id:"smtp_port",type:"number",value:p.smtp_port||"",onChange:C=>x({...p,smtp_port:parseInt(C.target.value)||587}),className:"mt-1",placeholder:"587"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"smtp_username",className:"text-sm font-medium text-gray-700",children:"SMTP Username"}),a.jsx(qe,{id:"smtp_username",value:p.smtp_username||"",onChange:C=>x({...p,smtp_username:C.target.value}),className:"mt-1",placeholder:"your-email@gmail.com"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"smtp_pass",className:"text-sm font-medium text-gray-700",children:"SMTP Password"}),a.jsx(qe,{id:"smtp_pass",name:"smtp_pass",type:"password",autoComplete:"off",value:p.smtp_pass||"",onChange:C=>x({...p,smtp_pass:C.target.value}),className:"mt-1",disabled:Te==="saving-email-config",placeholder:"your-app-password"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),a.jsx(te,{type:"submit",disabled:Te==="saving-email-config",children:Te==="saving-email-config"?"Saving...":"Save Configuration"})]})]})]})}),a.jsx(Rt,{open:G,onOpenChange:ee,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Nn,{className:"h-5 w-5 text-purple-600"}),"Add New Storage Location"]}),a.jsx(sn,{children:"Create a new storage location for fish processing and storage"})]}),a.jsxs("form",{onSubmit:C=>{C.preventDefault(),_D()},children:[a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage_name",className:"text-sm font-medium text-gray-700",children:"Location Name *"}),a.jsx(qe,{id:"storage_name",value:ue.name,onChange:C=>Ce({...ue,name:C.target.value}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"e.g., Cold Storage A",required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage_type",className:"text-sm font-medium text-gray-700",children:"Location Type *"}),a.jsxs(lr,{value:ue.location_type,onValueChange:C=>Ce({...ue,location_type:C}),children:[a.jsx(dr,{className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",children:a.jsx(cr,{})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"cold_storage",children:"Cold Storage"}),a.jsx(Fe,{value:"freezer",children:"Freezer"}),a.jsx(Fe,{value:"ambient",children:"Ambient"}),a.jsx(Fe,{value:"processing_area",children:"Processing Area"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage_description",className:"text-sm font-medium text-gray-700",children:"Description"}),a.jsx($a,{id:"storage_description",value:ue.description,onChange:C=>Ce({...ue,description:C.target.value}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"Brief description of this storage location"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage_capacity",className:"text-sm font-medium text-gray-700",children:"Capacity (kg) *"}),a.jsx(qe,{id:"storage_capacity",type:"number",min:"1",step:"0.01",value:ue.capacity_kg,onChange:C=>Ce({...ue,capacity_kg:parseFloat(C.target.value)||0}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage_temperature",className:"text-sm font-medium text-gray-700",children:"Temperature (C)"}),a.jsx(qe,{id:"storage_temperature",type:"number",step:"0.1",value:ue.temperature_celsius,onChange:C=>Ce({...ue,temperature_celsius:parseFloat(C.target.value)||0}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"4.0"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage_humidity",className:"text-sm font-medium text-gray-700",children:"Humidity (%)"}),a.jsx(qe,{id:"storage_humidity",type:"number",min:"0",max:"100",step:"0.1",value:ue.humidity_percent,onChange:C=>Ce({...ue,humidity_percent:parseFloat(C.target.value)||0}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"85.0"})]})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"storage_status",className:"text-sm font-medium text-gray-700",children:"Status"}),a.jsxs(lr,{value:ue.status,onValueChange:C=>Ce({...ue,status:C}),children:[a.jsx(dr,{className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",children:a.jsx(cr,{})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"active",children:"Active"}),a.jsx(Fe,{value:"maintenance",children:"Maintenance"}),a.jsx(Fe,{value:"inactive",children:"Inactive"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>ee(!1),children:"Cancel"}),a.jsx(te,{type:"submit",disabled:Te==="saving-storage",className:"bg-purple-600 hover:bg-purple-700",children:Te==="saving-storage"?"Creating...":"Create Location"})]})]})]})}),a.jsx(Rt,{open:ne,onOpenChange:R,children:a.jsxs(Mt,{className:"max-w-2xl",children:[a.jsxs(Lt,{children:[a.jsxs(zt,{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Vn,{className:"h-5 w-5 text-purple-600"}),W?"Edit Outlet":"Add New Outlet"]}),a.jsx(sn,{children:W?"Update outlet information":"Create a new retail outlet or distribution partner"})]}),a.jsxs("form",{onSubmit:C=>{C.preventDefault(),kD()},children:[a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(de,{htmlFor:"outlet_name",children:"Outlet Name"}),a.jsx(qe,{id:"outlet_name",value:xe.name,onChange:C=>me({...xe,name:C.target.value}),placeholder:"e.g., Nakuru Fresh Fish Market",required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"outlet_location",children:"Location"}),a.jsx(qe,{id:"outlet_location",value:xe.location,onChange:C=>me({...xe,location:C.target.value}),placeholder:"e.g., Nakuru, Kenya",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"outlet_phone",children:"Phone Number"}),a.jsx(qe,{id:"outlet_phone",value:xe.phone,onChange:C=>me({...xe,phone:C.target.value}),placeholder:"e.g., +254722456789",required:!0})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"outlet_manager_name",children:"Manager Name (Optional)"}),a.jsx(qe,{id:"outlet_manager_name",value:xe.manager_name,onChange:C=>me({...xe,manager_name:C.target.value}),placeholder:"e.g., John Doe"})]}),a.jsxs("div",{children:[a.jsx(de,{htmlFor:"outlet_status",children:"Status"}),a.jsxs(lr,{value:xe.status,onValueChange:C=>me({...xe,status:C}),children:[a.jsx(dr,{children:a.jsx(cr,{})}),a.jsxs(ur,{children:[a.jsx(Fe,{value:"active",children:"Active"}),a.jsx(Fe,{value:"inactive",children:"Inactive"}),a.jsx(Fe,{value:"suspended",children:"Suspended"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Cancel"}),a.jsx(te,{type:"submit",disabled:Te==="saving-outlet",className:"bg-purple-600 hover:bg-purple-700",children:Te==="saving-outlet"?"Saving...":W?"Update Outlet":"Create Outlet"})]})]})]})})]})})}const S1e=Object.freeze(Object.defineProperty({__proto__:null,default:k1e},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();
