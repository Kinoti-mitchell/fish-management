const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-C5-62TdP.js","assets/main-c8IhzymI.css"])))=>i.map(i=>d[i]);
import{c as ie,r as t,G as We,j as e,x as Wa,z as Qe,y as ms,J as Ve,a8 as Le,a9 as Ha,K as ra,B as A,l as U,I as T,X as Ba,u as Ya,aa as ae,a as ee,b as se,f as de,g as xe,C as ia,W as Oe,T as Rs,S as ks,d as Es,P as ls,H as na,p as le,U as Te,E as Ze,ab as Xa,w as Bs,s as M,o as Ga,t as k,k as Za,A as Ys,i as Xs,L as N,ac as Qa,e as rs,_ as ys,ad as Ja}from"./main-C5-62TdP.js";import{e as Ka,C as Gs,S as ge,a as pe,b as fe,c as ve,d as F}from"./select-liWvIrjD.js";import{D as Ae,b as Re,c as ke,d as Ee,f as De}from"./dialog-BGTk-Y08.js";import{T as et,a as st,b as Ce,c as Pe}from"./tabs-BTC-rkPi.js";import{T as bs,a as js,b as $e,c as H,d as ws,e as B}from"./table-B5M-SzER.js";import{T as Ns}from"./textarea-nq2pK5hI.js";import{a as at}from"./auditLogger-KwN_3Uu6.js";import{u as tt}from"./index-BR-VSKA0.js";import{C as Ds,a as rt}from"./index-ZqdLwMaO.js";import{S as Ts}from"./search-qMMBCM6I.js";import{U as it}from"./user-4dPXJXpn.js";import{C as la}from"./chevron-right-CLNSqRvb.js";import{C as os}from"./circle-check-big-C9Puvv68.js";import{D as Zs}from"./download-B96eQdeM.js";import{S as oa}from"./settings-B65JkBfK.js";import{F as nt}from"./file-text-sglRvxGr.js";import{A as ns}from"./activity-ClVF3pqk.js";import{C as ca}from"./clock-BZPjglUX.js";import{B as _s}from"./building-2-bkhxkr71.js";import{P as Ge}from"./plus-Deih2gaB.js";import{P as Ss}from"./phone-C2vIkzIC.js";import{S as is}from"./square-pen-BQcsdleY.js";import{M as Qs}from"./map-pin-CDYUHoLE.js";import{R as Js}from"./refresh-cw-DsW1Yhxs.js";import{C as Ks}from"./circle-x-GvNIfTBp.js";import"./index-DWWnO0uh.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ls=ie("clipboard-list",lt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hs=ie("crown",ot);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],dt=ie("database",ct);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],ht=ie("file-chart-column-increasing",mt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xt=ie("info",ut);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],pt=ie("key",gt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ea=ie("mail",ft);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sa=ie("send",vt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bt=ie("shield-check",yt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]],Fe=ie("tractor",jt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Nt=ie("user-minus",wt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],St=ie("user-plus",_t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],aa=ie("wheat",Ct);function Pt(a,r){return t.useReducer((i,c)=>r[i][c]??i,a)}var Fs="ScrollArea",[da,wr]=Wa(Fs),[At,oe]=da(Fs),ma=t.forwardRef((a,r)=>{const{__scopeScrollArea:i,type:c="hover",dir:l,scrollHideDelay:d=600,...h}=a,[u,p]=t.useState(null),[f,v]=t.useState(null),[C,y]=t.useState(null),[P,L]=t.useState(null),[_,I]=t.useState(null),[$,x]=t.useState(0),[E,O]=t.useState(0),[Z,D]=t.useState(!1),[te,m]=t.useState(!1),n=We(r,w=>p(w)),S=tt(l);return e.jsx(At,{scope:i,type:c,dir:S,scrollHideDelay:d,scrollArea:u,viewport:f,onViewportChange:v,content:C,onContentChange:y,scrollbarX:P,onScrollbarXChange:L,scrollbarXEnabled:Z,onScrollbarXEnabledChange:D,scrollbarY:_,onScrollbarYChange:I,scrollbarYEnabled:te,onScrollbarYEnabledChange:m,onCornerWidthChange:x,onCornerHeightChange:O,children:e.jsx(Qe.div,{dir:S,...h,ref:n,style:{position:"relative","--radix-scroll-area-corner-width":$+"px","--radix-scroll-area-corner-height":E+"px",...a.style}})})});ma.displayName=Fs;var ha="ScrollAreaViewport",ua=t.forwardRef((a,r)=>{const{__scopeScrollArea:i,children:c,nonce:l,...d}=a,h=oe(ha,i),u=t.useRef(null),p=We(r,u,h.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...d,ref:p,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...a.style},children:e.jsx("div",{ref:h.onContentChange,style:{minWidth:"100%",display:"table"},children:c})})]})});ua.displayName=ha;var me="ScrollAreaScrollbar",xa=t.forwardRef((a,r)=>{const{forceMount:i,...c}=a,l=oe(me,a.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:h}=l,u=a.orientation==="horizontal";return t.useEffect(()=>(u?d(!0):h(!0),()=>{u?d(!1):h(!1)}),[u,d,h]),l.type==="hover"?e.jsx(Rt,{...c,ref:r,forceMount:i}):l.type==="scroll"?e.jsx(kt,{...c,ref:r,forceMount:i}):l.type==="auto"?e.jsx(ga,{...c,ref:r,forceMount:i}):l.type==="always"?e.jsx(Vs,{...c,ref:r}):null});xa.displayName=me;var Rt=t.forwardRef((a,r)=>{const{forceMount:i,...c}=a,l=oe(me,a.__scopeScrollArea),[d,h]=t.useState(!1);return t.useEffect(()=>{const u=l.scrollArea;let p=0;if(u){const f=()=>{window.clearTimeout(p),h(!0)},v=()=>{p=window.setTimeout(()=>h(!1),l.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",v),()=>{window.clearTimeout(p),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",v)}}},[l.scrollArea,l.scrollHideDelay]),e.jsx(ms,{present:i||d,children:e.jsx(ga,{"data-state":d?"visible":"hidden",...c,ref:r})})}),kt=t.forwardRef((a,r)=>{const{forceMount:i,...c}=a,l=oe(me,a.__scopeScrollArea),d=a.orientation==="horizontal",h=xs(()=>p("SCROLL_END"),100),[u,p]=Pt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return t.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>p("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,l.scrollHideDelay,p]),t.useEffect(()=>{const f=l.viewport,v=d?"scrollLeft":"scrollTop";if(f){let C=f[v];const y=()=>{const P=f[v];C!==P&&(p("SCROLL"),h()),C=P};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[l.viewport,d,p,h]),e.jsx(ms,{present:i||u!=="hidden",children:e.jsx(Vs,{"data-state":u==="hidden"?"hidden":"visible",...c,ref:r,onPointerEnter:Ve(a.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:Ve(a.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),ga=t.forwardRef((a,r)=>{const i=oe(me,a.__scopeScrollArea),{forceMount:c,...l}=a,[d,h]=t.useState(!1),u=a.orientation==="horizontal",p=xs(()=>{if(i.viewport){const f=i.viewport.offsetWidth<i.viewport.scrollWidth,v=i.viewport.offsetHeight<i.viewport.scrollHeight;h(u?f:v)}},10);return ze(i.viewport,p),ze(i.content,p),e.jsx(ms,{present:c||d,children:e.jsx(Vs,{"data-state":d?"visible":"hidden",...l,ref:r})})}),Vs=t.forwardRef((a,r)=>{const{orientation:i="vertical",...c}=a,l=oe(me,a.__scopeScrollArea),d=t.useRef(null),h=t.useRef(0),[u,p]=t.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=ba(u.viewport,u.content),v={...c,sizes:u,onSizesChange:p,hasThumb:f>0&&f<1,onThumbChange:y=>d.current=y,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:y=>h.current=y};function C(y,P){return Ft(y,h.current,u,P)}return i==="horizontal"?e.jsx(Et,{...v,ref:r,onThumbPositionChange:()=>{if(l.viewport&&d.current){const y=l.viewport.scrollLeft,P=ta(y,u,l.dir);d.current.style.transform=`translate3d(${P}px, 0, 0)`}},onWheelScroll:y=>{l.viewport&&(l.viewport.scrollLeft=y)},onDragScroll:y=>{l.viewport&&(l.viewport.scrollLeft=C(y,l.dir))}}):i==="vertical"?e.jsx(Dt,{...v,ref:r,onThumbPositionChange:()=>{if(l.viewport&&d.current){const y=l.viewport.scrollTop,P=ta(y,u);d.current.style.transform=`translate3d(0, ${P}px, 0)`}},onWheelScroll:y=>{l.viewport&&(l.viewport.scrollTop=y)},onDragScroll:y=>{l.viewport&&(l.viewport.scrollTop=C(y))}}):null}),Et=t.forwardRef((a,r)=>{const{sizes:i,onSizesChange:c,...l}=a,d=oe(me,a.__scopeScrollArea),[h,u]=t.useState(),p=t.useRef(null),f=We(r,p,d.onScrollbarXChange);return t.useEffect(()=>{p.current&&u(getComputedStyle(p.current))},[p]),e.jsx(fa,{"data-orientation":"horizontal",...l,ref:f,sizes:i,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":us(i)+"px",...a.style},onThumbPointerDown:v=>a.onThumbPointerDown(v.x),onDragScroll:v=>a.onDragScroll(v.x),onWheelScroll:(v,C)=>{if(d.viewport){const y=d.viewport.scrollLeft+v.deltaX;a.onWheelScroll(y),wa(y,C)&&v.preventDefault()}},onResize:()=>{p.current&&d.viewport&&h&&c({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:ds(h.paddingLeft),paddingEnd:ds(h.paddingRight)}})}})}),Dt=t.forwardRef((a,r)=>{const{sizes:i,onSizesChange:c,...l}=a,d=oe(me,a.__scopeScrollArea),[h,u]=t.useState(),p=t.useRef(null),f=We(r,p,d.onScrollbarYChange);return t.useEffect(()=>{p.current&&u(getComputedStyle(p.current))},[p]),e.jsx(fa,{"data-orientation":"vertical",...l,ref:f,sizes:i,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":us(i)+"px",...a.style},onThumbPointerDown:v=>a.onThumbPointerDown(v.y),onDragScroll:v=>a.onDragScroll(v.y),onWheelScroll:(v,C)=>{if(d.viewport){const y=d.viewport.scrollTop+v.deltaY;a.onWheelScroll(y),wa(y,C)&&v.preventDefault()}},onResize:()=>{p.current&&d.viewport&&h&&c({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:ds(h.paddingTop),paddingEnd:ds(h.paddingBottom)}})}})}),[Lt,pa]=da(me),fa=t.forwardRef((a,r)=>{const{__scopeScrollArea:i,sizes:c,hasThumb:l,onThumbChange:d,onThumbPointerUp:h,onThumbPointerDown:u,onThumbPositionChange:p,onDragScroll:f,onWheelScroll:v,onResize:C,...y}=a,P=oe(me,i),[L,_]=t.useState(null),I=We(r,n=>_(n)),$=t.useRef(null),x=t.useRef(""),E=P.viewport,O=c.content-c.viewport,Z=Le(v),D=Le(p),te=xs(C,10);function m(n){if($.current){const S=n.clientX-$.current.left,w=n.clientY-$.current.top;f({x:S,y:w})}}return t.useEffect(()=>{const n=S=>{const w=S.target;L?.contains(w)&&Z(S,O)};return document.addEventListener("wheel",n,{passive:!1}),()=>document.removeEventListener("wheel",n,{passive:!1})},[E,L,O,Z]),t.useEffect(D,[c,D]),ze(L,te),ze(P.content,te),e.jsx(Lt,{scope:i,scrollbar:L,hasThumb:l,onThumbChange:Le(d),onThumbPointerUp:Le(h),onThumbPositionChange:D,onThumbPointerDown:Le(u),children:e.jsx(Qe.div,{...y,ref:I,style:{position:"absolute",...y.style},onPointerDown:Ve(a.onPointerDown,n=>{n.button===0&&(n.target.setPointerCapture(n.pointerId),$.current=L.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",P.viewport&&(P.viewport.style.scrollBehavior="auto"),m(n))}),onPointerMove:Ve(a.onPointerMove,m),onPointerUp:Ve(a.onPointerUp,n=>{const S=n.target;S.hasPointerCapture(n.pointerId)&&S.releasePointerCapture(n.pointerId),document.body.style.webkitUserSelect=x.current,P.viewport&&(P.viewport.style.scrollBehavior=""),$.current=null})})})}),cs="ScrollAreaThumb",va=t.forwardRef((a,r)=>{const{forceMount:i,...c}=a,l=pa(cs,a.__scopeScrollArea);return e.jsx(ms,{present:i||l.hasThumb,children:e.jsx(Ot,{ref:r,...c})})}),Ot=t.forwardRef((a,r)=>{const{__scopeScrollArea:i,style:c,...l}=a,d=oe(cs,i),h=pa(cs,i),{onThumbPositionChange:u}=h,p=We(r,C=>h.onThumbChange(C)),f=t.useRef(void 0),v=xs(()=>{f.current&&(f.current(),f.current=void 0)},100);return t.useEffect(()=>{const C=d.viewport;if(C){const y=()=>{if(v(),!f.current){const P=Vt(C,u);f.current=P,u()}};return u(),C.addEventListener("scroll",y),()=>C.removeEventListener("scroll",y)}},[d.viewport,v,u]),e.jsx(Qe.div,{"data-state":h.hasThumb?"visible":"hidden",...l,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:Ve(a.onPointerDownCapture,C=>{const P=C.target.getBoundingClientRect(),L=C.clientX-P.left,_=C.clientY-P.top;h.onThumbPointerDown({x:L,y:_})}),onPointerUp:Ve(a.onPointerUp,h.onThumbPointerUp)})});va.displayName=cs;var Ms="ScrollAreaCorner",ya=t.forwardRef((a,r)=>{const i=oe(Ms,a.__scopeScrollArea),c=!!(i.scrollbarX&&i.scrollbarY);return i.type!=="scroll"&&c?e.jsx(Tt,{...a,ref:r}):null});ya.displayName=Ms;var Tt=t.forwardRef((a,r)=>{const{__scopeScrollArea:i,...c}=a,l=oe(Ms,i),[d,h]=t.useState(0),[u,p]=t.useState(0),f=!!(d&&u);return ze(l.scrollbarX,()=>{const v=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(v),p(v)}),ze(l.scrollbarY,()=>{const v=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(v),h(v)}),f?e.jsx(Qe.div,{...c,ref:r,style:{width:d,height:u,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...a.style}}):null});function ds(a){return a?parseInt(a,10):0}function ba(a,r){const i=a/r;return isNaN(i)?0:i}function us(a){const r=ba(a.viewport,a.content),i=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,c=(a.scrollbar.size-i)*r;return Math.max(c,18)}function Ft(a,r,i,c="ltr"){const l=us(i),d=l/2,h=r||d,u=l-h,p=i.scrollbar.paddingStart+h,f=i.scrollbar.size-i.scrollbar.paddingEnd-u,v=i.content-i.viewport,C=c==="ltr"?[0,v]:[v*-1,0];return ja([p,f],C)(a)}function ta(a,r,i="ltr"){const c=us(r),l=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,d=r.scrollbar.size-l,h=r.content-r.viewport,u=d-c,p=i==="ltr"?[0,h]:[h*-1,0],f=Ka(a,p);return ja([0,h],[0,u])(f)}function ja(a,r){return i=>{if(a[0]===a[1]||r[0]===r[1])return r[0];const c=(r[1]-r[0])/(a[1]-a[0]);return r[0]+c*(i-a[0])}}function wa(a,r){return a>0&&a<r}var Vt=(a,r=()=>{})=>{let i={left:a.scrollLeft,top:a.scrollTop},c=0;return function l(){const d={left:a.scrollLeft,top:a.scrollTop},h=i.left!==d.left,u=i.top!==d.top;(h||u)&&r(),i=d,c=window.requestAnimationFrame(l)}(),()=>window.cancelAnimationFrame(c)};function xs(a,r){const i=Le(a),c=t.useRef(0);return t.useEffect(()=>()=>window.clearTimeout(c.current),[]),t.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(i,r)},[i,r])}function ze(a,r){const i=Le(r);Ha(()=>{let c=0;if(a){const l=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(i)});return l.observe(a),()=>{window.cancelAnimationFrame(c),l.unobserve(a)}}},[a,i])}var Mt=ma,Ut=ua,It=ya;function Os({className:a,children:r,...i}){return e.jsxs(Mt,{"data-slot":"scroll-area",className:ra("relative",a),...i,children:[e.jsx(Ut,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),e.jsx($t,{}),e.jsx(It,{})]})}function $t({className:a,orientation:r="vertical",...i}){return e.jsx(xa,{"data-slot":"scroll-area-scrollbar",orientation:r,className:ra("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",a),...i,children:e.jsx(va,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const qe=[{id:"*",name:"All Permissions",description:"Full system access - can do everything (Admin only)",category:"System Administration",icon:"Crown"},{id:"manage_users",name:"Manage Users",description:"Create, edit, and delete user accounts and roles",category:"System Administration",icon:"Users"},{id:"view_audit_logs",name:"View Audit Logs",description:"Access system audit logs and activity history",category:"System Administration",icon:"FileText"},{id:"export_data",name:"Export Data",description:"Export system data in various formats",category:"System Administration",icon:"Download"},{id:"view_dashboard",name:"View Dashboard",description:"Access the main dashboard and overview",category:"Dashboard & Overview",icon:"Home"},{id:"view_fish_entry",name:"View Fish Entry",description:"View fish entry records and warehouse operations",category:"Fish Entry & Warehouse",icon:"Warehouse"},{id:"manage_fish_entry",name:"Manage Fish Entry",description:"Create and update fish entry records",category:"Fish Entry & Warehouse",icon:"Warehouse"},{id:"view_warehouse",name:"View Warehouse",description:"View warehouse storage and operations",category:"Fish Entry & Warehouse",icon:"Package"},{id:"manage_warehouse",name:"Manage Warehouse",description:"Update warehouse storage and operations",category:"Fish Entry & Warehouse",icon:"Package"},{id:"view_processing",name:"View Processing",description:"View fish processing operations and records",category:"Processing Operations",icon:"Scissors"},{id:"manage_processing",name:"Manage Processing",description:"Create and update fish processing operations",category:"Processing Operations",icon:"Scissors"},{id:"view_sorting",name:"View Sorting",description:"View fish sorting operations and records",category:"Processing Operations",icon:"Filter"},{id:"manage_sorting",name:"Manage Sorting",description:"Create and update fish sorting operations",category:"Processing Operations",icon:"Filter"},{id:"view_inventory",name:"View Inventory",description:"View fish inventory and stock levels",category:"Inventory Management",icon:"Package"},{id:"manage_inventory",name:"Manage Inventory",description:"Update inventory records and stock levels",category:"Inventory Management",icon:"Package"},{id:"view_outlet_orders",name:"View Outlet Orders",description:"View outlet order records and status",category:"Outlet Operations",icon:"ShoppingCart"},{id:"manage_outlet_orders",name:"Manage Outlet Orders",description:"Create and update outlet orders",category:"Outlet Operations",icon:"ShoppingCart"},{id:"view_outlet_receiving",name:"View Outlet Receiving",description:"View outlet receiving records and confirmations",category:"Outlet Operations",icon:"CheckSquare"},{id:"manage_outlet_receiving",name:"Manage Outlet Receiving",description:"Update outlet receiving records and confirmations",category:"Outlet Operations",icon:"CheckSquare"},{id:"view_dispatch",name:"View Dispatch",description:"View dispatch operations and delivery records",category:"Dispatch & Delivery",icon:"Truck"},{id:"manage_dispatch",name:"Manage Dispatch",description:"Create and update dispatch operations",category:"Dispatch & Delivery",icon:"Truck"},{id:"view_delivery",name:"View Delivery",description:"View delivery records and status",category:"Dispatch & Delivery",icon:"Truck"},{id:"manage_delivery",name:"Manage Delivery",description:"Update delivery records and status",category:"Dispatch & Delivery",icon:"Truck"},{id:"view_disposal",name:"View Disposal",description:"View disposal records and waste management",category:"Disposal Management",icon:"Trash2"},{id:"manage_disposal",name:"Manage Disposal",description:"Create and update disposal records",category:"Disposal Management",icon:"Trash2"},{id:"view_clients",name:"View Clients",description:"View client information and records",category:"Client Management",icon:"Users"},{id:"manage_clients",name:"Manage Clients",description:"Create and update client records",category:"Client Management",icon:"Users"},{id:"view_reports",name:"View Reports",description:"View system reports and analytics",category:"Reports & Analytics",icon:"BarChart3"},{id:"export_reports",name:"Export Reports",description:"Export reports to CSV and other formats",category:"Reports & Analytics",icon:"Download"}],Cs=["System Administration","Dashboard & Overview","Fish Entry & Warehouse","Processing Operations","Inventory Management","Outlet Operations","Dispatch & Delivery","Disposal Management","Client Management","Reports & Analytics"];function qt({selectedPermissions:a,onPermissionsChange:r,className:i=""}){const[c,l]=t.useState(!1),[d,h]=t.useState(""),[u,p]=t.useState(Cs),f=t.useRef(null);t.useEffect(()=>{const x=O=>{f.current&&!f.current.contains(O.target)&&(l(!1),h(""))},E=O=>{O.key==="Escape"&&(l(!1),h(""))};return c&&(document.addEventListener("mousedown",x),document.addEventListener("keydown",E)),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",E)}},[c]);const v=qe.filter(x=>x.name.toLowerCase().includes(d.toLowerCase())||x.description.toLowerCase().includes(d.toLowerCase())||x.category.toLowerCase().includes(d.toLowerCase())),C=Cs.reduce((x,E)=>(x[E]=v.filter(O=>O.category===E),x),{}),y=x=>{if(x==="*")r(["*"]);else{const E=a.filter(D=>D!=="*"),O=E.includes(x)?E.filter(D=>D!==x):[...E,x],Z=[...new Set(O)];r(Z)}},P=x=>{p(E=>E.includes(x)?E.filter(O=>O!==x):[...E,x])},L=()=>{r([])},_=()=>{r(["*"])},I=x=>{const O=qe.filter(m=>m.category===x).map(m=>m.id),D=[...a.filter(m=>m!=="*"),...O],te=[...new Set(D)];r(te)},$=x=>{const O=qe.filter(D=>D.category===x).map(D=>D.id),Z=a.filter(D=>!O.includes(D));r(Z)};return e.jsxs("div",{ref:f,className:`relative ${i}`,children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>l(!c),className:"w-full justify-between h-auto min-h-[40px] p-3",children:e.jsxs("div",{className:"flex flex-col items-start w-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{className:"text-sm font-medium",children:a.length===0?"Select permissions...":a.includes("*")?"All Permissions":`${a.length} permissions selected`}),c?e.jsx(Gs,{className:"h-4 w-4"}):e.jsx(Ds,{className:"h-4 w-4"})]}),a.length>0&&a.length<=3&&!a.includes("*")&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2 w-full",children:a.map(x=>{const E=qe.find(O=>O.id===x);return e.jsx(U,{variant:"secondary",className:"text-xs",children:E?.name||x},x)})})]})}),c&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-xl max-h-96",children:[e.jsxs("div",{className:"p-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ts,{className:"h-4 w-4 text-gray-400"}),e.jsx(T,{placeholder:"Search permissions...",value:d,onChange:x=>h(x.target.value),className:"flex-1"})]}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(A,{size:"sm",variant:"outline",onClick:_,children:"Select All"}),e.jsx(A,{size:"sm",variant:"outline",onClick:L,children:"Clear All"})]}),a.length>0&&e.jsxs("div",{className:"text-xs text-gray-600 bg-blue-50 p-2 rounded",children:[e.jsx("strong",{children:"Currently selected:"})," ",a.includes("*")?"All Permissions":a.map(x=>qe.find(E=>E.id===x)?.name||x).join(", ")]})]}),e.jsx(Os,{className:"max-h-80",children:e.jsx("div",{className:"p-2",children:Cs.map(x=>{const E=C[x];if(E.length===0)return null;const O=u.includes(x),Z=E.filter(D=>a.includes(D.id)).length;return e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>P(x),className:"flex-1 justify-between p-2 h-auto",children:[e.jsxs("span",{className:"font-medium text-sm",children:[x," (",Z,"/",E.length,")"]}),O?e.jsx(Gs,{className:"h-4 w-4"}):e.jsx(Ds,{className:"h-4 w-4"})]}),O&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx(A,{variant:"outline",size:"sm",onClick:()=>I(x),className:"h-6 px-2 text-xs",title:"Select all in category",children:"All"}),e.jsx(A,{variant:"outline",size:"sm",onClick:()=>$(x),className:"h-6 px-2 text-xs",title:"Clear all in category",children:"Clear"})]})]}),O&&e.jsx("div",{className:"ml-4 space-y-1",children:E.map(D=>{const te=a.includes(D.id);return e.jsx("div",{className:`flex items-start gap-2 p-2 rounded cursor-pointer transition-colors ${te?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,onClick:()=>y(D.id),children:e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${te?"bg-blue-600 border-blue-600":"border-gray-300"}`,children:te&&e.jsx(rt,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:D.name}),D.id==="*"&&e.jsx(U,{variant:"destructive",className:"text-xs",children:"Admin"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:D.description})]})]})},D.id)})})]},x)})})}),e.jsx("div",{className:"p-3 border-t bg-gray-50",children:e.jsx("div",{className:"flex justify-end",children:e.jsx(A,{size:"sm",onClick:()=>l(!1),className:"h-7 px-3 text-xs",children:"Done"})})}),a.length>0&&e.jsx("div",{className:"p-3 border-t bg-gray-50",children:e.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:a.map(x=>{const E=qe.find(O=>O.id===x);return e.jsxs(U,{variant:"secondary",className:"text-xs",children:[E?.name||x,e.jsx(Ba,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:O=>{O.stopPropagation(),y(x)}})]},x)})})})]})]})}const Ps={"System Administration":{icon:hs,color:"bg-red-100 text-red-800 border-red-200"},"Basic Access":{icon:na,color:"bg-blue-100 text-blue-800 border-blue-200"},"Inventory Management":{icon:ls,color:"bg-green-100 text-green-800 border-green-200"},"Processing Operations":{icon:Es,color:"bg-purple-100 text-purple-800 border-purple-200"},"Quality Control":{icon:os,color:"bg-yellow-100 text-yellow-800 border-yellow-200"},"Farming Operations":{icon:Fe,color:"bg-orange-100 text-orange-800 border-orange-200"},"Sales & Customer Management":{icon:ks,color:"bg-pink-100 text-pink-800 border-pink-200"},"Logistics & Dispatch":{icon:Rs,color:"bg-indigo-100 text-indigo-800 border-indigo-200"},"Orders Management":{icon:Ls,color:"bg-teal-100 text-teal-800 border-teal-200"},"Warehouse Operations":{icon:Oe,color:"bg-gray-100 text-gray-800 border-gray-200"},"Reports & Analytics":{icon:ia,color:"bg-cyan-100 text-cyan-800 border-cyan-200"}},zt={"*":hs,admin_access:ae,manage_users:Te,manage_roles:bt,view_audit_logs:nt,system_settings:oa,export_data:Zs,basic_access:na,read_all_data:Ze,view_inventory:ls,manage_inventory:ls,delete_inventory:le,view_processing:Es,manage_processing:Es,delete_processing:le,view_quality:os,manage_quality:os,delete_quality:le,view_farming:Fe,manage_farming:Fe,delete_farming:le,view_harvests:aa,manage_harvests:aa,delete_harvests:le,view_sales:ks,manage_sales:ks,delete_sales:le,view_customers:Te,manage_customers:St,delete_customers:Nt,view_logistics:Rs,manage_logistics:Rs,delete_logistics:le,view_dispatch:sa,manage_dispatch:sa,delete_dispatch:le,view_orders:Ls,manage_orders:Ls,delete_orders:le,view_warehouse:Oe,manage_warehouse:Oe,delete_warehouse:le,view_reports:ia,create_reports:ht,export_reports:Zs},As=[{id:"*",name:"All Permissions",description:"Full system access - can do everything (Admin only)",category:"System Administration"},{id:"admin_access",name:"Admin Access",description:"Full administrative access to all system functions",category:"System Administration"},{id:"manage_users",name:"Manage Users",description:"Create, edit, and delete user accounts",category:"System Administration"},{id:"manage_roles",name:"Manage Roles",description:"Create, edit, and delete user roles and permissions",category:"System Administration"},{id:"view_audit_logs",name:"View Audit Logs",description:"Access system audit logs and activity history",category:"System Administration"},{id:"system_settings",name:"System Settings",description:"Configure system-wide settings and preferences",category:"System Administration"},{id:"export_data",name:"Export Data",description:"Export system data in various formats",category:"System Administration"},{id:"basic_access",name:"Basic Access",description:"Basic system access and navigation",category:"Basic Access"},{id:"read_all_data",name:"Read All Data",description:"View all system data without modification rights",category:"Basic Access"},{id:"view_inventory",name:"View Inventory",description:"View fish inventory and stock levels",category:"Inventory Management"},{id:"manage_inventory",name:"Manage Inventory",description:"Add, update, and modify inventory records",category:"Inventory Management"},{id:"delete_inventory",name:"Delete Inventory",description:"Remove inventory records and items",category:"Inventory Management"},{id:"view_processing",name:"View Processing",description:"View fish processing operations and records",category:"Processing Operations"},{id:"manage_processing",name:"Manage Processing",description:"Create and update processing operations",category:"Processing Operations"},{id:"delete_processing",name:"Delete Processing",description:"Remove processing records and operations",category:"Processing Operations"},{id:"view_quality",name:"View Quality",description:"View quality control records and assessments",category:"Quality Control"},{id:"manage_quality",name:"Manage Quality",description:"Create and update quality control assessments",category:"Quality Control"},{id:"delete_quality",name:"Delete Quality",description:"Remove quality control records",category:"Quality Control"},{id:"view_farming",name:"View Farming",description:"View farming operations and records",category:"Farming Operations"},{id:"manage_farming",name:"Manage Farming",description:"Create and update farming operations",category:"Farming Operations"},{id:"delete_farming",name:"Delete Farming",description:"Remove farming operation records",category:"Farming Operations"},{id:"view_harvests",name:"View Harvests",description:"View harvest records and data",category:"Farming Operations"},{id:"manage_harvests",name:"Manage Harvests",description:"Create and update harvest records",category:"Farming Operations"},{id:"delete_harvests",name:"Delete Harvests",description:"Remove harvest records",category:"Farming Operations"},{id:"view_sales",name:"View Sales",description:"View sales records and transactions",category:"Sales & Customer Management"},{id:"manage_sales",name:"Manage Sales",description:"Create and update sales transactions",category:"Sales & Customer Management"},{id:"delete_sales",name:"Delete Sales",description:"Remove sales records and transactions",category:"Sales & Customer Management"},{id:"view_customers",name:"View Customers",description:"View customer information and records",category:"Sales & Customer Management"},{id:"manage_customers",name:"Manage Customers",description:"Create and update customer information",category:"Sales & Customer Management"},{id:"delete_customers",name:"Delete Customers",description:"Remove customer records",category:"Sales & Customer Management"},{id:"view_logistics",name:"View Logistics",description:"View logistics and transportation records",category:"Logistics & Dispatch"},{id:"manage_logistics",name:"Manage Logistics",description:"Create and update logistics operations",category:"Logistics & Dispatch"},{id:"delete_logistics",name:"Delete Logistics",description:"Remove logistics records",category:"Logistics & Dispatch"},{id:"view_dispatch",name:"View Dispatch",description:"View dispatch records and deliveries",category:"Logistics & Dispatch"},{id:"manage_dispatch",name:"Manage Dispatch",description:"Create and update dispatch operations",category:"Logistics & Dispatch"},{id:"delete_dispatch",name:"Delete Dispatch",description:"Remove dispatch records",category:"Logistics & Dispatch"},{id:"view_orders",name:"View Orders",description:"View outlet orders and requests",category:"Orders Management"},{id:"manage_orders",name:"Manage Orders",description:"Create, update, and process orders",category:"Orders Management"},{id:"delete_orders",name:"Delete Orders",description:"Remove order records",category:"Orders Management"},{id:"view_warehouse",name:"View Warehouse",description:"View warehouse operations and storage",category:"Warehouse Operations"},{id:"manage_warehouse",name:"Manage Warehouse",description:"Create and update warehouse operations",category:"Warehouse Operations"},{id:"delete_warehouse",name:"Delete Warehouse",description:"Remove warehouse operation records",category:"Warehouse Operations"},{id:"view_reports",name:"View Reports",description:"View system reports and analytics",category:"Reports & Analytics"},{id:"create_reports",name:"Create Reports",description:"Generate custom reports and analytics",category:"Reports & Analytics"},{id:"export_reports",name:"Export Reports",description:"Export reports to CSV and other formats",category:"Reports & Analytics"}];function Wt({className:a="",showAsModal:r=!1,onClose:i}){const{userProfile:c,userRole:l,permissions:d,loading:h}=Ya(),[u,p]=t.useState(!1),v=h?[]:!d||d.length===0?[]:d.includes("*")?As:d.map(L=>As.find(_=>_.id===L)).filter(Boolean),C=v.reduce((L,_)=>(L[_.category]||(L[_.category]=[]),L[_.category].push(_),L),{}),y=d.includes("*"),P=()=>e.jsxs("div",{className:a,children:[h&&e.jsx(ee,{children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(ae,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:"Loading permissions..."}),e.jsx("p",{className:"text-xs text-gray-600",children:"Please wait while we fetch your permissions"})]})]})})}),!h&&(!c||!d)&&e.jsx(ee,{children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:e.jsx(ae,{className:"h-4 w-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:"Unable to load permissions"}),e.jsx("p",{className:"text-xs text-gray-600",children:"There was an issue loading your permissions. Please try refreshing the page."})]})]})})}),!h&&c&&d&&e.jsxs(ee,{children:[e.jsx(de,{className:"pb-3",children:e.jsxs(xe,{className:"flex items-center gap-2 text-lg",children:[e.jsx(ae,{className:"h-5 w-5 text-blue-600"}),"Your Permissions"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(it,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-sm text-blue-900",children:[c?.first_name," ",c?.last_name]}),e.jsx("p",{className:"text-xs text-blue-600",children:c?.email})]}),e.jsx(U,{className:"bg-blue-100 text-blue-800 border-blue-200",children:l?.name?.replace("_"," ").toUpperCase()||l?.display_name?.toUpperCase()||"USER"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Permissions:"}),e.jsx(U,{variant:"outline",className:"bg-white",children:y?"All Permissions":`${v.length} permissions`})]}),y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[e.jsx(hs,{className:"h-4 w-4"}),e.jsx("span",{children:"You have full administrative access to the system"})]})]}),!y&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700",children:"Permission Categories"}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>p(!u),className:"h-6 px-2 text-xs",children:[u?"Collapse":"Expand"," All",e.jsx(la,{className:`h-3 w-3 ml-1 transition-transform ${u?"rotate-90":""}`})]})]}),e.jsx(Os,{className:"max-h-96",children:e.jsx("div",{className:"space-y-2",children:Object.entries(C).map(([L,_])=>{const I=Ps[L]?.icon||ae;return Ps[L]?.color,e.jsxs("div",{className:"border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border-b",children:[e.jsx(I,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-medium text-sm text-gray-700",children:L}),e.jsxs(U,{variant:"outline",className:"ml-auto text-xs",children:[_.length," permissions"]})]}),e.jsx("div",{className:"p-3 space-y-2",children:_.map($=>{const x=zt[$.id]||pt;return e.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border",children:[e.jsx(x,{className:"h-4 w-4 text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm text-gray-900",children:$.name}),e.jsx("p",{className:"text-xs text-gray-500",children:$.description})]})]},$.id)})})]},L)})})})]}),y&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700",children:"Available System Permissions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(Ps).map(([L,_])=>{const I=_.icon,$=As.filter(x=>x.category===L);return e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-medium text-sm text-gray-700",children:L}),e.jsx(U,{variant:"outline",className:"ml-auto text-xs",children:$.length})]}),e.jsxs("div",{className:"space-y-1",children:[$.slice(0,3).map(x=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:x.name})]},x.id)),$.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 ml-3.5",children:["+",$.length-3," more permissions"]})]})]},L)})})]})]})]})]});return r?e.jsx(Ae,{open:!0,onOpenChange:i,children:e.jsxs(Re,{className:"max-w-4xl max-h-[80vh]",children:[e.jsxs(ke,{children:[e.jsxs(Ee,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5 text-blue-600"}),"Your Role & Permissions"]}),e.jsx(De,{children:"View your assigned role and the permissions you have in the Fish Management System"})]}),e.jsx(Os,{className:"max-h-[60vh]",children:e.jsx(P,{})})]})}):e.jsx(P,{})}const Us=t.createContext({open:!1,onOpenChange:()=>{}}),Na=t.forwardRef(({open:a=!1,onOpenChange:r,children:i,...c},l)=>e.jsx(Us.Provider,{value:{open:a,onOpenChange:r||(()=>{})},children:e.jsx("div",{ref:l,...c,children:i})}));Na.displayName="Collapsible";const _a=t.forwardRef(({asChild:a,children:r,onClick:i,...c},l)=>{const{open:d,onOpenChange:h}=t.useContext(Us),u=()=>{h(!d),i?.()};return a&&t.isValidElement(r)?t.cloneElement(r,{...c,ref:l,onClick:u}):e.jsx("button",{ref:l,onClick:u,...c,children:r})});_a.displayName="CollapsibleTrigger";const Sa=t.forwardRef(({children:a,...r},i)=>{const{open:c}=t.useContext(Us);return c?e.jsx("div",{ref:i,...r,children:a}):null});Sa.displayName="CollapsibleContent";function Ht({onNavigate:a}){const[r,i]=t.useState([]),[c,l]=t.useState(!0),[d,h]=t.useState(""),[u,p]=t.useState("all"),[f,v]=t.useState("all"),[C,y]=t.useState(new Set),[P,L]=t.useState(!1),_=async()=>{try{l(!0);const{data:m,error:n}=await Bs(async()=>await M.from("profiles").select("*").order("created_at",{ascending:!1}));if(n)throw n;const{data:S,error:w}=await Bs(async()=>await M.from("audit_logs").select(`
            *,
            user:profiles!audit_logs_user_id_fkey(first_name, last_name, email, role)
          `).order("created_at",{ascending:!1}).limit(1e3));if(w)throw w;const re=new Map;(S||[]).forEach(z=>{z.user_id&&(re.has(z.user_id)||re.set(z.user_id,[]),re.get(z.user_id).push(z))});const Je=(m||[]).map(z=>({...z,audit_logs:re.get(z.id)||[],total_activities:re.get(z.id)?.length||0,last_login:re.get(z.id)?.[0]?.created_at||null}));Je.sort((z,we)=>z.total_activities>0&&we.total_activities===0?-1:z.total_activities===0&&we.total_activities>0?1:z.total_activities>0&&we.total_activities>0?new Date(we.last_login||0).getTime()-new Date(z.last_login||0).getTime():new Date(we.created_at).getTime()-new Date(z.created_at).getTime()),i(Je)}catch(m){const n=Ga(m,"fetching audit logs");k.error(n)}finally{l(!1)}};t.useEffect(()=>{_()},[]);const I=r.filter(m=>{const n=d===""||m.first_name.toLowerCase().includes(d.toLowerCase())||m.last_name.toLowerCase().includes(d.toLowerCase())||m.email.toLowerCase().includes(d.toLowerCase()),S=u==="all"||m.role===u,w=P||m.total_activities>0;return n&&S&&w}),$=m=>f==="all"?m:m.filter(n=>n.action===f),x=m=>{const n=new Set(C);n.has(m)?n.delete(m):n.add(m),y(n)},E=m=>{switch(m){case"INSERT":case"CREATE":return"bg-green-100 text-green-800 border-green-200";case"UPDATE":return"bg-blue-100 text-blue-800 border-blue-200";case"DELETE":return"bg-red-100 text-red-800 border-red-200";case"LOGIN":return"bg-purple-100 text-purple-800 border-purple-200";case"LOGOUT":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},O=m=>new Date(m).toLocaleString(),Z=m=>{if(!m.record_id||m.action==="LOGIN"||m.action==="LOGOUT")return"";const n=m.table_name.toLowerCase();if(m.action.toLowerCase(),n.includes("user")||n.includes("profile"))return"User account";if(n.includes("order"))return"Order record";if(n.includes("inventory"))return"Inventory item";if(n.includes("warehouse")){if(m.new_values)try{const S=typeof m.new_values=="string"?JSON.parse(m.new_values):m.new_values,w=[];return S.total_weight&&w.push(`${S.total_weight}kg`),S.fish_type&&w.push(S.fish_type),S.condition&&w.push(`(${S.condition})`),S.entry_code&&w.push(`[${S.entry_code}]`),w.length>0?w.join(" "):"Warehouse entry record"}catch{return"Warehouse entry record"}return"Warehouse entry record"}else return n.includes("dispatch")?"Dispatch record":n.includes("outlet")?"Outlet record":n.includes("disposal")?"Disposal record":n.includes("transfer")?"Transfer record":n.includes("processing")?"Processing record":n.includes("sorting")?"Sorting record":`${n.replace("_"," ")} record`},D=m=>{const n=m.table_name.toLowerCase(),S=m.action.toLowerCase();if(S==="login")return"Logged into the system";if(S==="logout")return"Logged out of the system";if(S==="insert"||S==="create"){if(n.includes("user")||n.includes("profile"))return"Created new user account";if(n.includes("order"))return"Created new order";if(n.includes("inventory"))return"Added inventory item";if(n.includes("warehouse")){if(m.new_values)try{const w=typeof m.new_values=="string"?JSON.parse(m.new_values):m.new_values;if(w.fish_type&&w.total_weight)return`Created new warehouse entry: ${w.fish_type} (${w.total_weight}kg)`}catch{}return"Created new warehouse entry"}else return n.includes("dispatch")?"Created dispatch record":n.includes("outlet")?"Created outlet record":n.includes("disposal")?"Created disposal record":n.includes("transfer")?"Created transfer record":n.includes("processing")?"Created processing record":n.includes("sorting")?"Created sorting record":`Created new ${n.replace("_"," ")} record`}else if(S==="update"){if(n.includes("user")||n.includes("profile"))return"Updated user account";if(n.includes("order"))return"Updated order details";if(n.includes("inventory"))return"Updated inventory item";if(n.includes("warehouse")){if(m.new_values)try{const w=typeof m.new_values=="string"?JSON.parse(m.new_values):m.new_values;if(w.fish_type&&w.total_weight)return`Updated warehouse entry: ${w.fish_type} (${w.total_weight}kg)`}catch{}return"Updated warehouse entry details"}else return n.includes("dispatch")?"Updated dispatch record":n.includes("outlet")?"Updated outlet record":n.includes("disposal")?"Updated disposal record":n.includes("transfer")?"Updated transfer record":n.includes("processing")?"Updated processing record":n.includes("sorting")?"Updated sorting record":`Updated ${n.replace("_"," ")} record`}else return S==="delete"?n.includes("user")||n.includes("profile")?"Deleted user account":n.includes("order")?"Deleted order":n.includes("inventory")?"Deleted inventory item":n.includes("warehouse")?"Deleted warehouse entry":n.includes("dispatch")?"Deleted dispatch record":n.includes("outlet")?"Deleted outlet record":n.includes("disposal")?"Deleted disposal record":n.includes("transfer")?"Deleted transfer record":n.includes("processing")?"Deleted processing record":n.includes("sorting")?"Deleted sorting record":`Deleted ${n.replace("_"," ")} record`:`Performed ${S} action on ${n.replace("_"," ")}`},te=m=>`${m.first_name.charAt(0)}${m.last_name.charAt(0)}`.toUpperCase();return c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),e.jsx("p",{className:"text-gray-600",children:"Track user activities and system changes"})]}),e.jsxs(A,{onClick:_,variant:"outline",size:"sm",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsx(ee,{children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(T,{placeholder:"Search users...",value:d,onChange:m=>h(m.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:u,onValueChange:p,children:[e.jsx(pe,{children:e.jsx(fe,{placeholder:"Filter by role"})}),e.jsxs(ve,{children:[e.jsx(F,{value:"all",children:"All Roles"}),e.jsx(F,{value:"admin",children:"Admin"}),e.jsx(F,{value:"manager",children:"Manager"}),e.jsx(F,{value:"operator",children:"Operator"}),e.jsx(F,{value:"viewer",children:"Viewer"})]})]}),e.jsxs(ge,{value:f,onValueChange:v,children:[e.jsx(pe,{children:e.jsx(fe,{placeholder:"Filter by action"})}),e.jsxs(ve,{children:[e.jsx(F,{value:"all",children:"All Actions"}),e.jsx(F,{value:"INSERT",children:"Create"}),e.jsx(F,{value:"UPDATE",children:"Update"}),e.jsx(F,{value:"DELETE",children:"Delete"}),e.jsx(F,{value:"LOGIN",children:"Login"}),e.jsx(F,{value:"LOGOUT",children:"Logout"})]})]}),e.jsxs(A,{variant:P?"default":"outline",onClick:()=>L(!P),className:"flex items-center gap-2",children:[P?e.jsx(Xa,{className:"h-4 w-4"}):e.jsx(Ze,{className:"h-4 w-4"}),P?"Hide Inactive":"Show Inactive"]})]})})}),e.jsx("div",{className:"space-y-4",children:I.map(m=>{const n=C.has(m.id),S=$(m.audit_logs);return e.jsx(ee,{className:"overflow-hidden",children:e.jsxs(Na,{open:n,onOpenChange:()=>x(m.id),children:[e.jsx(_a,{asChild:!0,children:e.jsx(de,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:te(m)}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[m.first_name," ",m.last_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:m.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(U,{variant:"outline",className:"text-xs",children:m.role}),e.jsx(U,{variant:m.is_active?"default":"secondary",className:`text-xs ${m.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.is_active?"Active":"Inactive"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.total_activities}),e.jsx("div",{className:"text-sm text-gray-500",children:"Activities"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Last Activity"}),e.jsx("div",{className:"text-sm font-medium",children:m.audit_logs.length>0?O(m.audit_logs[0].created_at):"Never"})]}),n?e.jsx(Ds,{className:"h-5 w-5 text-gray-400"}):e.jsx(la,{className:"h-5 w-5 text-gray-400"})]})]})})}),e.jsx(Sa,{children:e.jsx(se,{className:"pt-0",children:S.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[e.jsx(dt,{className:"h-4 w-4"}),"Showing ",S.length," of ",m.audit_logs.length," activities"]}),S.map(w=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-xs",children:e.jsx(ns,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(U,{className:`text-xs ${E(w.action)}`,children:w.action}),e.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:w.table_name})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:D(w)}),w.record_id&&e.jsx("p",{className:"text-xs text-gray-500",children:Z(w)})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(ca,{className:"h-3 w-3"}),O(w.created_at)]})})]})},w.id))]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ns,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No activities found for this user"}),f!=="all"&&e.jsx("p",{className:"text-sm",children:"Try changing the action filter"})]})})})]})},m.id)})}),I.length===0&&e.jsx(ee,{children:e.jsxs(se,{className:"text-center py-12",children:[e.jsx(Te,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]})})]})}function Nr({onNavigate:a}){const[r,i]=t.useState([]),[c,l]=t.useState([]),[d,h]=t.useState([]),[u,p]=t.useState([]),[f,v]=t.useState([]),[C,y]=t.useState([]),[P,L]=t.useState([]),[_,I]=t.useState({provider:"sendgrid",from_email:"noreply@riofish.com",from_name:"RioFish System",api_key:""}),[$,x]=t.useState(!0),[E,O]=t.useState("users"),[Z,D]=t.useState(!1),[te,m]=t.useState(!1),[n,S]=t.useState(!1),[w,re]=t.useState(!1),[Je,z]=t.useState(!1),[we,He]=t.useState(!1),[Bt,Yt]=t.useState(!1),[Ca,Ke]=t.useState(!1),[Pa,Be]=t.useState(!1),[q,gs]=t.useState(null),[Q,Is]=t.useState(null),[ne,$s]=t.useState(null),[Ye,qs]=t.useState(null),[es,Aa]=t.useState(""),[ps,Ra]=t.useState("all"),[Xt,Gt]=t.useState("all"),[Y,G]=t.useState(null),[W,ye]=t.useState({}),[Me,he]=t.useState({isValid:!0,message:""}),[Ue,be]=t.useState({isValid:!0,message:""}),[Ie,ue]=t.useState({isValid:!0,message:""}),[g,ce]=t.useState({email:"",first_name:"",last_name:"",role:"",phone:"",is_active:!0,password:"",confirm_password:""}),[j,Ne]=t.useState({name:"",display_name:"",description:"",permissions:[],icon:"Shield",color:"bg-gray-100 text-gray-800 border-gray-200",is_active:!0}),ka=async s=>{if(!s||s.length<3){he({isValid:!0,message:""});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){he({isValid:!1,message:"Please enter a valid email address"});return}try{let b=M.from("profiles").select("id").eq("email",s.toLowerCase().trim());q?.id&&(b=b.neq("id",q.id));const{data:R,error:V}=await b;if(V&&V.code!=="PGRST116"){he({isValid:!0,message:""});return}R&&R.length>0?he({isValid:!1,message:"This email is already in use"}):he({isValid:!0,message:"Email is available"})}catch{he({isValid:!0,message:""})}},Ea=async s=>{if(!s||s.length<6){be({isValid:!1,message:"Password must be at least 6 characters long"});return}try{const{data:o,error:b}=await M.from("profiles").select("password_hash").not("password_hash","is",null);if(b){be({isValid:!0,message:""});return}if(o&&o.length>0){const R=await ys(()=>import("./main-C5-62TdP.js").then(V=>V.ao),__vite__mapDeps([0,1]));for(const V of o)if(V.password_hash&&await R.compare(s,V.password_hash)){be({isValid:!1,message:"This password is already in use"});return}}be({isValid:!0,message:"Password is available"})}catch{be({isValid:!0,message:""})}},Da=async s=>{if(!s||s.trim()===""){ue({isValid:!0,message:""});return}if(!/^[\+]?[1-9][\d]{0,15}$/.test(s.replace(/[\s\-\(\)]/g,""))){ue({isValid:!1,message:"Please enter a valid phone number"});return}try{let b=M.from("profiles").select("id").eq("phone",s.trim());q?.id&&(b=b.neq("id",q.id));const{data:R,error:V}=await b;if(V&&V.code!=="PGRST116"){ue({isValid:!0,message:""});return}R&&R.length>0?ue({isValid:!1,message:"This phone number is already in use"}):ue({isValid:!0,message:"Phone number is available"})}catch{ue({isValid:!0,message:""})}},[X,_e]=t.useState({name:"",phone:"",location:"",rating:0,reliability:"fair",status:"active"}),[J,je]=t.useState({name:"",description:"",capacity_kg:1e3,temperature_celsius:4,humidity_percent:85,location_type:"cold_storage",status:"active"}),[K,Se]=t.useState({name:"",location:"",phone:"",manager_name:"",status:"active"}),zs=async()=>{try{const{data:s,error:o}=await M.from("user_roles").select("*").order("name");if(o)throw o;l(s||[])}catch(s){console.warn("Could not fetch roles:",s),l([])}},ss=async()=>{try{const{data:s,error:o}=await M.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(o)console.warn("Could not fetch audit logs:",o),h([]);else{const b=await Promise.all((s||[]).map(async R=>{if(R.user_id)try{const{data:V}=await M.from("profiles").select("first_name, last_name, email").eq("id",R.user_id).single();return{...R,user:V}}catch(V){return console.warn("Could not fetch user for audit log:",V),R}return R}));h(b)}}catch(s){console.warn("Could not fetch audit logs:",s),h([])}},Xe=async(s,o,b,R,V)=>{try{await at.custom(s,o,b,{old_values:R,new_values:V})}catch(ts){console.warn("Failed to log audit event:",ts)}},La=async()=>{I({provider:"sendgrid",from_email:"noreply@riofish.com",from_name:"Rio Fish Management",api_key:""})},as=async()=>{try{console.log("Fetching storage locations...");const{data:s,error:o}=await M.from("storage_locations").select("*").order("name");if(o)throw console.error("Error fetching storage locations:",o),o;console.log("Storage locations fetched successfully:",s),y(s||[])}catch(s){console.error("Could not fetch storage locations:",s),y([])}},Ws=async()=>{try{x(!0);const{data:s,error:o}=await M.from("profiles").select("*").order("created_at",{ascending:!1});if(o)throw o;i(s||[])}catch(s){console.warn("Could not fetch users:",s),i([])}finally{x(!1)}},fs=async()=>{try{const{data:s,error:o}=await M.from("farmers").select("*").order("name");if(o)throw o;v(s||[])}catch(s){console.warn("Could not fetch farmers:",s),v([])}},vs=async()=>{try{console.log("Fetching outlets...");const{data:s,error:o}=await M.from("outlets").select("*").order("name");if(o)throw console.error("Error fetching outlets:",o),o.message.includes('relation "outlets" does not exist')&&(console.warn("Outlets table does not exist. Please run the database setup script."),k.error("Outlets table not found. Please contact administrator.")),o;console.log("Outlets fetched successfully:",s?.length||0,"records"),L(s||[])}catch(s){console.warn("Could not fetch outlets:",s),L([])}};t.useEffect(()=>{zs(),Ws(),fs(),vs(),ss(),La(),as()},[]);const Oa=()=>{const s={};return j.name.trim()?j.name.trim().length<2?s.name="Role name must be at least 2 characters":j.name.trim().length>50?s.name="Role name must be less than 50 characters":/^[a-zA-Z0-9_\s-]+$/.test(j.name.trim())||(s.name="Role name can only contain letters, numbers, spaces, hyphens, and underscores"):s.name="Role name is required",j.display_name.trim()?j.display_name.trim().length<2?s.display_name="Display name must be at least 2 characters":j.display_name.trim().length>100&&(s.display_name="Display name must be less than 100 characters"):s.display_name="Display name is required",j.description.trim().length>500&&(s.description="Description must be less than 500 characters"),!Array.isArray(j.permissions)||j.permissions.length===0?s.permissions="At least one permission must be selected":j.permissions.length>50&&(s.permissions="Too many permissions selected (maximum 50)"),ye(s),Object.keys(s).length===0},Ta=async()=>{try{if(G("saving-role"),!Oa())return;const s=j.name.toLowerCase().trim().replace(/\s+/g,"_");if(Q){if(s!==Q.name){const{data:R,error:V}=await M.from("user_roles").select("id").eq("name",s).neq("id",Q.id).single();if(V&&V.code!=="PGRST116")throw V;if(R){k.error("Role name already exists",{description:"Please choose a different name for the role"});return}}const o=[...new Set(j.permissions)],{error:b}=await M.from("user_roles").update({...j,name:s,permissions:o}).eq("id",Q.id);if(b)throw b;k.success("Role updated successfully")}else{const{data:o,error:b}=await M.from("user_roles").select("id").eq("name",s).single();if(b&&b.code!=="PGRST116")throw b;if(o){k.error("Role name already exists",{description:"Please choose a different name for the role"});return}const R=[...new Set(j.permissions)],{error:V}=await M.from("user_roles").insert([{...j,name:s,permissions:R}]);if(V){if(V.code==="23505"){k.error("Role name already exists",{description:"Please choose a different name for the role"});return}throw V}k.success("Role created successfully")}re(!1),Is(null),Ne({name:"",display_name:"",description:"",permissions:[],icon:"Shield",color:"bg-gray-100 text-gray-800 border-gray-200",is_active:!0}),ye({}),zs()}catch(s){k.error(`Role operation failed: ${s.message}`)}finally{G(null)}},Fa=async()=>{try{if(G("saving-user"),!g.email||!g.first_name||!g.last_name){k.error("Please fill in all required fields");return}if(!Me.isValid){k.error("Please fix email validation errors");return}if(!Ie.isValid){k.error("Please fix phone number validation errors");return}if(!q){if(!g.password||g.password.length<6){k.error("Password must be at least 6 characters long");return}if(!Ue.isValid){k.error("Please fix password validation errors");return}if(g.password!==g.confirm_password){k.error("Passwords do not match");return}}if(!q?.id){const{data:s,error:o}=await M.from("profiles").select("id, email").eq("email",g.email.toLowerCase().trim());if(o&&o.code!=="PGRST116")throw o;if(s&&s.length>0){k.error("Email already exists",{description:"Please choose a different email address"});return}}if(!q?.id&&g.phone&&g.phone.trim()!==""){const{data:s,error:o}=await M.from("profiles").select("id, phone").eq("phone",g.phone.trim());if(o&&o.code!=="PGRST116")throw o;if(s&&s.length>0){k.error("Phone number already exists",{description:"Please choose a different phone number"});return}}if(!q){const{data:s,error:o}=await M.from("profiles").select("id, password_hash").not("password_hash","is",null);if(o)throw o;if(s&&s.length>0){const b=await ys(()=>import("./main-C5-62TdP.js").then(R=>R.ao),__vite__mapDeps([0,1]));for(const R of s)if(R.password_hash&&await b.compare(g.password,R.password_hash)){k.error("Password already in use",{description:"Please choose a different password for security reasons"});return}}}if(q){const s={email:q.email,first_name:q.first_name,last_name:q.last_name,role:q.role,phone:q.phone,is_active:q.is_active},o={email:g.email,first_name:g.first_name,last_name:g.last_name,role:g.role,phone:g.phone,is_active:g.is_active},{error:b}=await M.from("profiles").update(o).eq("id",q.id);if(b)throw b;await Xe("UPDATE","profiles",q.id,s,o),k.success("User updated successfully")}else{const o=await(await ys(()=>import("./main-C5-62TdP.js").then(ts=>ts.ao),__vite__mapDeps([0,1]))).hash(g.password,10),b={email:g.email.toLowerCase().trim(),password_hash:o,first_name:g.first_name.trim(),last_name:g.last_name.trim(),role:g.role,phone:g.phone?.trim()||null,is_active:g.is_active},{data:R,error:V}=await M.from("profiles").insert([b]).select().single();if(V){if(V.code==="23505"){k.error("Email already exists",{description:"Please choose a different email address"});return}throw V}await Xe("INSERT","profiles",R.id,null,b),k.success("User created successfully")}D(!1),gs(null),ce({email:"",first_name:"",last_name:"",role:"",phone:"",is_active:!0,password:"",confirm_password:""}),he({isValid:!0,message:""}),be({isValid:!0,message:""}),ue({isValid:!0,message:""}),Ws(),ss()}catch(s){k.error(`User operation failed: ${s.message}`)}finally{G(null)}},Va=async()=>{try{if(G("saving-farmer"),!X.name||!X.phone||!X.location){k.error("Please fill in all required fields");return}if(ne){const s={name:ne.name,phone:ne.phone,location:ne.location,rating:ne.rating,reliability:ne.reliability,status:ne.status},{error:o}=await M.from("farmers").update(X).eq("id",ne.id);if(o)throw o;await Xe("UPDATE","farmers",ne.id,s,X),k.success("Farmer updated successfully")}else{const{data:s,error:o}=await M.from("farmers").insert([X]).select().single();if(o)throw o;await Xe("INSERT","farmers",s.id,null,X),k.success("Farmer created successfully")}He(!1),$s(null),_e({name:"",phone:"",location:"",rating:0,reliability:"fair",status:"active"}),fs(),ss()}catch(s){k.error(`Farmer operation failed: ${s.message}`)}finally{G(null)}},Ma=async s=>{if(confirm("Are you sure you want to delete this farmer?"))try{G("deleting-farmer");const o=f.find(R=>R.id===s),{error:b}=await M.from("farmers").delete().eq("id",s);if(b)throw b;o&&await Xe("DELETE","farmers",s,o,null),k.success("Farmer deleted successfully"),fs(),ss()}catch(o){k.error(`Failed to delete farmer: ${o.message}`)}finally{G(null)}},Ua=async()=>{try{G("saving-storage");const{error:s}=await M.from("storage_locations").insert([J]);if(s)throw s;k.success("Storage location created successfully"),Ke(!1),je({name:"",description:"",capacity_kg:1e3,temperature_celsius:4,humidity_percent:85,location_type:"cold_storage",status:"active"}),as()}catch(s){k.error(`Storage location creation failed: ${s.message}`)}finally{G(null)}},Ia=async(s,o)=>{try{G(`toggle-storage-${s}`);const b=o==="active"?"inactive":"active",{error:R}=await M.from("storage_locations").update({status:b,updated_at:new Date().toISOString()}).eq("id",s);if(R)throw R;k.success(`Storage location marked as ${b}`),as()}catch(b){k.error(`Failed to update storage status: ${b.message}`)}finally{G(null)}},$a=async()=>{try{G("saving-outlet");const s={name:K.name,location:K.location,phone:K.phone,manager_name:K.manager_name||null,status:K.status};if(console.log("Submitting outlet data:",s),Ye){const{error:o}=await M.from("outlets").update(s).eq("id",Ye.id);if(o)throw console.error("Update outlet error:",o),o;k.success("Outlet updated successfully")}else{const{error:o}=await M.from("outlets").insert([s]);if(o)throw console.error("Create outlet error:",o),o;k.success("Outlet created successfully")}Be(!1),qs(null),Se({name:"",location:"",phone:"",manager_name:"",status:"active"}),vs()}catch(s){k.error(`Outlet operation failed: ${s.message}`)}finally{G(null)}},qa=async s=>{if(confirm("Are you sure you want to delete this outlet?"))try{G("deleting-outlet");const{error:o}=await M.from("outlets").delete().eq("id",s);if(o)throw o;k.success("Outlet deleted successfully"),vs()}catch(o){k.error(`Failed to delete outlet: ${o.message}`)}finally{G(null)}},Hs=r.filter(s=>{const o=s.first_name.toLowerCase().includes(es.toLowerCase())||s.last_name.toLowerCase().includes(es.toLowerCase())||s.email.toLowerCase().includes(es.toLowerCase()),b=ps==="all"||s.role===ps;return o&&b}),za=s=>({Shield:ae,Crown:hs,Package:ls,Building:Ja,Eye:Ze,Tractor:Fe,Warehouse:Oe})[s]||ae;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 content-container",children:e.jsxs("div",{className:"space-y-8 responsive-padding max-w-7xl mx-auto",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(Te,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"User Management"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Comprehensive user, role, and system administration"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium",children:"System Active"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:[r.length," Users"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:[f.length," Farmers"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(A,{onClick:()=>z(!0),variant:"secondary",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",children:[e.jsx(oa,{className:"h-4 w-4 mr-2"}),"Email Config"]})})]})}),e.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),e.jsx("div",{className:"absolute -bottom-8 -left-8 w-32 h-32 bg-white/5 rounded-full blur-2xl"})]}),e.jsxs(et,{value:E,onValueChange:O,className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs(st,{className:"flex w-full bg-gradient-to-r from-gray-50 to-gray-100 p-1 h-auto overflow-x-auto",children:[e.jsxs(Ce,{value:"users",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 data-[state=active]:bg-blue-600 transition-colors duration-200",children:e.jsx(Te,{className:"h-5 w-5 data-[state=active]:text-white text-blue-600"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Users"}),e.jsx("span",{className:"text-xs text-gray-500",children:r.length})]})]}),e.jsxs(Ce,{value:"farmers",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-green-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 data-[state=active]:bg-green-600 transition-colors duration-200",children:e.jsx(Fe,{className:"h-5 w-5 data-[state=active]:text-white text-green-600"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Farmers"}),e.jsx("span",{className:"text-xs text-gray-500",children:f.length})]})]}),e.jsxs(Ce,{value:"storage",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-purple-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 data-[state=active]:bg-purple-600 transition-colors duration-200",children:e.jsx(Oe,{className:"h-5 w-5 data-[state=active]:text-white text-purple-600"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Storage"}),e.jsx("span",{className:"text-xs text-gray-500",children:C.length})]})]}),e.jsxs(Ce,{value:"roles",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-orange-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-100 data-[state=active]:bg-orange-600 transition-colors duration-200",children:e.jsx(ae,{className:"h-5 w-5 data-[state=active]:text-white text-orange-600"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Roles"}),e.jsx("span",{className:"text-xs text-gray-500",children:c.length})]})]}),e.jsxs(Ce,{value:"frontend",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-indigo-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[e.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 data-[state=active]:bg-indigo-600 transition-colors duration-200",children:e.jsx(Ze,{className:"h-5 w-5 data-[state=active]:text-white text-indigo-600"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Public View"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Config"})]})]}),e.jsxs(Ce,{value:"audit",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-red-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-100 data-[state=active]:bg-red-600 transition-colors duration-200",children:e.jsx(ns,{className:"h-5 w-5 data-[state=active]:text-white text-red-600"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Audit Logs"}),e.jsx("span",{className:"text-xs text-gray-500",children:d.length})]})]}),e.jsxs(Ce,{value:"outlets",className:"flex items-center gap-3 px-6 py-4 font-medium data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-purple-600 transition-all duration-200 hover:bg-white/50 rounded-xl whitespace-nowrap",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 data-[state=active]:bg-purple-600 transition-colors duration-200",children:e.jsx(_s,{className:"h-5 w-5 data-[state=active]:text-white text-purple-600"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Outlets"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.length})]})]})]})}),e.jsx(Pe,{value:"users",className:"space-y-6",children:e.jsxs(ee,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(de,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(Te,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs(xe,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["User Management",e.jsxs(U,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:[Hs.length," Active"]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage system users and their permissions"})]})]}),e.jsxs(A,{onClick:()=>{gs(null),ce({email:"",first_name:"",last_name:"",role:"",phone:"",is_active:!0,password:"",confirm_password:""}),he({isValid:!0,message:""}),be({isValid:!0,message:""}),ue({isValid:!0,message:""}),D(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),e.jsxs(se,{className:"p-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(T,{placeholder:"Search users by name or email...",value:es,onChange:s=>Aa(s.target.value),className:"pl-10 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})}),e.jsxs(ge,{value:ps,onValueChange:Ra,children:[e.jsxs(pe,{className:"w-full sm:w-[200px] bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:[e.jsx(Za,{className:"mr-2 h-4 w-4"}),e.jsx(fe,{placeholder:"Filter by role"})]}),e.jsxs(ve,{children:[e.jsx(F,{value:"all",children:"All Roles"}),c.filter(s=>s.name&&s.name.trim()!=="").map(s=>e.jsx(F,{value:s.name,children:s.display_name||s.name},s.id))]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"mobile-table-container",children:e.jsxs(bs,{className:"mobile-table",children:[e.jsx(js,{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs($e,{className:"border-b border-gray-200",children:[e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"User"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Contact"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Role"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Status"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Last Login"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4 text-center",children:"Actions"})]})}),e.jsx(ws,{children:Hs.map((s,o)=>e.jsxs($e,{className:`hover:bg-blue-50/50 transition-colors duration-200 border-b border-gray-100 ${o%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:[s.first_name.charAt(0),s.last_name.charAt(0)]}),e.jsx("div",{children:e.jsxs("div",{className:"font-semibold text-gray-900",children:[s.first_name," ",s.last_name]})})]})}),e.jsxs(B,{className:"py-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ss,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:s.phone})]})]}),e.jsx(B,{className:"py-4",children:e.jsx(U,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 font-medium",children:s.role.replace("_"," ")})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.is_active?"bg-green-500":"bg-gray-400"}`}),e.jsx(U,{variant:s.is_active?"default":"secondary",className:s.is_active?"bg-green-100 text-green-700 border-green-200":"",children:s.is_active?"Active":"Inactive"})]})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.last_login?new Date(s.last_login).toLocaleDateString():"Never"})]})}),e.jsx(B,{className:"py-4",children:e.jsx("div",{className:"flex justify-center gap-2",children:e.jsx(A,{size:"sm",variant:"outline",className:"hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 transition-all duration-200",onClick:()=>{gs(s),ce({email:s.email,first_name:s.first_name,last_name:s.last_name,role:s.role,phone:s.phone||"",is_active:s.is_active,password:"",confirm_password:""}),he({isValid:!0,message:""}),be({isValid:!0,message:""}),ue({isValid:!0,message:""}),D(!0)},children:e.jsx(is,{className:"h-4 w-4"})})})})]},s.id))})]})})})]})]})}),e.jsx(Pe,{value:"farmers",className:"space-y-6",children:e.jsxs(ee,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(de,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(Fe,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsxs(xe,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Farmer Management",e.jsxs(U,{variant:"secondary",className:"bg-green-100 text-green-700 border-green-200",children:[f.length," Registered"]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage farmer profiles and relationships"})]})]}),e.jsxs(A,{onClick:()=>He(!0),className:"bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Add Farmer"]})]})}),e.jsx(se,{className:"p-6",children:e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"mobile-table-container",children:e.jsxs(bs,{className:"mobile-table",children:[e.jsx(js,{className:"bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsxs($e,{className:"border-b border-green-100",children:[e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Farmer"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Contact"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Location"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Rating"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Reliability"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Status"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4 text-center",children:"Actions"})]})}),e.jsx(ws,{children:f.map((s,o)=>e.jsxs($e,{className:`hover:bg-green-50/50 transition-colors duration-200 border-b border-gray-100 ${o%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:s.name.charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"font-semibold text-gray-900",children:s.name})})]})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:s.phone})]})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:s.location})]})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((b,R)=>e.jsx("div",{className:`w-4 h-4 ${R<s.rating?"text-yellow-400":"text-gray-300"}`,children:"★"},R))}),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",s.rating,"/5)"]})]})}),e.jsx(B,{className:"py-4",children:e.jsx(U,{variant:"outline",className:`font-medium ${s.reliability==="excellent"?"bg-green-100 text-green-700 border-green-200":s.reliability==="good"?"bg-blue-100 text-blue-700 border-blue-200":s.reliability==="fair"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-red-100 text-red-700 border-red-200"}`,children:s.reliability})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.status==="active"?"bg-green-500":"bg-gray-400"}`}),e.jsx(U,{variant:s.status==="active"?"default":"secondary",className:s.status==="active"?"bg-green-100 text-green-700 border-green-200":"",children:s.status})]})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",className:"hover:bg-green-50 hover:border-green-300 hover:text-green-700 transition-all duration-200",onClick:()=>{$s(s),_e({name:s.name,phone:s.phone,location:s.location,rating:s.rating,reliability:s.reliability,status:s.status}),He(!0)},children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx(A,{size:"sm",variant:"outline",className:"hover:bg-red-50 hover:border-red-300 hover:text-red-700 transition-all duration-200",onClick:()=>Ma(s.id),disabled:Y==="deleting-farmer",children:e.jsx(le,{className:"h-4 w-4"})})]})})]},s.id))})]})})})})]})}),e.jsx(Pe,{value:"storage",className:"space-y-6",children:e.jsxs(ee,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(de,{className:"bg-gradient-to-r from-purple-50 to-violet-50 border-b border-purple-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(Oe,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsxs(xe,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Storage Management",e.jsxs(U,{variant:"secondary",className:"bg-purple-100 text-purple-700 border-purple-200",children:[C.length," Locations"]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor storage capacity and conditions"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{onClick:as,variant:"outline",className:"border-purple-200 text-purple-700 hover:bg-purple-50",children:[e.jsx(Js,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(A,{onClick:()=>Ke(!0),className:"bg-purple-600 hover:bg-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Add Location"]})]})]})}),e.jsx(se,{className:"p-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:C.map(s=>e.jsxs(ee,{className:"hover:shadow-lg transition-all duration-200 border border-gray-200 bg-white",children:[e.jsx(de,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(xe,{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx(U,{variant:s.status==="active"?"default":"secondary",className:s.status==="active"?"bg-green-100 text-green-700 border-green-200":"",children:s.status})]})}),e.jsx(se,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Type:"}),e.jsx("span",{className:"font-medium capitalize",children:s.location_type.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Capacity:"}),e.jsxs("span",{className:"font-medium",children:[s.current_usage_kg,"/",s.capacity_kg," kg"]})]}),s.temperature_celsius&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Temperature:"}),e.jsxs("span",{className:"font-medium",children:[s.temperature_celsius,"°C"]})]}),s.humidity_percent&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Humidity:"}),e.jsxs("span",{className:"font-medium",children:[s.humidity_percent,"%"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[Math.round(s.current_usage_kg/s.capacity_kg*100),"% occupied"]}),e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsx(A,{size:"sm",variant:s.status==="active"?"destructive":"default",className:`w-full text-xs ${s.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200 border-red-200":"bg-green-100 text-green-700 hover:bg-green-200 border-green-200"}`,onClick:()=>Ia(s.id,s.status),disabled:Y===`toggle-storage-${s.id}`,children:Y===`toggle-storage-${s.id}`?"Updating...":s.status==="active"?"Mark Inactive":"Mark Active"})})]})})]},s.id))})})]})}),e.jsxs(Pe,{value:"roles",className:"space-y-6",children:[e.jsxs(ee,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(de,{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b border-orange-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(ae,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsxs(xe,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Role Management",e.jsxs(U,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[c.length," Roles"]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Define user roles and permissions"})]})]}),e.jsxs(A,{onClick:()=>re(!0),className:"bg-orange-600 hover:bg-orange-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})}),e.jsx(se,{className:"p-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(s=>{const o=za(s.icon);return e.jsxs(ee,{className:"hover:shadow-lg transition-all duration-200 border border-gray-200 bg-white",children:[e.jsx(de,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(U,{className:`${s.color} px-3 py-1 font-medium`,children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),s.display_name]}),e.jsx("div",{className:"flex gap-1",children:e.jsx(A,{size:"sm",variant:"outline",className:"hover:bg-orange-50 hover:border-orange-300 hover:text-orange-700 transition-all duration-200",onClick:()=>{Is(s),Ne({name:s.name,display_name:s.display_name,description:s.description,permissions:Array.isArray(s.permissions)?s.permissions:typeof s.permissions=="string"?JSON.parse(s.permissions):[],icon:s.icon,color:s.color,is_active:s.is_active}),re(!0)},children:e.jsx(is,{className:"h-4 w-4"})})})]})}),e.jsxs(se,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Permissions:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[Array.isArray(s.permissions)&&s.permissions.slice(0,3).map((b,R)=>e.jsx(U,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:b},R)),Array.isArray(s.permissions)&&s.permissions.length>3&&e.jsxs(U,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",s.permissions.length-3," more"]})]})]})]})]},s.id)})})})]}),Q&&e.jsxs(ee,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(de,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(ae,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsxs(xe,{className:"text-2xl font-bold text-gray-900",children:["Permissions for: ",Q.display_name]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View permissions assigned to this role"})]})]})}),e.jsx(se,{className:"p-6",children:e.jsx(Wt,{className:"border-0 shadow-none bg-transparent"})})]})]}),e.jsx(Pe,{value:"frontend",className:"space-y-6",children:e.jsxs(ee,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(de,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b border-indigo-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:e.jsx(Ze,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-2xl font-bold text-gray-900",children:"Public View Configuration"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Configure public-facing settings and appearance"})]})]})}),e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Ys,{className:"border-indigo-200 bg-indigo-50",children:[e.jsx(xt,{className:"h-4 w-4 text-indigo-600"}),e.jsx(Xs,{className:"text-indigo-800",children:"Configure public-facing settings and frontend appearance."})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"site_name",className:"text-sm font-medium text-gray-700",children:"Site Name"}),e.jsx(T,{id:"site_name",placeholder:"Rio Fish Management",className:"mt-1 border-gray-200 focus:border-indigo-500 focus:ring-indigo-500/20"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"site_description",className:"text-sm font-medium text-gray-700",children:"Site Description"}),e.jsx(Ns,{id:"site_description",placeholder:"Professional fish management system",className:"mt-1 border-gray-200 focus:border-indigo-500 focus:ring-indigo-500/20"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"contact_email",className:"text-sm font-medium text-gray-700",children:"Contact Email"}),e.jsx(T,{id:"contact_email",type:"email",placeholder:"contact@riofish.com",className:"mt-1 border-gray-200 focus:border-indigo-500 focus:ring-indigo-500/20"})]})]}),e.jsx(A,{className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:"Save Configuration"})]})})]})}),e.jsx(Pe,{value:"audit",className:"space-y-6",children:e.jsx(Ht,{onNavigate:a})}),e.jsx(Pe,{value:"outlets",className:"space-y-6",children:e.jsxs(ee,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(de,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-b border-purple-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(_s,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsxs(xe,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Outlet Management",e.jsxs(U,{variant:"secondary",className:"bg-purple-100 text-purple-700 border-purple-200",children:[P.length," Outlets"]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage retail outlets and distribution partners"})]})]}),e.jsxs(A,{onClick:()=>Be(!0),className:"bg-purple-600 hover:bg-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Add Outlet"]})]})}),e.jsx(se,{className:"p-6",children:e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs(bs,{children:[e.jsx(js,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:e.jsxs($e,{className:"border-b border-purple-100",children:[e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Outlet Name"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Location"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Contact"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Status"}),e.jsx(H,{className:"font-semibold text-gray-700 py-4",children:"Actions"})]})}),e.jsx(ws,{children:P.map((s,o)=>e.jsxs($e,{className:`hover:bg-purple-50/50 transition-colors duration-200 border-b border-gray-100 ${o%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.name}),s.manager_name&&e.jsx("div",{className:"text-sm text-gray-500",children:s.manager_name})]})]})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:s.location})]})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:s.phone})]})}),e.jsx(B,{className:"py-4",children:e.jsx(U,{className:`${s.status==="active"?"bg-green-100 text-green-800 border-green-200":s.status==="inactive"?"bg-gray-100 text-gray-800 border-gray-200":"bg-red-100 text-red-800 border-red-200"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),e.jsx(B,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",onClick:()=>{qs(s),Se({name:s.name,location:s.location,phone:s.phone,manager_name:s.manager_name||"",status:s.status}),Be(!0)},className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx(A,{size:"sm",variant:"outline",onClick:()=>qa(s.id),className:"border-red-200 text-red-700 hover:bg-red-50",children:e.jsx(le,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})})]}),e.jsx(Ae,{open:Z,onOpenChange:D,children:e.jsxs(Re,{className:"max-w-2xl",children:[e.jsxs(ke,{children:[e.jsx(Ee,{className:"text-xl font-semibold text-gray-900",children:q?"Edit User":"Add New User"}),e.jsx(De,{className:"text-gray-600",children:q?"Update user information":"Create a new user account with a secure password"})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),Fa()},className:"space-y-6",children:[!q&&e.jsxs(Ys,{className:"border-blue-200 bg-blue-50",children:[e.jsx(Qa,{className:"h-4 w-4 text-blue-600"}),e.jsx(Xs,{className:"text-blue-800",children:"Password must be at least 6 characters long. The user will use this password to log in."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"first_name",className:"text-sm font-medium text-gray-700",children:"First Name *"}),e.jsx(T,{id:"first_name",value:g.first_name,onChange:s=>ce({...g,first_name:s.target.value}),required:!0,className:"w-full",placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"last_name",className:"text-sm font-medium text-gray-700",children:"Last Name *"}),e.jsx(T,{id:"last_name",value:g.last_name,onChange:s=>ce({...g,last_name:s.target.value}),required:!0,className:"w-full",placeholder:"Enter last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address *"}),e.jsx(T,{id:"email",type:"email",value:g.email,onChange:s=>{ce({...g,email:s.target.value}),ka(s.target.value)},required:!0,className:`w-full ${Me.isValid?Me.message==="Email is available"?"border-green-300 focus:border-green-500":"":"border-red-300 focus:border-red-500"}`,placeholder:"user@example.com"}),Me.message&&e.jsx("p",{className:`text-xs ${Me.isValid?"text-green-600":"text-red-600"}`,children:Me.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Role *"}),e.jsxs(ge,{value:g.role,onValueChange:s=>ce({...g,role:s}),children:[e.jsx(pe,{className:"w-full",children:e.jsx(fe,{placeholder:"Select a role"})}),e.jsx(ve,{children:c.filter(s=>s.name&&s.name.trim()!=="").map(s=>e.jsx(F,{value:s.name,children:s.display_name||s.name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx(T,{id:"phone",value:g.phone,onChange:s=>{ce({...g,phone:s.target.value}),Da(s.target.value)},className:`w-full ${Ie.isValid?Ie.message==="Phone number is available"?"border-green-300 focus:border-green-500":"":"border-red-300 focus:border-red-500"}`,placeholder:"+254 700 000 000"}),Ie.message&&e.jsx("p",{className:`text-xs ${Ie.isValid?"text-green-600":"text-red-600"}`,children:Ie.message})]}),!q&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),e.jsx(T,{id:"password",type:"password",value:g.password,onChange:s=>{ce({...g,password:s.target.value}),Ea(s.target.value)},required:!0,className:`w-full ${Ue.isValid?Ue.message==="Password is available"?"border-green-300 focus:border-green-500":"":"border-red-300 focus:border-red-500"}`,placeholder:"Enter a secure password"}),Ue.message&&e.jsx("p",{className:`text-xs ${Ue.isValid?"text-green-600":"text-red-600"}`,children:Ue.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"confirm_password",className:"text-sm font-medium text-gray-700",children:"Confirm Password *"}),e.jsx(T,{id:"confirm_password",type:"password",value:g.confirm_password,onChange:s=>ce({...g,confirm_password:s.target.value}),required:!0,className:`w-full ${g.confirm_password&&g.password!==g.confirm_password?"border-red-300 focus:border-red-500":g.confirm_password&&g.password===g.confirm_password?"border-green-300 focus:border-green-500":""}`,placeholder:"Confirm the password"}),g.confirm_password&&e.jsx("p",{className:`text-xs ${g.password===g.confirm_password?"text-green-600":"text-red-600"}`,children:g.password===g.confirm_password?"Passwords match":"Passwords do not match"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:g.is_active,onChange:s=>ce({...g,is_active:s.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx(N,{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"User is active"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>D(!1),className:"px-6",children:"Cancel"}),e.jsx(A,{type:"submit",disabled:Y==="saving-user",className:"px-6 bg-blue-600 hover:bg-blue-700",children:Y==="saving-user"?"Saving...":q?"Update User":"Create User"})]})]})]})}),e.jsx(Ae,{open:w,onOpenChange:s=>{re(s),s||ye({})},children:e.jsxs(Re,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx(ke,{className:"pb-6 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-sm",children:e.jsx(ae,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(Ee,{className:"text-xl font-semibold text-gray-900",children:Q?"Edit Role":"Create New Role"}),e.jsx(De,{className:"text-gray-600 mt-1",children:Q?"Update role information and permissions":"Define a new role with specific permissions and access levels"})]})]})}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),Ta()},className:"flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{htmlFor:"name",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Role Name *"]}),e.jsx(T,{id:"name",value:j.name,onChange:s=>{Ne({...j,name:s.target.value}),W.name&&ye({...W,name:""})},className:`transition-all duration-200 ${W.name?"border-red-400 focus:border-red-500 focus:ring-red-500/20 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 hover:border-gray-300"} ${Q?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"e.g., warehouse_manager",maxLength:50,required:!0,disabled:!!Q}),W.name&&e.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[e.jsx(rs,{className:"h-3 w-3"}),W.name]}),e.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:Q?"Role name cannot be changed after creation":"Internal identifier (lowercase, no spaces)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{htmlFor:"display_name",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Display Name *"]}),e.jsx(T,{id:"display_name",value:j.display_name,onChange:s=>{Ne({...j,display_name:s.target.value}),W.display_name&&ye({...W,display_name:""})},className:`transition-all duration-200 ${W.display_name?"border-red-400 focus:border-red-500 focus:ring-red-500/20 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 hover:border-gray-300"} ${Q?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"e.g., Warehouse Manager",maxLength:100,required:!0,disabled:!!Q}),W.display_name&&e.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[e.jsx(rs,{className:"h-3 w-3"}),W.display_name]}),e.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:Q?"Display name cannot be changed after creation":"User-friendly name shown in the interface"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{htmlFor:"description",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Description"]}),e.jsx(Ns,{id:"description",value:j.description,onChange:s=>{Ne({...j,description:s.target.value}),W.description&&ye({...W,description:""})},className:`transition-all duration-200 resize-none ${W.description?"border-red-400 focus:border-red-500 focus:ring-red-500/20 bg-red-50":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 hover:border-gray-300"}`,placeholder:"Describe the role's responsibilities and scope...",maxLength:500,rows:3}),W.description&&e.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[e.jsx(rs,{className:"h-3 w-3"}),W.description]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:"Optional description of the role's purpose"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${j.description.length>450?"text-orange-600 bg-orange-50":"text-gray-500 bg-gray-50"}`,children:[j.description.length,"/500"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 hover:shadow-sm transition-all duration-200",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:j.is_active,onChange:s=>Ne({...j,is_active:s.target.checked}),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(N,{htmlFor:"is_active",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Active Role"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Inactive roles cannot be assigned to users"})]}),e.jsx("div",{className:`p-2 rounded-full transition-all duration-200 ${j.is_active?"bg-green-100 shadow-sm":"bg-gray-200"}`,children:j.is_active?e.jsx(os,{className:"h-5 w-5 text-green-600"}):e.jsx(Ks,{className:"h-5 w-5 text-gray-400"})})]})]}),j.is_active&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{htmlFor:"permissions",className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Select Permissions *"]}),e.jsx("div",{className:`border-2 rounded-xl p-5 transition-all duration-200 ${W.permissions?"border-red-300 bg-red-50":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:e.jsx("div",{className:"min-h-[60px] flex items-center",children:e.jsx(qt,{selectedPermissions:j.permissions,onPermissionsChange:s=>{Ne({...j,permissions:s}),W.permissions&&ye({...W,permissions:""})},className:"w-full"})})}),W.permissions?e.jsxs("p",{className:"text-red-600 text-xs flex items-center gap-1.5 font-medium",children:[e.jsx(rs,{className:"h-3 w-3"}),W.permissions]}):e.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:'Choose the specific permissions this role should have. Use "All Permissions" for full admin access.'})]}),Array.isArray(j.permissions)&&j.permissions.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:e.jsx(ae,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Selected Permissions (",(Array.isArray(j.permissions)?j.permissions:[]).length,")"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Array.isArray(j.permissions)?j.permissions:[]).slice(0,8).map(s=>e.jsx(U,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-200 transition-colors duration-200",children:s},s)),(Array.isArray(j.permissions)?j.permissions:[]).length>8&&e.jsxs(U,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 border border-blue-200",children:["+",(Array.isArray(j.permissions)?j.permissions:[]).length-8," more"]})]})]})]}),!j.is_active&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[e.jsx(Ks,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Role is Inactive"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Permissions are not available for inactive roles. Enable the role to configure permissions."})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-200 flex-shrink-0",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>{re(!1),ye({})},className:"px-6 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),e.jsx(A,{type:"submit",disabled:Y==="saving-role",className:"px-6 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:Y==="saving-role"?e.jsxs(e.Fragment,{children:[e.jsx(Js,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),Q?"Update Role":"Create Role"]})})]})]})]})}),e.jsx(Ae,{open:we,onOpenChange:He,children:e.jsxs(Re,{className:"max-w-2xl",children:[e.jsxs(ke,{children:[e.jsx(Ee,{children:ne?"Edit Farmer":"Add New Farmer"}),e.jsx(De,{children:ne?"Update farmer information":"Add a new farmer to the system"})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),Va()},children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"name",children:"Name"}),e.jsx(T,{id:"name",value:X.name,onChange:s=>_e({...X,name:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"phone",children:"Phone"}),e.jsx(T,{id:"phone",value:X.phone,onChange:s=>_e({...X,phone:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"location",children:"Location"}),e.jsx(T,{id:"location",value:X.location,onChange:s=>_e({...X,location:s.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"rating",children:"Rating (0-5)"}),e.jsx(T,{id:"rating",type:"number",min:"0",max:"5",value:X.rating,onChange:s=>_e({...X,rating:parseInt(s.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"reliability",children:"Reliability"}),e.jsxs(ge,{value:X.reliability,onValueChange:s=>_e({...X,reliability:s}),children:[e.jsx(pe,{children:e.jsx(fe,{})}),e.jsxs(ve,{children:[e.jsx(F,{value:"excellent",children:"Excellent"}),e.jsx(F,{value:"good",children:"Good"}),e.jsx(F,{value:"fair",children:"Fair"}),e.jsx(F,{value:"poor",children:"Poor"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>He(!1),children:"Cancel"}),e.jsx(A,{type:"submit",disabled:Y==="saving-farmer",children:Y==="saving-farmer"?"Saving...":ne?"Update":"Create"})]})]})]})}),e.jsx(Ae,{open:Je,onOpenChange:z,children:e.jsxs(Re,{className:"max-w-2xl",children:[e.jsxs(ke,{children:[e.jsxs(Ee,{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ea,{className:"h-5 w-5 text-blue-600"}),"Email Configuration"]}),e.jsx(De,{children:"Configure email settings for notifications and communications"})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault()},children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"provider",className:"text-sm font-medium text-gray-700",children:"Email Provider"}),e.jsxs(ge,{value:_.provider,onValueChange:s=>I({..._,provider:s}),children:[e.jsx(pe,{className:"mt-1",children:e.jsx(fe,{})}),e.jsxs(ve,{children:[e.jsx(F,{value:"sendgrid",children:"SendGrid"}),e.jsx(F,{value:"ses",children:"AWS SES"}),e.jsx(F,{value:"smtp",children:"SMTP"}),e.jsx(F,{value:"resend",children:"Resend"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"from_email",className:"text-sm font-medium text-gray-700",children:"From Email"}),e.jsx(T,{id:"from_email",type:"email",value:_.from_email,onChange:s=>I({..._,from_email:s.target.value}),className:"mt-1",placeholder:"noreply@riofish.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"from_name",className:"text-sm font-medium text-gray-700",children:"From Name"}),e.jsx(T,{id:"from_name",value:_.from_name,onChange:s=>I({..._,from_name:s.target.value}),className:"mt-1",placeholder:"Rio Fish Management",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"api_key",className:"text-sm font-medium text-gray-700",children:"API Key *"}),e.jsx(T,{id:"api_key",name:"api_key",type:"password",autoComplete:"off",value:_.api_key,onChange:s=>I({..._,api_key:s.target.value}),className:"mt-1",disabled:Y==="saving-email-config",placeholder:"Your email service API key",required:!0})]}),_.provider==="smtp"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"smtp_host",className:"text-sm font-medium text-gray-700",children:"SMTP Host"}),e.jsx(T,{id:"smtp_host",value:_.smtp_host||"",onChange:s=>I({..._,smtp_host:s.target.value}),className:"mt-1",placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"smtp_port",className:"text-sm font-medium text-gray-700",children:"SMTP Port"}),e.jsx(T,{id:"smtp_port",type:"number",value:_.smtp_port||"",onChange:s=>I({..._,smtp_port:parseInt(s.target.value)||587}),className:"mt-1",placeholder:"587"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"smtp_username",className:"text-sm font-medium text-gray-700",children:"SMTP Username"}),e.jsx(T,{id:"smtp_username",value:_.smtp_username||"",onChange:s=>I({..._,smtp_username:s.target.value}),className:"mt-1",placeholder:"your-email@gmail.com"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"smtp_pass",className:"text-sm font-medium text-gray-700",children:"SMTP Password"}),e.jsx(T,{id:"smtp_pass",name:"smtp_pass",type:"password",autoComplete:"off",value:_.smtp_pass||"",onChange:s=>I({..._,smtp_pass:s.target.value}),className:"mt-1",disabled:Y==="saving-email-config",placeholder:"your-app-password"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Cancel"}),e.jsx(A,{type:"submit",disabled:Y==="saving-email-config",children:Y==="saving-email-config"?"Saving...":"Save Configuration"})]})]})]})}),e.jsx(Ae,{open:Ca,onOpenChange:Ke,children:e.jsxs(Re,{className:"max-w-2xl",children:[e.jsxs(ke,{children:[e.jsxs(Ee,{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-purple-600"}),"Add New Storage Location"]}),e.jsx(De,{children:"Create a new storage location for fish processing and storage"})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),Ua()},children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"storage_name",className:"text-sm font-medium text-gray-700",children:"Location Name *"}),e.jsx(T,{id:"storage_name",value:J.name,onChange:s=>je({...J,name:s.target.value}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"e.g., Cold Storage A",required:!0})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"storage_type",className:"text-sm font-medium text-gray-700",children:"Location Type *"}),e.jsxs(ge,{value:J.location_type,onValueChange:s=>je({...J,location_type:s}),children:[e.jsx(pe,{className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",children:e.jsx(fe,{})}),e.jsxs(ve,{children:[e.jsx(F,{value:"cold_storage",children:"Cold Storage"}),e.jsx(F,{value:"freezer",children:"Freezer"}),e.jsx(F,{value:"ambient",children:"Ambient"}),e.jsx(F,{value:"processing_area",children:"Processing Area"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"storage_description",className:"text-sm font-medium text-gray-700",children:"Description"}),e.jsx(Ns,{id:"storage_description",value:J.description,onChange:s=>je({...J,description:s.target.value}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"Brief description of this storage location"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"storage_capacity",className:"text-sm font-medium text-gray-700",children:"Capacity (kg) *"}),e.jsx(T,{id:"storage_capacity",type:"number",min:"1",step:"0.01",value:J.capacity_kg,onChange:s=>je({...J,capacity_kg:parseFloat(s.target.value)||0}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",required:!0})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"storage_temperature",className:"text-sm font-medium text-gray-700",children:"Temperature (°C)"}),e.jsx(T,{id:"storage_temperature",type:"number",step:"0.1",value:J.temperature_celsius,onChange:s=>je({...J,temperature_celsius:parseFloat(s.target.value)||0}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"4.0"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"storage_humidity",className:"text-sm font-medium text-gray-700",children:"Humidity (%)"}),e.jsx(T,{id:"storage_humidity",type:"number",min:"0",max:"100",step:"0.1",value:J.humidity_percent,onChange:s=>je({...J,humidity_percent:parseFloat(s.target.value)||0}),className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"85.0"})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"storage_status",className:"text-sm font-medium text-gray-700",children:"Status"}),e.jsxs(ge,{value:J.status,onValueChange:s=>je({...J,status:s}),children:[e.jsx(pe,{className:"mt-1 border-gray-200 focus:border-purple-500 focus:ring-purple-500/20",children:e.jsx(fe,{})}),e.jsxs(ve,{children:[e.jsx(F,{value:"active",children:"Active"}),e.jsx(F,{value:"maintenance",children:"Maintenance"}),e.jsx(F,{value:"inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>Ke(!1),children:"Cancel"}),e.jsx(A,{type:"submit",disabled:Y==="saving-storage",className:"bg-purple-600 hover:bg-purple-700",children:Y==="saving-storage"?"Creating...":"Create Location"})]})]})]})}),e.jsx(Ae,{open:Pa,onOpenChange:Be,children:e.jsxs(Re,{className:"max-w-2xl",children:[e.jsxs(ke,{children:[e.jsxs(Ee,{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(_s,{className:"h-5 w-5 text-purple-600"}),Ye?"Edit Outlet":"Add New Outlet"]}),e.jsx(De,{children:Ye?"Update outlet information":"Create a new retail outlet or distribution partner"})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),$a()},children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"outlet_name",children:"Outlet Name"}),e.jsx(T,{id:"outlet_name",value:K.name,onChange:s=>Se({...K,name:s.target.value}),placeholder:"e.g., Nakuru Fresh Fish Market",required:!0})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"outlet_location",children:"Location"}),e.jsx(T,{id:"outlet_location",value:K.location,onChange:s=>Se({...K,location:s.target.value}),placeholder:"e.g., Nakuru, Kenya",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"outlet_phone",children:"Phone Number"}),e.jsx(T,{id:"outlet_phone",value:K.phone,onChange:s=>Se({...K,phone:s.target.value}),placeholder:"e.g., +254722456789",required:!0})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"outlet_manager_name",children:"Manager Name (Optional)"}),e.jsx(T,{id:"outlet_manager_name",value:K.manager_name,onChange:s=>Se({...K,manager_name:s.target.value}),placeholder:"e.g., John Doe"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"outlet_status",children:"Status"}),e.jsxs(ge,{value:K.status,onValueChange:s=>Se({...K,status:s}),children:[e.jsx(pe,{children:e.jsx(fe,{})}),e.jsxs(ve,{children:[e.jsx(F,{value:"active",children:"Active"}),e.jsx(F,{value:"inactive",children:"Inactive"}),e.jsx(F,{value:"suspended",children:"Suspended"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>Be(!1),children:"Cancel"}),e.jsx(A,{type:"submit",disabled:Y==="saving-outlet",className:"bg-purple-600 hover:bg-purple-700",children:Y==="saving-outlet"?"Saving...":Ye?"Update Outlet":"Create Outlet"})]})]})]})})]})})}export{Nr as default};
